/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/[slug]/page";
exports.ids = ["app/api/[slug]/page"];
exports.modules = {

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5Bslug%5D%2Fpage&page=%2Fapi%2F%5Bslug%5D%2Fpage&appPaths=%2Fapi%2F%5Bslug%5D%2Fpage&pagePath=private-next-app-dir%2Fapi%2F%5Bslug%5D%2Fpage.tsx&appDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5Bslug%5D%2Fpage&page=%2Fapi%2F%5Bslug%5D%2Fpage&appPaths=%2Fapi%2F%5Bslug%5D%2Fpage&pagePath=private-next-app-dir%2Fapi%2F%5Bslug%5D%2Fpage.tsx&appDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?5bc9\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'api',\n        {\n        children: [\n        '[slug]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/api/[slug]/page.tsx */ \"(rsc)/./app/api/[slug]/page.tsx\")), \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/api/[slug]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/api/[slug]/page\",\n        pathname: \"/api/[slug]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkYlNUJzbHVnJTVEJTJGcGFnZSZwYWdlPSUyRmFwaSUyRiU1QnNsdWclNUQlMkZwYWdlJmFwcFBhdGhzPSUyRmFwaSUyRiU1QnNsdWclNUQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGJTVCc2x1ZyU1RCUyRnBhZ2UudHN4JmFwcERpcj1DJTNBJTVDdnMlMjBjb2RlJTIwcHJvamVjdHMlNUNib2lsZXJwbGF0ZSUyMGNvZGUlMjB3ZWJhcHAlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUN2cyUyMGNvZGUlMjBwcm9qZWN0cyU1Q2JvaWxlcnBsYXRlJTIwY29kZSUyMHdlYmFwcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1leHBvcnQmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRztBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLDhKQUE4RztBQUNySTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLDRJQUFtRztBQUM1SCxvQkFBb0IsME5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29kZWJvaWxlci8/MDlkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcGFnZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBXZSBpbmplY3QgdGhlIHRyZWUgYW5kIHBhZ2VzIGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCB0cmVlID0ge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnYXBpJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnW3NsdWddJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcdnMgY29kZSBwcm9qZWN0c1xcXFxib2lsZXJwbGF0ZSBjb2RlIHdlYmFwcFxcXFxhcHBcXFxcYXBpXFxcXFtzbHVnXVxcXFxwYWdlLnRzeFwiKSwgXCJDOlxcXFx2cyBjb2RlIHByb2plY3RzXFxcXGJvaWxlcnBsYXRlIGNvZGUgd2ViYXBwXFxcXGFwcFxcXFxhcGlcXFxcW3NsdWddXFxcXHBhZ2UudHN4XCJdLFxuICAgICAgICAgIFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXHZzIGNvZGUgcHJvamVjdHNcXFxcYm9pbGVycGxhdGUgY29kZSB3ZWJhcHBcXFxcYXBwXFxcXGxheW91dC50c3hcIiksIFwiQzpcXFxcdnMgY29kZSBwcm9qZWN0c1xcXFxib2lsZXJwbGF0ZSBjb2RlIHdlYmFwcFxcXFxhcHBcXFxcbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiQzpcXFxcdnMgY29kZSBwcm9qZWN0c1xcXFxib2lsZXJwbGF0ZSBjb2RlIHdlYmFwcFxcXFxhcHBcXFxcYXBpXFxcXFtzbHVnXVxcXFxwYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9bc2x1Z10vcGFnZVwiO1xuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuZXhwb3J0ICogZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbnRyeS1iYXNlXCI7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBQYWdlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvW3NsdWddL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9bc2x1Z11cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5Bslug%5D%2Fpage&page=%2Fapi%2F%5Bslug%5D%2Fpage&appPaths=%2Fapi%2F%5Bslug%5D%2Fpage&pagePath=private-next-app-dir%2Fapi%2F%5Bslug%5D%2Fpage.tsx&appDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp%5Capi%5C%5Bslug%5D%5C_components%5Capi-details-client.tsx&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cshared%5Clib%5Clazy-dynamic%5Cdynamic-no-ssr.js&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp%5Capi%5C%5Bslug%5D%5C_components%5Capi-details-client.tsx&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cshared%5Clib%5Clazy-dynamic%5Cdynamic-no-ssr.js&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/api/[slug]/_components/api-details-client.tsx */ \"(ssr)/./app/api/[slug]/_components/api-details-client.tsx\"));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-no-ssr.js */ \"(ssr)/./node_modules/next/dist/shared/lib/lazy-dynamic/dynamic-no-ssr.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9QyUzQSU1Q3ZzJTIwY29kZSUyMHByb2plY3RzJTVDYm9pbGVycGxhdGUlMjBjb2RlJTIwd2ViYXBwJTVDYXBwJTVDYXBpJTVDJTVCc2x1ZyU1RCU1Q19jb21wb25lbnRzJTVDYXBpLWRldGFpbHMtY2xpZW50LnRzeCZtb2R1bGVzPUMlM0ElNUN2cyUyMGNvZGUlMjBwcm9qZWN0cyU1Q2JvaWxlcnBsYXRlJTIwY29kZSUyMHdlYmFwcCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDc2hhcmVkJTVDbGliJTVDbGF6eS1keW5hbWljJTVDZHluYW1pYy1uby1zc3IuanMmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGtOQUF5STtBQUN6SSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVib2lsZXIvP2RiYWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFx2cyBjb2RlIHByb2plY3RzXFxcXGJvaWxlcnBsYXRlIGNvZGUgd2ViYXBwXFxcXGFwcFxcXFxhcGlcXFxcW3NsdWddXFxcXF9jb21wb25lbnRzXFxcXGFwaS1kZXRhaWxzLWNsaWVudC50c3hcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXHZzIGNvZGUgcHJvamVjdHNcXFxcYm9pbGVycGxhdGUgY29kZSB3ZWJhcHBcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxzaGFyZWRcXFxcbGliXFxcXGxhenktZHluYW1pY1xcXFxkeW5hbWljLW5vLXNzci5qc1wiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp%5Capi%5C%5Bslug%5D%5C_components%5Capi-details-client.tsx&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cshared%5Clib%5Clazy-dynamic%5Cdynamic-no-ssr.js&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9QyUzQSU1Q3ZzJTIwY29kZSUyMHByb2plY3RzJTVDYm9pbGVycGxhdGUlMjBjb2RlJTIwd2ViYXBwJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDYXBwLXJvdXRlci5qcyZtb2R1bGVzPUMlM0ElNUN2cyUyMGNvZGUlMjBwcm9qZWN0cyU1Q2JvaWxlcnBsYXRlJTIwY29kZSUyMHdlYmFwcCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q2Vycm9yLWJvdW5kYXJ5LmpzJm1vZHVsZXM9QyUzQSU1Q3ZzJTIwY29kZSUyMHByb2plY3RzJTVDYm9pbGVycGxhdGUlMjBjb2RlJTIwd2ViYXBwJTVDbm9kZV9tb2R1bGVzJTVDbmV4dCU1Q2Rpc3QlNUNjbGllbnQlNUNjb21wb25lbnRzJTVDbGF5b3V0LXJvdXRlci5qcyZtb2R1bGVzPUMlM0ElNUN2cyUyMGNvZGUlMjBwcm9qZWN0cyU1Q2JvaWxlcnBsYXRlJTIwY29kZSUyMHdlYmFwcCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q25vdC1mb3VuZC1ib3VuZGFyeS5qcyZtb2R1bGVzPUMlM0ElNUN2cyUyMGNvZGUlMjBwcm9qZWN0cyU1Q2JvaWxlcnBsYXRlJTIwY29kZSUyMHdlYmFwcCU1Q25vZGVfbW9kdWxlcyU1Q25leHQlNUNkaXN0JTVDY2xpZW50JTVDY29tcG9uZW50cyU1Q3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMmbW9kdWxlcz1DJTNBJTVDdnMlMjBjb2RlJTIwcHJvamVjdHMlNUNib2lsZXJwbGF0ZSUyMGNvZGUlMjB3ZWJhcHAlNUNub2RlX21vZHVsZXMlNUNuZXh0JTVDZGlzdCU1Q2NsaWVudCU1Q2NvbXBvbmVudHMlNUNzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQStJO0FBQy9JLDBPQUFtSjtBQUNuSix3T0FBa0o7QUFDbEosa1BBQXVKO0FBQ3ZKLHNRQUFpSztBQUNqSyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVib2lsZXIvPzA3ZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFx2cyBjb2RlIHByb2plY3RzXFxcXGJvaWxlcnBsYXRlIGNvZGUgd2ViYXBwXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcYXBwLXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcdnMgY29kZSBwcm9qZWN0c1xcXFxib2lsZXJwbGF0ZSBjb2RlIHdlYmFwcFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGVycm9yLWJvdW5kYXJ5LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFx2cyBjb2RlIHByb2plY3RzXFxcXGJvaWxlcnBsYXRlIGNvZGUgd2ViYXBwXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbGF5b3V0LXJvdXRlci5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcdnMgY29kZSBwcm9qZWN0c1xcXFxib2lsZXJwbGF0ZSBjb2RlIHdlYmFwcFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXG5vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcdnMgY29kZSBwcm9qZWN0c1xcXFxib2lsZXJwbGF0ZSBjb2RlIHdlYmFwcFxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXHJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXHZzIGNvZGUgcHJvamVjdHNcXFxcYm9pbGVycGxhdGUgY29kZSB3ZWJhcHBcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qc1wiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Capp-router.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cerror-boundary.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Clayout-router.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cnot-found-boundary.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Crender-from-template-context.js&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cdist%5Cclient%5Ccomponents%5Cstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cfont%5Cgoogle%5Ctarget.css%3F%7B%22path%22%3A%22app%5C%5Clayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp%5Cglobals.css&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Cnode_modules%5Cnext%5Cfont%5Cgoogle%5Ctarget.css%3F%7B%22path%22%3A%22app%5C%5Clayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&modules=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp%5Cglobals.css&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./app/api/[slug]/_components/api-details-client.tsx":
/*!***********************************************************!*\
  !*** ./app/api/[slug]/_components/api-details-client.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ APIDetailsClient)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Check_Copy_ExternalLink_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,ExternalLink!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/external-link.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_ExternalLink_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,ExternalLink!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_ExternalLink_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,ExternalLink!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.mjs\");\n/* harmony import */ var _lib_code_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/code-generator */ \"(ssr)/./lib/code-generator.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction APIDetailsClient({ api }) {\n    const [selectedLanguage, setSelectedLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"javascript\");\n    const [selectedFramework, setSelectedFramework] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"vanilla\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const code = (0,_lib_code_generator__WEBPACK_IMPORTED_MODULE_2__.generateCode)(api, selectedLanguage, selectedFramework);\n    const copyToClipboard = async ()=>{\n        await navigator.clipboard.writeText(code);\n        setCopied(true);\n        setTimeout(()=>setCopied(false), 2000);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto px-4 py-8\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4 mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-4xl\",\n                                    children: api.icon\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 31,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-4xl font-bold text-white mb-2\",\n                                            children: api.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                            lineNumber: 33,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xl text-gray-300\",\n                                            children: api.description\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                            lineNumber: 34,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 32,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                            lineNumber: 30,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4 text-sm text-gray-400\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"bg-purple-600 text-white px-3 py-1 rounded-full\",\n                                    children: api.category\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 39,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"flex items-center gap-1\",\n                                    children: [\n                                        \"â­ \",\n                                        api.popularity,\n                                        \"% popularity\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 42,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: api.documentation,\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\",\n                                    className: \"flex items-center gap-1 hover:text-white transition-colors\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_ExternalLink_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                            lineNumber: 51,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Documentation\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 45,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                            lineNumber: 38,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                    lineNumber: 29,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white mb-4\",\n                            children: \"Features\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                            lineNumber: 59,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-2 md:grid-cols-3 gap-3\",\n                            children: api.features.map((feature, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-slate-800 rounded-lg p-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-gray-300\",\n                                        children: feature\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                        lineNumber: 63,\n                                        columnNumber: 17\n                                    }, this)\n                                }, index, false, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 62,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                            lineNumber: 60,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                    lineNumber: 58,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-slate-800 rounded-lg overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between p-4 border-b border-slate-700\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-bold text-white\",\n                                    children: \"Code Example\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 72,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: selectedLanguage,\n                                            onChange: (e)=>setSelectedLanguage(e.target.value),\n                                            className: \"bg-slate-700 text-white rounded px-3 py-1 border border-slate-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"javascript\",\n                                                    children: \"JavaScript\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 80,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"typescript\",\n                                                    children: \"TypeScript\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 81,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"python\",\n                                                    children: \"Python\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 82,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                            lineNumber: 75,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: selectedFramework,\n                                            onChange: (e)=>setSelectedFramework(e.target.value),\n                                            className: \"bg-slate-700 text-white rounded px-3 py-1 border border-slate-600\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"vanilla\",\n                                                    children: \"Vanilla\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 91,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"react\",\n                                                    children: \"React\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 92,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"vue\",\n                                                    children: \"Vue\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 93,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"angular\",\n                                                    children: \"Angular\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 94,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                            lineNumber: 86,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: copyToClipboard,\n                                            className: \"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded transition-colors\",\n                                            children: [\n                                                copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_ExternalLink_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 102,\n                                                    columnNumber: 27\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Copy_ExternalLink_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                                    lineNumber: 102,\n                                                    columnNumber: 59\n                                                }, this),\n                                                copied ? \"Copied!\" : \"Copy\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                            lineNumber: 98,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 73,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                            lineNumber: 71,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                className: \"p-4 overflow-x-auto text-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                    className: \"text-gray-300\",\n                                    children: code\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                    lineNumber: 110,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                            lineNumber: 108,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n                    lineNumber: 70,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n            lineNumber: 27,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-client.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvYXBpL1tzbHVnXS9fY29tcG9uZW50cy9hcGktZGV0YWlscy1jbGllbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFZ0M7QUFDd0I7QUFDTDtBQU9wQyxTQUFTSyxpQkFBaUIsRUFBRUMsR0FBRyxFQUF5QjtJQUNyRSxNQUFNLENBQUNDLGtCQUFrQkMsb0JBQW9CLEdBQUdSLCtDQUFRQSxDQUFXO0lBQ25FLE1BQU0sQ0FBQ1MsbUJBQW1CQyxxQkFBcUIsR0FBR1YsK0NBQVFBLENBQVk7SUFDdEUsTUFBTSxDQUFDVyxRQUFRQyxVQUFVLEdBQUdaLCtDQUFRQSxDQUFDO0lBRXJDLE1BQU1hLE9BQU9ULGlFQUFZQSxDQUFDRSxLQUFLQyxrQkFBa0JFO0lBRWpELE1BQU1LLGtCQUFrQjtRQUN0QixNQUFNQyxVQUFVQyxTQUFTLENBQUNDLFNBQVMsQ0FBQ0o7UUFDcENELFVBQVU7UUFDVk0sV0FBVyxJQUFNTixVQUFVLFFBQVE7SUFDckM7SUFFQSxxQkFDRSw4REFBQ087UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBRWIsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRDtvQ0FBSUMsV0FBVTs4Q0FBWWQsSUFBSWUsSUFBSTs7Ozs7OzhDQUNuQyw4REFBQ0Y7O3NEQUNDLDhEQUFDRzs0Q0FBR0YsV0FBVTtzREFBc0NkLElBQUlpQixJQUFJOzs7Ozs7c0RBQzVELDhEQUFDQzs0Q0FBRUosV0FBVTtzREFBeUJkLElBQUltQixXQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBSXpELDhEQUFDTjs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNNO29DQUFLTixXQUFVOzhDQUNiZCxJQUFJcUIsUUFBUTs7Ozs7OzhDQUVmLDhEQUFDRDtvQ0FBS04sV0FBVTs7d0NBQTBCO3dDQUNyQ2QsSUFBSXNCLFVBQVU7d0NBQUM7Ozs7Ozs7OENBRXBCLDhEQUFDQztvQ0FDQ0MsTUFBTXhCLElBQUl5QixhQUFhO29DQUN2QkMsUUFBTztvQ0FDUEMsS0FBSTtvQ0FDSmIsV0FBVTs7c0RBRVYsOERBQUNqQixtR0FBWUE7NENBQUNpQixXQUFVOzs7Ozs7d0NBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBTzFDLDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNjOzRCQUFHZCxXQUFVO3NDQUFxQzs7Ozs7O3NDQUNuRCw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ1pkLElBQUk2QixRQUFRLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxTQUFTQyxzQkFDMUIsOERBQUNuQjtvQ0FBZ0JDLFdBQVU7OENBQ3pCLDRFQUFDTTt3Q0FBS04sV0FBVTtrREFBaUJpQjs7Ozs7O21DQUR6QkM7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBUWhCLDhEQUFDbkI7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNjO29DQUFHZCxXQUFVOzhDQUErQjs7Ozs7OzhDQUM3Qyw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUViLDhEQUFDbUI7NENBQ0NDLE9BQU9qQzs0Q0FDUGtDLFVBQVUsQ0FBQ0MsSUFBTWxDLG9CQUFvQmtDLEVBQUVWLE1BQU0sQ0FBQ1EsS0FBSzs0Q0FDbkRwQixXQUFVOzs4REFFViw4REFBQ3VCO29EQUFPSCxPQUFNOzhEQUFhOzs7Ozs7OERBQzNCLDhEQUFDRztvREFBT0gsT0FBTTs4REFBYTs7Ozs7OzhEQUMzQiw4REFBQ0c7b0RBQU9ILE9BQU07OERBQVM7Ozs7Ozs7Ozs7OztzREFJekIsOERBQUNEOzRDQUNDQyxPQUFPL0I7NENBQ1BnQyxVQUFVLENBQUNDLElBQU1oQyxxQkFBcUJnQyxFQUFFVixNQUFNLENBQUNRLEtBQUs7NENBQ3BEcEIsV0FBVTs7OERBRVYsOERBQUN1QjtvREFBT0gsT0FBTTs4REFBVTs7Ozs7OzhEQUN4Qiw4REFBQ0c7b0RBQU9ILE9BQU07OERBQVE7Ozs7Ozs4REFDdEIsOERBQUNHO29EQUFPSCxPQUFNOzhEQUFNOzs7Ozs7OERBQ3BCLDhEQUFDRztvREFBT0gsT0FBTTs4REFBVTs7Ozs7Ozs7Ozs7O3NEQUkxQiw4REFBQ0k7NENBQ0NDLFNBQVMvQjs0Q0FDVE0sV0FBVTs7Z0RBRVRULHVCQUFTLDhEQUFDVCxtR0FBS0E7b0RBQUNrQixXQUFVOzs7Ozt5RUFBZSw4REFBQ25CLG1HQUFJQTtvREFBQ21CLFdBQVU7Ozs7OztnREFDekRULFNBQVMsWUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQ0FLNUIsOERBQUNROzRCQUFJQyxXQUFVO3NDQUNiLDRFQUFDMEI7Z0NBQUkxQixXQUFVOzBDQUNiLDRFQUFDUDtvQ0FBS08sV0FBVTs4Q0FBaUJQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlYm9pbGVyLy4vYXBwL2FwaS9bc2x1Z10vX2NvbXBvbmVudHMvYXBpLWRldGFpbHMtY2xpZW50LnRzeD9iMGE5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ29weSwgQ2hlY2ssIEV4dGVybmFsTGluayB9IGZyb20gJ2x1Y2lkZS1yZWFjdCdcbmltcG9ydCB7IGdlbmVyYXRlQ29kZSB9IGZyb20gJ0AvbGliL2NvZGUtZ2VuZXJhdG9yJ1xuaW1wb3J0IHR5cGUgeyBBUElUZW1wbGF0ZSwgTGFuZ3VhZ2UsIEZyYW1ld29yayB9IGZyb20gJ0AvdHlwZXMvYXBpJ1xuXG5pbnRlcmZhY2UgQVBJRGV0YWlsc0NsaWVudFByb3BzIHtcbiAgYXBpOiBBUElUZW1wbGF0ZVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBUElEZXRhaWxzQ2xpZW50KHsgYXBpIH06IEFQSURldGFpbHNDbGllbnRQcm9wcykge1xuICBjb25zdCBbc2VsZWN0ZWRMYW5ndWFnZSwgc2V0U2VsZWN0ZWRMYW5ndWFnZV0gPSB1c2VTdGF0ZTxMYW5ndWFnZT4oJ2phdmFzY3JpcHQnKVxuICBjb25zdCBbc2VsZWN0ZWRGcmFtZXdvcmssIHNldFNlbGVjdGVkRnJhbWV3b3JrXSA9IHVzZVN0YXRlPEZyYW1ld29yaz4oJ3ZhbmlsbGEnKVxuICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3QgY29kZSA9IGdlbmVyYXRlQ29kZShhcGksIHNlbGVjdGVkTGFuZ3VhZ2UsIHNlbGVjdGVkRnJhbWV3b3JrKVxuXG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb2RlKVxuICAgIHNldENvcGllZCh0cnVlKVxuICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0Q29waWVkKGZhbHNlKSwgMjAwMClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1zbGF0ZS05MDAgdmlhLXB1cnBsZS05MDAgdG8tc2xhdGUtOTAwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB4LTQgcHktOFwiPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00IG1iLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC00eGxcIj57YXBpLmljb259PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItMlwiPnthcGkubmFtZX08L2gxPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS0zMDBcIj57YXBpLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIHRleHQtd2hpdGUgcHgtMyBweS0xIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICB7YXBpLmNhdGVnb3J5fVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAg4q2QIHthcGkucG9wdWxhcml0eX0lIHBvcHVsYXJpdHlcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICBocmVmPXthcGkuZG9jdW1lbnRhdGlvbn0gXG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiIFxuICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxFeHRlcm5hbExpbmsgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIERvY3VtZW50YXRpb25cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZlYXR1cmVzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItNFwiPkZlYXR1cmVzPC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTNcIj5cbiAgICAgICAgICAgIHthcGkuZmVhdHVyZXMubWFwKChmZWF0dXJlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCByb3VuZGVkLWxnIHAtM1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDBcIj57ZmVhdHVyZX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBDb2RlIFNlY3Rpb24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtODAwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJvcmRlci1iIGJvcmRlci1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+Q29kZSBFeGFtcGxlPC9oMj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgey8qIExhbmd1YWdlIFNlbGVjdG9yICovfVxuICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkTGFuZ3VhZ2V9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZExhbmd1YWdlKGUudGFyZ2V0LnZhbHVlIGFzIExhbmd1YWdlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1zbGF0ZS03MDAgdGV4dC13aGl0ZSByb3VuZGVkIHB4LTMgcHktMSBib3JkZXIgYm9yZGVyLXNsYXRlLTYwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiamF2YXNjcmlwdFwiPkphdmFTY3JpcHQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidHlwZXNjcmlwdFwiPlR5cGVTY3JpcHQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicHl0aG9uXCI+UHl0aG9uPC9vcHRpb24+XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuXG4gICAgICAgICAgICAgIHsvKiBGcmFtZXdvcmsgU2VsZWN0b3IgKi99XG4gICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRGcmFtZXdvcmt9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZEZyYW1ld29yayhlLnRhcmdldC52YWx1ZSBhcyBGcmFtZXdvcmspfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXNsYXRlLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgcHgtMyBweS0xIGJvcmRlciBib3JkZXItc2xhdGUtNjAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ2YW5pbGxhXCI+VmFuaWxsYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZWFjdFwiPlJlYWN0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInZ1ZVwiPlZ1ZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbmd1bGFyXCI+QW5ndWxhcjwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cblxuICAgICAgICAgICAgICB7LyogQ29weSBCdXR0b24gKi99XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtjb3B5VG9DbGlwYm9hcmR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHRleHQtd2hpdGUgcHgtNCBweS0yIHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2NvcGllZCA/IDxDaGVjayBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4gOiA8Q29weSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz59XG4gICAgICAgICAgICAgICAge2NvcGllZCA/ICdDb3BpZWQhJyA6ICdDb3B5J31cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPVwicC00IG92ZXJmbG93LXgtYXV0byB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxjb2RlIGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDBcIj57Y29kZX08L2NvZGU+XG4gICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsIkNvcHkiLCJDaGVjayIsIkV4dGVybmFsTGluayIsImdlbmVyYXRlQ29kZSIsIkFQSURldGFpbHNDbGllbnQiLCJhcGkiLCJzZWxlY3RlZExhbmd1YWdlIiwic2V0U2VsZWN0ZWRMYW5ndWFnZSIsInNlbGVjdGVkRnJhbWV3b3JrIiwic2V0U2VsZWN0ZWRGcmFtZXdvcmsiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJjb2RlIiwiY29weVRvQ2xpcGJvYXJkIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0Iiwic2V0VGltZW91dCIsImRpdiIsImNsYXNzTmFtZSIsImljb24iLCJoMSIsIm5hbWUiLCJwIiwiZGVzY3JpcHRpb24iLCJzcGFuIiwiY2F0ZWdvcnkiLCJwb3B1bGFyaXR5IiwiYSIsImhyZWYiLCJkb2N1bWVudGF0aW9uIiwidGFyZ2V0IiwicmVsIiwiaDIiLCJmZWF0dXJlcyIsIm1hcCIsImZlYXR1cmUiLCJpbmRleCIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwib3B0aW9uIiwiYnV0dG9uIiwib25DbGljayIsInByZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/api/[slug]/_components/api-details-client.tsx\n");

/***/ }),

/***/ "(ssr)/./lib/code-generator.ts":
/*!*******************************!*\
  !*** ./lib/code-generator.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateCode: () => (/* binding */ generateCode)\n/* harmony export */ });\nfunction generateCode(api, language, framework) {\n    // Get the template for the specific language and framework\n    const template = api.codeTemplates?.[language]?.[framework];\n    if (template) {\n        return template;\n    }\n    // Fallback to vanilla if framework not found\n    const vanillaTemplate = api.codeTemplates?.[language]?.[\"vanilla\"];\n    if (vanillaTemplate) {\n        return vanillaTemplate;\n    }\n    // Generate a basic template if none exists\n    return generateFallbackCode(api, language, framework);\n}\nfunction generateFallbackCode(api, language, framework) {\n    if (!api) {\n        return `// API template not found`;\n    }\n    const templates = {\n        javascript: {\n            vanilla: `// ${api.name} Integration\n// ${api.description}\n\nconst apiKey = 'YOUR_API_KEY';\nconst baseURL = 'https://api.${api.name.toLowerCase()}.com';\n\n// Initialize ${api.name} client\nclass ${api.name}Client {\n  constructor(apiKey) {\n    this.apiKey = apiKey;\n    this.baseURL = baseURL;\n  }\n\n  async makeRequest(endpoint, options = {}) {\n    const url = \\`\\${this.baseURL}\\${endpoint}\\`;\n    const config = {\n      headers: {\n        'Authorization': \\`Bearer \\${this.apiKey}\\`,\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n\n    try {\n      const response = await fetch(url, config);\n      \n      if (!response.ok) {\n        throw new Error(\\`HTTP error! status: \\${response.status}\\`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('${api.name} API Error:', error);\n      throw error;\n    }\n  }\n\n  // Example method - customize based on API\n  async getData() {\n    return this.makeRequest('/data');\n  }\n}\n\n// Usage example\nconst client = new ${api.name}Client(apiKey);\n\n// Example usage\nclient.getData()\n  .then(data => {\n    console.log('Success:', data);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  });`,\n            react: `// ${api.name} React Hook\nimport React, { useState, useEffect } from 'react';\n\nconst API_KEY = 'YOUR_API_KEY';\nconst BASE_URL = 'https://api.${api.name.toLowerCase()}.com';\n\n// Custom hook for ${api.name}\nexport const use${api.name} = () => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const makeRequest = async (endpoint, options = {}) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch(\\`\\${BASE_URL}\\${endpoint}\\`, {\n        headers: {\n          'Authorization': \\`Bearer \\${API_KEY}\\`,\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        ...options\n      });\n\n      if (!response.ok) {\n        throw new Error(\\`HTTP error! status: \\${response.status}\\`);\n      }\n\n      const result = await response.json();\n      setData(result);\n      return result;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getData = () => makeRequest('/data');\n\n  return { data, loading, error, getData, makeRequest };\n};\n\n// Example component\nexport const ${api.name}Component = () => {\n  const { data, loading, error, getData } = use${api.name}();\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  return (\n    <div>\n      <h2>${api.name} Data</h2>\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n    </div>\n  );\n};`\n        },\n        typescript: {\n            vanilla: `// ${api.name} Integration\n// ${api.description}\n\ninterface ${api.name}Config {\n  apiKey: string;\n  baseURL?: string;\n}\n\ninterface ${api.name}Response<T> {\n  data: T;\n  success: boolean;\n  message?: string;\n}\n\nclass ${api.name}Client {\n  private apiKey: string;\n  private baseURL: string;\n\n  constructor(config: ${api.name}Config) {\n    this.apiKey = config.apiKey;\n    this.baseURL = config.baseURL || 'https://api.${api.name.toLowerCase()}.com';\n  }\n\n  private async makeRequest<T>(\n    endpoint: string, \n    options: RequestInit = {}\n  ): Promise<${api.name}Response<T>> {\n    const url = \\`\\${this.baseURL}\\${endpoint}\\`;\n    const config: RequestInit = {\n      headers: {\n        'Authorization': \\`Bearer \\${this.apiKey}\\`,\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n\n    try {\n      const response = await fetch(url, config);\n      \n      if (!response.ok) {\n        throw new Error(\\`HTTP error! status: \\${response.status}\\`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('${api.name} API Error:', error);\n      throw error;\n    }\n  }\n\n  public async getData<T>(): Promise<${api.name}Response<T>> {\n    return this.makeRequest<T>('/data');\n  }\n}\n\n// Usage example\nconst client = new ${api.name}Client({\n  apiKey: 'YOUR_API_KEY'\n});\n\n// Example usage with proper typing\nclient.getData<any>()\n  .then(response => {\n    console.log('Success:', response.data);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  });`\n        },\n        python: {\n            vanilla: `\"\"\"\n${api.name} Integration\n${api.description}\n\"\"\"\n\nimport requests\nimport json\nfrom typing import Dict, Any, Optional\n\nclass ${api.name}Client:\n    def __init__(self, api_key: str, base_url: Optional[str] = None):\n        self.api_key = api_key\n        self.base_url = base_url or \"https://api.${api.name.toLowerCase()}.com\"\n        self.session = requests.Session()\n        self.session.headers.update({\n            \"Authorization\": f\"Bearer {api_key}\",\n            \"Content-Type\": \"application/json\"\n        })\n    \n    def _make_request(self, endpoint: str, method: str = \"GET\", **kwargs) -> Dict[str, Any]:\n        \"\"\"Make HTTP request to ${api.name} API\"\"\"\n        url = f\"{self.base_url}{endpoint}\"\n        \n        try:\n            response = self.session.request(method, url, **kwargs)\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.RequestException as e:\n            print(f\"${api.name} API Error: {e}\")\n            raise\n    \n    def get_data(self) -> Dict[str, Any]:\n        \"\"\"Get data from ${api.name} API\"\"\"\n        return self._make_request(\"/data\")\n    \n    def post_data(self, data: Dict[str, Any]) -> Dict[str, Any]:\n        \"\"\"Post data to ${api.name} API\"\"\"\n        return self._make_request(\"/data\", method=\"POST\", json=data)\n\n# Usage example\nif __name__ == \"__main__\":\n    client = ${api.name}Client(api_key=\"YOUR_API_KEY\")\n    \n    try:\n        data = client.get_data()\n        print(\"Success:\", json.dumps(data, indent=2))\n    except Exception as error:\n        print(f\"Error: {error}\")`,\n            django: `\"\"\"\n${api.name} Django Integration\n${api.description}\n\"\"\"\n\nfrom django.conf import settings\nfrom django.http import JsonResponse\nfrom django.views.decorators.http import require_http_methods\nfrom django.views.decorators.csrf import csrf_exempt\nimport requests\nimport json\n\nclass ${api.name}Service:\n    def __init__(self):\n        self.api_key = getattr(settings, '${api.name.upper()}_API_KEY', '')\n        self.base_url = getattr(settings, '${api.name.upper()}_BASE_URL', 'https://api.${api.name.toLowerCase()}.com')\n    \n    def _make_request(self, endpoint, method='GET', data=None):\n        headers = {\n            'Authorization': f'Bearer {self.api_key}',\n            'Content-Type': 'application/json'\n        }\n        \n        url = f\"{self.base_url}{endpoint}\"\n        \n        try:\n            response = requests.request(\n                method=method,\n                url=url,\n                headers=headers,\n                json=data if data else None\n            )\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.RequestException as e:\n            raise Exception(f\"${api.name} API Error: {str(e)}\")\n    \n    def get_data(self):\n        return self._make_request('/data')\n\n# Django views\n@require_http_methods([\"GET\"])\ndef get_${api.name.toLowerCase()}_data(request):\n    try:\n        service = ${api.name}Service()\n        data = service.get_data()\n        return JsonResponse({'success': True, 'data': data})\n    except Exception as e:\n        return JsonResponse({'success': False, 'error': str(e)}, status=500)\n\n# Add to settings.py:\n# ${api.name.upper()}_API_KEY = 'your_api_key_here'`\n        },\n        php: {\n            vanilla: `<?php\n/**\n * ${api.name} Integration\n * ${api.description}\n */\n\nclass ${api.name}Client {\n    private $apiKey;\n    private $baseURL;\n    \n    public function __construct($apiKey, $baseURL = null) {\n        $this->apiKey = $apiKey;\n        $this->baseURL = $baseURL ?: 'https://api.${api.name.toLowerCase()}.com';\n    }\n    \n    private function makeRequest($endpoint, $method = 'GET', $data = null) {\n        $url = $this->baseURL . $endpoint;\n        \n        $headers = [\n            'Authorization: Bearer ' . $this->apiKey,\n            'Content-Type: application/json'\n        ];\n        \n        $ch = curl_init();\n        curl_setopt($ch, CURLOPT_URL, $url);\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n        curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $method);\n        \n        if ($data && in_array($method, ['POST', 'PUT', 'PATCH'])) {\n            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));\n        }\n        \n        $response = curl_exec($ch);\n        $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);\n        curl_close($ch);\n        \n        if ($httpCode >= 400) {\n            throw new Exception(\"${api.name} API Error: HTTP $httpCode\");\n        }\n        \n        return json_decode($response, true);\n    }\n    \n    public function getData() {\n        return $this->makeRequest('/data');\n    }\n    \n    public function postData($data) {\n        return $this->makeRequest('/data', 'POST', $data);\n    }\n}\n\n// Usage example\ntry {\n    $client = new ${api.name}Client('YOUR_API_KEY');\n    $data = $client->getData();\n    echo json_encode($data, JSON_PRETTY_PRINT);\n} catch (Exception $e) {\n    echo \"Error: \" . $e->getMessage();\n}\n?>`\n        },\n        go: {\n            vanilla: `package main\n\nimport (\n    \"bytes\"\n    \"encoding/json\"\n    \"fmt\"\n    \"io\"\n    \"net/http\"\n    \"time\"\n)\n\n// ${api.name}Client represents the API client\ntype ${api.name}Client struct {\n    APIKey  string\n    BaseURL string\n    client  *http.Client\n}\n\n// New${api.name}Client creates a new ${api.name} client\nfunc New${api.name}Client(apiKey string) *${api.name}Client {\n    return &${api.name}Client{\n        APIKey:  apiKey,\n        BaseURL: \"https://api.${api.name.toLowerCase()}.com\",\n        client: &http.Client{\n            Timeout: time.Second * 30,\n        },\n    }\n}\n\n// makeRequest makes an HTTP request to the ${api.name} API\nfunc (c *${api.name}Client) makeRequest(endpoint, method string, data interface{}) (map[string]interface{}, error) {\n    url := c.BaseURL + endpoint\n    \n    var body io.Reader\n    if data != nil {\n        jsonData, err := json.Marshal(data)\n        if err != nil {\n            return nil, fmt.Errorf(\"error marshaling data: %v\", err)\n        }\n        body = bytes.NewBuffer(jsonData)\n    }\n    \n    req, err := http.NewRequest(method, url, body)\n    if err != nil {\n        return nil, fmt.Errorf(\"error creating request: %v\", err)\n    }\n    \n    req.Header.Set(\"Authorization\", \"Bearer \"+c.APIKey)\n    req.Header.Set(\"Content-Type\", \"application/json\")\n    \n    resp, err := c.client.Do(req)\n    if err != nil {\n        return nil, fmt.Errorf(\"error making request: %v\", err)\n    }\n    defer resp.Body.Close()\n    \n    if resp.StatusCode >= 400 {\n        return nil, fmt.Errorf(\"API error: %s\", resp.Status)\n    }\n    \n    var result map[string]interface{}\n    if err := json.NewDecoder(resp.Body).Decode(&result); err != nil {\n        return nil, fmt.Errorf(\"error decoding response: %v\", err)\n    }\n    \n    return result, nil\n}\n\n// GetData gets data from ${api.name} API\nfunc (c *${api.name}Client) GetData() (map[string]interface{}, error) {\n    return c.makeRequest(\"/data\", \"GET\", nil)\n}\n\n// PostData posts data to ${api.name} API\nfunc (c *${api.name}Client) PostData(data map[string]interface{}) (map[string]interface{}, error) {\n    return c.makeRequest(\"/data\", \"POST\", data)\n}\n\nfunc main() {\n    client := New${api.name}Client(\"YOUR_API_KEY\")\n    \n    data, err := client.GetData()\n    if err != nil {\n        fmt.Printf(\"Error: %v\\\\n\", err)\n        return\n    }\n    \n    jsonData, _ := json.MarshalIndent(data, \"\", \"  \")\n    fmt.Printf(\"Success: %s\\\\n\", jsonData)\n}`\n        },\n        rust: {\n            vanilla: `use reqwest::{Client, Error as ReqwestError};\nuse serde::{Deserialize, Serialize};\nuse serde_json::Value;\nuse std::collections::HashMap;\n\n/// ${api.name} API Client\n/// ${api.description}\npub struct ${api.name}Client {\n    api_key: String,\n    base_url: String,\n    client: Client,\n}\n\n#[derive(Debug, Serialize, Deserialize)]\npub struct ApiResponse {\n    pub success: bool,\n    pub data: Option<Value>,\n    pub error: Option<String>,\n}\n\nimpl ${api.name}Client {\n    /// Create a new ${api.name} client\n    pub fn new(api_key: String) -> Self {\n        Self {\n            api_key,\n            base_url: \"https://api.${api.name.toLowerCase()}.com\".to_string(),\n            client: Client::new(),\n        }\n    }\n    \n    /// Make a request to the ${api.name} API\n    async fn make_request(\n        &self,\n        endpoint: &str,\n        method: &str,\n        data: Option<&Value>,\n    ) -> Result<Value, ReqwestError> {\n        let url = format!(\"{}{}\", self.base_url, endpoint);\n        \n        let mut request = match method.to_uppercase().as_str() {\n            \"GET\" => self.client.get(&url),\n            \"POST\" => self.client.post(&url),\n            \"PUT\" => self.client.put(&url),\n            \"DELETE\" => self.client.delete(&url),\n            _ => self.client.get(&url),\n        };\n        \n        request = request\n            .header(\"Authorization\", format!(\"Bearer {}\", self.api_key))\n            .header(\"Content-Type\", \"application/json\");\n        \n        if let Some(body) = data {\n            request = request.json(body);\n        }\n        \n        let response = request.send().await?;\n        let json: Value = response.json().await?;\n        \n        Ok(json)\n    }\n    \n    /// Get data from ${api.name} API\n    pub async fn get_data(&self) -> Result<Value, ReqwestError> {\n        self.make_request(\"/data\", \"GET\", None).await\n    }\n    \n    /// Post data to ${api.name} API\n    pub async fn post_data(&self, data: &Value) -> Result<Value, ReqwestError> {\n        self.make_request(\"/data\", \"POST\", Some(data)).await\n    }\n}\n\n#[tokio::main]\nasync fn main() -> Result<(), Box<dyn std::error::Error>> {\n    let client = ${api.name}Client::new(\"YOUR_API_KEY\".to_string());\n    \n    match client.get_data().await {\n        Ok(data) => {\n            println!(\"Success: {}\", serde_json::to_string_pretty(&data)?);\n        }\n        Err(error) => {\n            eprintln!(\"Error: {}\", error);\n        }\n    }\n    \n    Ok(())\n}\n\n// Add to Cargo.toml:\n// [dependencies]\n// reqwest = { version = \"0.11\", features = [\"json\"] }\n// serde = { version = \"1.0\", features = [\"derive\"] }\n// serde_json = \"1.0\"\n// tokio = { version = \"1\", features = [\"full\"] }`\n        }\n    };\n    return templates[language]?.[framework] || templates[language]?.vanilla || `// ${api.name} integration code not available for ${language} with ${framework} framework`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvY29kZS1nZW5lcmF0b3IudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVPLFNBQVNBLGFBQWFDLEdBQWdCLEVBQUVDLFFBQWtCLEVBQUVDLFNBQW9CO0lBQ3JGLDJEQUEyRDtJQUMzRCxNQUFNQyxXQUFXSCxJQUFJSSxhQUFhLEVBQUUsQ0FBQ0gsU0FBUyxFQUFFLENBQUNDLFVBQVU7SUFFM0QsSUFBSUMsVUFBVTtRQUNaLE9BQU9BO0lBQ1Q7SUFFQSw2Q0FBNkM7SUFDN0MsTUFBTUUsa0JBQWtCTCxJQUFJSSxhQUFhLEVBQUUsQ0FBQ0gsU0FBUyxFQUFFLENBQUMsVUFBVTtJQUNsRSxJQUFJSSxpQkFBaUI7UUFDbkIsT0FBT0E7SUFDVDtJQUVBLDJDQUEyQztJQUMzQyxPQUFPQyxxQkFBcUJOLEtBQUtDLFVBQVVDO0FBQzdDO0FBRUEsU0FBU0kscUJBQXFCTixHQUFnQixFQUFFQyxRQUFrQixFQUFFQyxTQUFvQjtJQUN0RixJQUFJLENBQUNGLEtBQUs7UUFDUixPQUFPLENBQUMseUJBQXlCLENBQUM7SUFDcEM7SUFFQSxNQUFNTyxZQUFZO1FBQ2hCQyxZQUFZO1lBQ1ZDLFNBQVMsQ0FBQyxHQUFHLEVBQUVULElBQUlVLElBQUksQ0FBQztHQUMzQixFQUFFVixJQUFJVyxXQUFXLENBQUM7Ozs2QkFHUSxFQUFFWCxJQUFJVSxJQUFJLENBQUNFLFdBQVcsR0FBRzs7Y0FFeEMsRUFBRVosSUFBSVUsSUFBSSxDQUFDO01BQ25CLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBMEJJLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7O21CQVliLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7Ozs7O0tBU3pCLENBQUM7WUFDQUcsT0FBTyxDQUFDLEdBQUcsRUFBRWIsSUFBSVUsSUFBSSxDQUFDOzs7OzhCQUlFLEVBQUVWLElBQUlVLElBQUksQ0FBQ0UsV0FBVyxHQUFHOzttQkFFcEMsRUFBRVosSUFBSVUsSUFBSSxDQUFDO2dCQUNkLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzthQXdDZCxFQUFFVixJQUFJVSxJQUFJLENBQUM7K0NBQ3VCLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7VUFXaEQsRUFBRVYsSUFBSVUsSUFBSSxDQUFDOzs7O0VBSW5CLENBQUM7UUFDQztRQUNBSSxZQUFZO1lBQ1ZMLFNBQVMsQ0FBQyxHQUFHLEVBQUVULElBQUlVLElBQUksQ0FBQztHQUMzQixFQUFFVixJQUFJVyxXQUFXLENBQUM7O1VBRVgsRUFBRVgsSUFBSVUsSUFBSSxDQUFDOzs7OztVQUtYLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7O01BTWYsRUFBRVYsSUFBSVUsSUFBSSxDQUFDOzs7O3NCQUlLLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7a0RBRWlCLEVBQUVWLElBQUlVLElBQUksQ0FBQ0UsV0FBVyxHQUFHOzs7Ozs7YUFNOUQsRUFBRVosSUFBSVUsSUFBSSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxQkFvQkgsRUFBRVYsSUFBSVUsSUFBSSxDQUFDOzs7OztxQ0FLSyxFQUFFVixJQUFJVSxJQUFJLENBQUM7Ozs7OzttQkFNN0IsRUFBRVYsSUFBSVUsSUFBSSxDQUFDOzs7Ozs7Ozs7OztLQVd6QixDQUFDO1FBQ0Y7UUFDQUssUUFBUTtZQUNOTixTQUFTLENBQUM7QUFDaEIsRUFBRVQsSUFBSVUsSUFBSSxDQUFDO0FBQ1gsRUFBRVYsSUFBSVcsV0FBVyxDQUFDOzs7Ozs7O01BT1osRUFBRVgsSUFBSVUsSUFBSSxDQUFDOzs7aURBR2dDLEVBQUVWLElBQUlVLElBQUksQ0FBQ0UsV0FBVyxHQUFHOzs7Ozs7OztnQ0FRMUMsRUFBRVosSUFBSVUsSUFBSSxDQUFDOzs7Ozs7OztvQkFRdkIsRUFBRVYsSUFBSVUsSUFBSSxDQUFDOzs7O3lCQUlOLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozt3QkFJWixFQUFFVixJQUFJVSxJQUFJLENBQUM7Ozs7O2FBS3RCLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7O2dDQU1RLENBQUM7WUFDM0JNLFFBQVEsQ0FBQztBQUNmLEVBQUVoQixJQUFJVSxJQUFJLENBQUM7QUFDWCxFQUFFVixJQUFJVyxXQUFXLENBQUM7Ozs7Ozs7Ozs7TUFVWixFQUFFWCxJQUFJVSxJQUFJLENBQUM7OzBDQUV5QixFQUFFVixJQUFJVSxJQUFJLENBQUNPLEtBQUssR0FBRzsyQ0FDbEIsRUFBRWpCLElBQUlVLElBQUksQ0FBQ08sS0FBSyxHQUFHLHlCQUF5QixFQUFFakIsSUFBSVUsSUFBSSxDQUFDRSxXQUFXLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQW9CbEYsRUFBRVosSUFBSVUsSUFBSSxDQUFDOzs7Ozs7O1FBT2pDLEVBQUVWLElBQUlVLElBQUksQ0FBQ0UsV0FBVyxHQUFHOztrQkFFZixFQUFFWixJQUFJVSxJQUFJLENBQUM7Ozs7Ozs7RUFPM0IsRUFBRVYsSUFBSVUsSUFBSSxDQUFDTyxLQUFLLEdBQUcsOEJBQThCLENBQUM7UUFDaEQ7UUFDQUMsS0FBSztZQUNIVCxTQUFTLENBQUM7O0dBRWIsRUFBRVQsSUFBSVUsSUFBSSxDQUFDO0dBQ1gsRUFBRVYsSUFBSVcsV0FBVyxDQUFDOzs7TUFHZixFQUFFWCxJQUFJVSxJQUFJLENBQUM7Ozs7OztrREFNaUMsRUFBRVYsSUFBSVUsSUFBSSxDQUFDRSxXQUFXLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2lDQTBCMUMsRUFBRVosSUFBSVUsSUFBSSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztrQkFpQjFCLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7O0VBTTNCLENBQUM7UUFDQztRQUNBUyxJQUFJO1lBQ0ZWLFNBQVMsQ0FBQzs7Ozs7Ozs7Ozs7R0FXYixFQUFFVCxJQUFJVSxJQUFJLENBQUM7S0FDVCxFQUFFVixJQUFJVSxJQUFJLENBQUM7Ozs7OztNQU1WLEVBQUVWLElBQUlVLElBQUksQ0FBQyxxQkFBcUIsRUFBRVYsSUFBSVUsSUFBSSxDQUFDO1FBQ3pDLEVBQUVWLElBQUlVLElBQUksQ0FBQyx1QkFBdUIsRUFBRVYsSUFBSVUsSUFBSSxDQUFDO1lBQ3pDLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7OEJBRU8sRUFBRVYsSUFBSVUsSUFBSSxDQUFDRSxXQUFXLEdBQUc7Ozs7Ozs7NENBT1gsRUFBRVosSUFBSVUsSUFBSSxDQUFDO1NBQzlDLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBc0NNLEVBQUVWLElBQUlVLElBQUksQ0FBQztTQUM1QixFQUFFVixJQUFJVSxJQUFJLENBQUM7Ozs7MEJBSU0sRUFBRVYsSUFBSVUsSUFBSSxDQUFDO1NBQzVCLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7aUJBS0gsRUFBRVYsSUFBSVUsSUFBSSxDQUFDOzs7Ozs7Ozs7O0NBVTNCLENBQUM7UUFDRTtRQUNBVSxNQUFNO1lBQ0pYLFNBQVMsQ0FBQzs7Ozs7SUFLWixFQUFFVCxJQUFJVSxJQUFJLENBQUM7SUFDWCxFQUFFVixJQUFJVyxXQUFXLENBQUM7V0FDWCxFQUFFWCxJQUFJVSxJQUFJLENBQUM7Ozs7Ozs7Ozs7Ozs7S0FhakIsRUFBRVYsSUFBSVUsSUFBSSxDQUFDO3FCQUNLLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7OzttQ0FJRyxFQUFFVixJQUFJVSxJQUFJLENBQUNFLFdBQVcsR0FBRzs7Ozs7OEJBSzlCLEVBQUVaLElBQUlVLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQkErQm5CLEVBQUVWLElBQUlVLElBQUksQ0FBQzs7Ozs7cUJBS1osRUFBRVYsSUFBSVUsSUFBSSxDQUFDOzs7Ozs7OztpQkFRZixFQUFFVixJQUFJVSxJQUFJLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aURBbUJxQixDQUFDO1FBQzlDO0lBQ0Y7SUFFQSxPQUFPSCxTQUFTLENBQUNOLFNBQVMsRUFBRSxDQUFDQyxVQUFVLElBQUlLLFNBQVMsQ0FBQ04sU0FBUyxFQUFFUSxXQUFXLENBQUMsR0FBRyxFQUFFVCxJQUFJVSxJQUFJLENBQUMsb0NBQW9DLEVBQUVULFNBQVMsTUFBTSxFQUFFQyxVQUFVLFVBQVUsQ0FBQztBQUN4SyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVib2lsZXIvLi9saWIvY29kZS1nZW5lcmF0b3IudHM/NmFjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEFQSVRlbXBsYXRlLCBMYW5ndWFnZSwgRnJhbWV3b3JrIH0gZnJvbSAnQC90eXBlcy9hcGknXG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvZGUoYXBpOiBBUElUZW1wbGF0ZSwgbGFuZ3VhZ2U6IExhbmd1YWdlLCBmcmFtZXdvcms6IEZyYW1ld29yayk6IHN0cmluZyB7XG4gIC8vIEdldCB0aGUgdGVtcGxhdGUgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBhbmQgZnJhbWV3b3JrXG4gIGNvbnN0IHRlbXBsYXRlID0gYXBpLmNvZGVUZW1wbGF0ZXM/LltsYW5ndWFnZV0/LltmcmFtZXdvcmtdXG4gIFxuICBpZiAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIHZhbmlsbGEgaWYgZnJhbWV3b3JrIG5vdCBmb3VuZFxuICBjb25zdCB2YW5pbGxhVGVtcGxhdGUgPSBhcGkuY29kZVRlbXBsYXRlcz8uW2xhbmd1YWdlXT8uWyd2YW5pbGxhJ11cbiAgaWYgKHZhbmlsbGFUZW1wbGF0ZSkge1xuICAgIHJldHVybiB2YW5pbGxhVGVtcGxhdGVcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIGEgYmFzaWMgdGVtcGxhdGUgaWYgbm9uZSBleGlzdHNcbiAgcmV0dXJuIGdlbmVyYXRlRmFsbGJhY2tDb2RlKGFwaSwgbGFuZ3VhZ2UsIGZyYW1ld29yaylcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVGYWxsYmFja0NvZGUoYXBpOiBBUElUZW1wbGF0ZSwgbGFuZ3VhZ2U6IExhbmd1YWdlLCBmcmFtZXdvcms6IEZyYW1ld29yayk6IHN0cmluZyB7XG4gIGlmICghYXBpKSB7XG4gICAgcmV0dXJuIGAvLyBBUEkgdGVtcGxhdGUgbm90IGZvdW5kYFxuICB9XG4gIFxuICBjb25zdCB0ZW1wbGF0ZXMgPSB7XG4gICAgamF2YXNjcmlwdDoge1xuICAgICAgdmFuaWxsYTogYC8vICR7YXBpLm5hbWV9IEludGVncmF0aW9uXG4vLyAke2FwaS5kZXNjcmlwdGlvbn1cblxuY29uc3QgYXBpS2V5ID0gJ1lPVVJfQVBJX0tFWSc7XG5jb25zdCBiYXNlVVJMID0gJ2h0dHBzOi8vYXBpLiR7YXBpLm5hbWUudG9Mb3dlckNhc2UoKX0uY29tJztcblxuLy8gSW5pdGlhbGl6ZSAke2FwaS5uYW1lfSBjbGllbnRcbmNsYXNzICR7YXBpLm5hbWV9Q2xpZW50IHtcbiAgY29uc3RydWN0b3IoYXBpS2V5KSB7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcbiAgfVxuXG4gIGFzeW5jIG1ha2VSZXF1ZXN0KGVuZHBvaW50LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB1cmwgPSBcXGBcXCR7dGhpcy5iYXNlVVJMfVxcJHtlbmRwb2ludH1cXGA7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IFxcYEJlYXJlciBcXCR7dGhpcy5hcGlLZXl9XFxgLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnNcbiAgICAgIH0sXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgY29uZmlnKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxgSFRUUCBlcnJvciEgc3RhdHVzOiBcXCR7cmVzcG9uc2Uuc3RhdHVzfVxcYCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyR7YXBpLm5hbWV9IEFQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBFeGFtcGxlIG1ldGhvZCAtIGN1c3RvbWl6ZSBiYXNlZCBvbiBBUElcbiAgYXN5bmMgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2RhdGEnKTtcbiAgfVxufVxuXG4vLyBVc2FnZSBleGFtcGxlXG5jb25zdCBjbGllbnQgPSBuZXcgJHthcGkubmFtZX1DbGllbnQoYXBpS2V5KTtcblxuLy8gRXhhbXBsZSB1c2FnZVxuY2xpZW50LmdldERhdGEoKVxuICAudGhlbihkYXRhID0+IHtcbiAgICBjb25zb2xlLmxvZygnU3VjY2VzczonLCBkYXRhKTtcbiAgfSlcbiAgLmNhdGNoKGVycm9yID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7XG4gIH0pO2AsXG4gICAgICByZWFjdDogYC8vICR7YXBpLm5hbWV9IFJlYWN0IEhvb2tcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBBUElfS0VZID0gJ1lPVVJfQVBJX0tFWSc7XG5jb25zdCBCQVNFX1VSTCA9ICdodHRwczovL2FwaS4ke2FwaS5uYW1lLnRvTG93ZXJDYXNlKCl9LmNvbSc7XG5cbi8vIEN1c3RvbSBob29rIGZvciAke2FwaS5uYW1lfVxuZXhwb3J0IGNvbnN0IHVzZSR7YXBpLm5hbWV9ID0gKCkgPT4ge1xuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGNvbnN0IG1ha2VSZXF1ZXN0ID0gYXN5bmMgKGVuZHBvaW50LCBvcHRpb25zID0ge30pID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxcYFxcJHtCQVNFX1VSTH1cXCR7ZW5kcG9pbnR9XFxgLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IFxcYEJlYXJlciBcXCR7QVBJX0tFWX1cXGAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnNcbiAgICAgICAgfSxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcYEhUVFAgZXJyb3IhIHN0YXR1czogXFwke3Jlc3BvbnNlLnN0YXR1c31cXGApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBzZXREYXRhKHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0RGF0YSA9ICgpID0+IG1ha2VSZXF1ZXN0KCcvZGF0YScpO1xuXG4gIHJldHVybiB7IGRhdGEsIGxvYWRpbmcsIGVycm9yLCBnZXREYXRhLCBtYWtlUmVxdWVzdCB9O1xufTtcblxuLy8gRXhhbXBsZSBjb21wb25lbnRcbmV4cG9ydCBjb25zdCAke2FwaS5uYW1lfUNvbXBvbmVudCA9ICgpID0+IHtcbiAgY29uc3QgeyBkYXRhLCBsb2FkaW5nLCBlcnJvciwgZ2V0RGF0YSB9ID0gdXNlJHthcGkubmFtZX0oKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldERhdGEoKTtcbiAgfSwgW10pO1xuXG4gIGlmIChsb2FkaW5nKSByZXR1cm4gPGRpdj5Mb2FkaW5nLi4uPC9kaXY+O1xuICBpZiAoZXJyb3IpIHJldHVybiA8ZGl2PkVycm9yOiB7ZXJyb3J9PC9kaXY+O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxoMj4ke2FwaS5uYW1lfSBEYXRhPC9oMj5cbiAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpfTwvcHJlPlxuICAgIDwvZGl2PlxuICApO1xufTtgXG4gICAgfSxcbiAgICB0eXBlc2NyaXB0OiB7XG4gICAgICB2YW5pbGxhOiBgLy8gJHthcGkubmFtZX0gSW50ZWdyYXRpb25cbi8vICR7YXBpLmRlc2NyaXB0aW9ufVxuXG5pbnRlcmZhY2UgJHthcGkubmFtZX1Db25maWcge1xuICBhcGlLZXk6IHN0cmluZztcbiAgYmFzZVVSTD86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlICR7YXBpLm5hbWV9UmVzcG9uc2U8VD4ge1xuICBkYXRhOiBUO1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBtZXNzYWdlPzogc3RyaW5nO1xufVxuXG5jbGFzcyAke2FwaS5uYW1lfUNsaWVudCB7XG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmc7XG4gIHByaXZhdGUgYmFzZVVSTDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogJHthcGkubmFtZX1Db25maWcpIHtcbiAgICB0aGlzLmFwaUtleSA9IGNvbmZpZy5hcGlLZXk7XG4gICAgdGhpcy5iYXNlVVJMID0gY29uZmlnLmJhc2VVUkwgfHwgJ2h0dHBzOi8vYXBpLiR7YXBpLm5hbWUudG9Mb3dlckNhc2UoKX0uY29tJztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWFrZVJlcXVlc3Q8VD4oXG4gICAgZW5kcG9pbnQ6IHN0cmluZywgXG4gICAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuICApOiBQcm9taXNlPCR7YXBpLm5hbWV9UmVzcG9uc2U8VD4+IHtcbiAgICBjb25zdCB1cmwgPSBcXGBcXCR7dGhpcy5iYXNlVVJMfVxcJHtlbmRwb2ludH1cXGA7XG4gICAgY29uc3QgY29uZmlnOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBcXGBCZWFyZXIgXFwke3RoaXMuYXBpS2V5fVxcYCxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzXG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIGNvbmZpZyk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcYEhUVFAgZXJyb3IhIHN0YXR1czogXFwke3Jlc3BvbnNlLnN0YXR1c31cXGApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCcke2FwaS5uYW1lfSBBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGdldERhdGE8VD4oKTogUHJvbWlzZTwke2FwaS5uYW1lfVJlc3BvbnNlPFQ+PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3Q8VD4oJy9kYXRhJyk7XG4gIH1cbn1cblxuLy8gVXNhZ2UgZXhhbXBsZVxuY29uc3QgY2xpZW50ID0gbmV3ICR7YXBpLm5hbWV9Q2xpZW50KHtcbiAgYXBpS2V5OiAnWU9VUl9BUElfS0VZJ1xufSk7XG5cbi8vIEV4YW1wbGUgdXNhZ2Ugd2l0aCBwcm9wZXIgdHlwaW5nXG5jbGllbnQuZ2V0RGF0YTxhbnk+KClcbiAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzOicsIHJlc3BvbnNlLmRhdGEpO1xuICB9KVxuICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcbiAgfSk7YFxuICAgIH0sXG4gICAgcHl0aG9uOiB7XG4gICAgICB2YW5pbGxhOiBgXCJcIlwiXG4ke2FwaS5uYW1lfSBJbnRlZ3JhdGlvblxuJHthcGkuZGVzY3JpcHRpb259XG5cIlwiXCJcblxuaW1wb3J0IHJlcXVlc3RzXG5pbXBvcnQganNvblxuZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEFueSwgT3B0aW9uYWxcblxuY2xhc3MgJHthcGkubmFtZX1DbGllbnQ6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIGFwaV9rZXk6IHN0ciwgYmFzZV91cmw6IE9wdGlvbmFsW3N0cl0gPSBOb25lKTpcbiAgICAgICAgc2VsZi5hcGlfa2V5ID0gYXBpX2tleVxuICAgICAgICBzZWxmLmJhc2VfdXJsID0gYmFzZV91cmwgb3IgXCJodHRwczovL2FwaS4ke2FwaS5uYW1lLnRvTG93ZXJDYXNlKCl9LmNvbVwiXG4gICAgICAgIHNlbGYuc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKVxuICAgICAgICBzZWxmLnNlc3Npb24uaGVhZGVycy51cGRhdGUoe1xuICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IGZcIkJlYXJlciB7YXBpX2tleX1cIixcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0pXG4gICAgXG4gICAgZGVmIF9tYWtlX3JlcXVlc3Qoc2VsZiwgZW5kcG9pbnQ6IHN0ciwgbWV0aG9kOiBzdHIgPSBcIkdFVFwiLCAqKmt3YXJncykgLT4gRGljdFtzdHIsIEFueV06XG4gICAgICAgIFwiXCJcIk1ha2UgSFRUUCByZXF1ZXN0IHRvICR7YXBpLm5hbWV9IEFQSVwiXCJcIlxuICAgICAgICB1cmwgPSBmXCJ7c2VsZi5iYXNlX3VybH17ZW5kcG9pbnR9XCJcbiAgICAgICAgXG4gICAgICAgIHRyeTpcbiAgICAgICAgICAgIHJlc3BvbnNlID0gc2VsZi5zZXNzaW9uLnJlcXVlc3QobWV0aG9kLCB1cmwsICoqa3dhcmdzKVxuICAgICAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgICAgIHByaW50KGZcIiR7YXBpLm5hbWV9IEFQSSBFcnJvcjoge2V9XCIpXG4gICAgICAgICAgICByYWlzZVxuICAgIFxuICAgIGRlZiBnZXRfZGF0YShzZWxmKSAtPiBEaWN0W3N0ciwgQW55XTpcbiAgICAgICAgXCJcIlwiR2V0IGRhdGEgZnJvbSAke2FwaS5uYW1lfSBBUElcIlwiXCJcbiAgICAgICAgcmV0dXJuIHNlbGYuX21ha2VfcmVxdWVzdChcIi9kYXRhXCIpXG4gICAgXG4gICAgZGVmIHBvc3RfZGF0YShzZWxmLCBkYXRhOiBEaWN0W3N0ciwgQW55XSkgLT4gRGljdFtzdHIsIEFueV06XG4gICAgICAgIFwiXCJcIlBvc3QgZGF0YSB0byAke2FwaS5uYW1lfSBBUElcIlwiXCJcbiAgICAgICAgcmV0dXJuIHNlbGYuX21ha2VfcmVxdWVzdChcIi9kYXRhXCIsIG1ldGhvZD1cIlBPU1RcIiwganNvbj1kYXRhKVxuXG4jIFVzYWdlIGV4YW1wbGVcbmlmIF9fbmFtZV9fID09IFwiX19tYWluX19cIjpcbiAgICBjbGllbnQgPSAke2FwaS5uYW1lfUNsaWVudChhcGlfa2V5PVwiWU9VUl9BUElfS0VZXCIpXG4gICAgXG4gICAgdHJ5OlxuICAgICAgICBkYXRhID0gY2xpZW50LmdldF9kYXRhKClcbiAgICAgICAgcHJpbnQoXCJTdWNjZXNzOlwiLCBqc29uLmR1bXBzKGRhdGEsIGluZGVudD0yKSlcbiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGVycm9yOlxuICAgICAgICBwcmludChmXCJFcnJvcjoge2Vycm9yfVwiKWAsXG4gICAgICBkamFuZ286IGBcIlwiXCJcbiR7YXBpLm5hbWV9IERqYW5nbyBJbnRlZ3JhdGlvblxuJHthcGkuZGVzY3JpcHRpb259XG5cIlwiXCJcblxuZnJvbSBkamFuZ28uY29uZiBpbXBvcnQgc2V0dGluZ3NcbmZyb20gZGphbmdvLmh0dHAgaW1wb3J0IEpzb25SZXNwb25zZVxuZnJvbSBkamFuZ28udmlld3MuZGVjb3JhdG9ycy5odHRwIGltcG9ydCByZXF1aXJlX2h0dHBfbWV0aG9kc1xuZnJvbSBkamFuZ28udmlld3MuZGVjb3JhdG9ycy5jc3JmIGltcG9ydCBjc3JmX2V4ZW1wdFxuaW1wb3J0IHJlcXVlc3RzXG5pbXBvcnQganNvblxuXG5jbGFzcyAke2FwaS5uYW1lfVNlcnZpY2U6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYpOlxuICAgICAgICBzZWxmLmFwaV9rZXkgPSBnZXRhdHRyKHNldHRpbmdzLCAnJHthcGkubmFtZS51cHBlcigpfV9BUElfS0VZJywgJycpXG4gICAgICAgIHNlbGYuYmFzZV91cmwgPSBnZXRhdHRyKHNldHRpbmdzLCAnJHthcGkubmFtZS51cHBlcigpfV9CQVNFX1VSTCcsICdodHRwczovL2FwaS4ke2FwaS5uYW1lLnRvTG93ZXJDYXNlKCl9LmNvbScpXG4gICAgXG4gICAgZGVmIF9tYWtlX3JlcXVlc3Qoc2VsZiwgZW5kcG9pbnQsIG1ldGhvZD0nR0VUJywgZGF0YT1Ob25lKTpcbiAgICAgICAgaGVhZGVycyA9IHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogZidCZWFyZXIge3NlbGYuYXBpX2tleX0nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB1cmwgPSBmXCJ7c2VsZi5iYXNlX3VybH17ZW5kcG9pbnR9XCJcbiAgICAgICAgXG4gICAgICAgIHRyeTpcbiAgICAgICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucmVxdWVzdChcbiAgICAgICAgICAgICAgICBtZXRob2Q9bWV0aG9kLFxuICAgICAgICAgICAgICAgIHVybD11cmwsXG4gICAgICAgICAgICAgICAgaGVhZGVycz1oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGpzb249ZGF0YSBpZiBkYXRhIGVsc2UgTm9uZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmXCIke2FwaS5uYW1lfSBBUEkgRXJyb3I6IHtzdHIoZSl9XCIpXG4gICAgXG4gICAgZGVmIGdldF9kYXRhKHNlbGYpOlxuICAgICAgICByZXR1cm4gc2VsZi5fbWFrZV9yZXF1ZXN0KCcvZGF0YScpXG5cbiMgRGphbmdvIHZpZXdzXG5AcmVxdWlyZV9odHRwX21ldGhvZHMoW1wiR0VUXCJdKVxuZGVmIGdldF8ke2FwaS5uYW1lLnRvTG93ZXJDYXNlKCl9X2RhdGEocmVxdWVzdCk6XG4gICAgdHJ5OlxuICAgICAgICBzZXJ2aWNlID0gJHthcGkubmFtZX1TZXJ2aWNlKClcbiAgICAgICAgZGF0YSA9IHNlcnZpY2UuZ2V0X2RhdGEoKVxuICAgICAgICByZXR1cm4gSnNvblJlc3BvbnNlKHsnc3VjY2Vzcyc6IFRydWUsICdkYXRhJzogZGF0YX0pXG4gICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICByZXR1cm4gSnNvblJlc3BvbnNlKHsnc3VjY2Vzcyc6IEZhbHNlLCAnZXJyb3InOiBzdHIoZSl9LCBzdGF0dXM9NTAwKVxuXG4jIEFkZCB0byBzZXR0aW5ncy5weTpcbiMgJHthcGkubmFtZS51cHBlcigpfV9BUElfS0VZID0gJ3lvdXJfYXBpX2tleV9oZXJlJ2BcbiAgICB9LFxuICAgIHBocDoge1xuICAgICAgdmFuaWxsYTogYDw/cGhwXG4vKipcbiAqICR7YXBpLm5hbWV9IEludGVncmF0aW9uXG4gKiAke2FwaS5kZXNjcmlwdGlvbn1cbiAqL1xuXG5jbGFzcyAke2FwaS5uYW1lfUNsaWVudCB7XG4gICAgcHJpdmF0ZSAkYXBpS2V5O1xuICAgIHByaXZhdGUgJGJhc2VVUkw7XG4gICAgXG4gICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRhcGlLZXksICRiYXNlVVJMID0gbnVsbCkge1xuICAgICAgICAkdGhpcy0+YXBpS2V5ID0gJGFwaUtleTtcbiAgICAgICAgJHRoaXMtPmJhc2VVUkwgPSAkYmFzZVVSTCA/OiAnaHR0cHM6Ly9hcGkuJHthcGkubmFtZS50b0xvd2VyQ2FzZSgpfS5jb20nO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCRlbmRwb2ludCwgJG1ldGhvZCA9ICdHRVQnLCAkZGF0YSA9IG51bGwpIHtcbiAgICAgICAgJHVybCA9ICR0aGlzLT5iYXNlVVJMIC4gJGVuZHBvaW50O1xuICAgICAgICBcbiAgICAgICAgJGhlYWRlcnMgPSBbXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbjogQmVhcmVyICcgLiAkdGhpcy0+YXBpS2V5LFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgICRjaCA9IGN1cmxfaW5pdCgpO1xuICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAkdXJsKTtcbiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTtcbiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsICRoZWFkZXJzKTtcbiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NVU1RPTVJFUVVFU1QsICRtZXRob2QpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCRkYXRhICYmIGluX2FycmF5KCRtZXRob2QsIFsnUE9TVCcsICdQVVQnLCAnUEFUQ0gnXSkpIHtcbiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCBqc29uX2VuY29kZSgkZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkcmVzcG9uc2UgPSBjdXJsX2V4ZWMoJGNoKTtcbiAgICAgICAgJGh0dHBDb2RlID0gY3VybF9nZXRpbmZvKCRjaCwgQ1VSTElORk9fSFRUUF9DT0RFKTtcbiAgICAgICAgY3VybF9jbG9zZSgkY2gpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCRodHRwQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCIke2FwaS5uYW1lfSBBUEkgRXJyb3I6IEhUVFAgJGh0dHBDb2RlXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ganNvbl9kZWNvZGUoJHJlc3BvbnNlLCB0cnVlKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiAkdGhpcy0+bWFrZVJlcXVlc3QoJy9kYXRhJyk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBmdW5jdGlvbiBwb3N0RGF0YSgkZGF0YSkge1xuICAgICAgICByZXR1cm4gJHRoaXMtPm1ha2VSZXF1ZXN0KCcvZGF0YScsICdQT1NUJywgJGRhdGEpO1xuICAgIH1cbn1cblxuLy8gVXNhZ2UgZXhhbXBsZVxudHJ5IHtcbiAgICAkY2xpZW50ID0gbmV3ICR7YXBpLm5hbWV9Q2xpZW50KCdZT1VSX0FQSV9LRVknKTtcbiAgICAkZGF0YSA9ICRjbGllbnQtPmdldERhdGEoKTtcbiAgICBlY2hvIGpzb25fZW5jb2RlKCRkYXRhLCBKU09OX1BSRVRUWV9QUklOVCk7XG59IGNhdGNoIChFeGNlcHRpb24gJGUpIHtcbiAgICBlY2hvIFwiRXJyb3I6IFwiIC4gJGUtPmdldE1lc3NhZ2UoKTtcbn1cbj8+YFxuICAgIH0sXG4gICAgZ286IHtcbiAgICAgIHZhbmlsbGE6IGBwYWNrYWdlIG1haW5cblxuaW1wb3J0IChcbiAgICBcImJ5dGVzXCJcbiAgICBcImVuY29kaW5nL2pzb25cIlxuICAgIFwiZm10XCJcbiAgICBcImlvXCJcbiAgICBcIm5ldC9odHRwXCJcbiAgICBcInRpbWVcIlxuKVxuXG4vLyAke2FwaS5uYW1lfUNsaWVudCByZXByZXNlbnRzIHRoZSBBUEkgY2xpZW50XG50eXBlICR7YXBpLm5hbWV9Q2xpZW50IHN0cnVjdCB7XG4gICAgQVBJS2V5ICBzdHJpbmdcbiAgICBCYXNlVVJMIHN0cmluZ1xuICAgIGNsaWVudCAgKmh0dHAuQ2xpZW50XG59XG5cbi8vIE5ldyR7YXBpLm5hbWV9Q2xpZW50IGNyZWF0ZXMgYSBuZXcgJHthcGkubmFtZX0gY2xpZW50XG5mdW5jIE5ldyR7YXBpLm5hbWV9Q2xpZW50KGFwaUtleSBzdHJpbmcpICoke2FwaS5uYW1lfUNsaWVudCB7XG4gICAgcmV0dXJuICYke2FwaS5uYW1lfUNsaWVudHtcbiAgICAgICAgQVBJS2V5OiAgYXBpS2V5LFxuICAgICAgICBCYXNlVVJMOiBcImh0dHBzOi8vYXBpLiR7YXBpLm5hbWUudG9Mb3dlckNhc2UoKX0uY29tXCIsXG4gICAgICAgIGNsaWVudDogJmh0dHAuQ2xpZW50e1xuICAgICAgICAgICAgVGltZW91dDogdGltZS5TZWNvbmQgKiAzMCxcbiAgICAgICAgfSxcbiAgICB9XG59XG5cbi8vIG1ha2VSZXF1ZXN0IG1ha2VzIGFuIEhUVFAgcmVxdWVzdCB0byB0aGUgJHthcGkubmFtZX0gQVBJXG5mdW5jIChjICoke2FwaS5uYW1lfUNsaWVudCkgbWFrZVJlcXVlc3QoZW5kcG9pbnQsIG1ldGhvZCBzdHJpbmcsIGRhdGEgaW50ZXJmYWNle30pIChtYXBbc3RyaW5nXWludGVyZmFjZXt9LCBlcnJvcikge1xuICAgIHVybCA6PSBjLkJhc2VVUkwgKyBlbmRwb2ludFxuICAgIFxuICAgIHZhciBib2R5IGlvLlJlYWRlclxuICAgIGlmIGRhdGEgIT0gbmlsIHtcbiAgICAgICAganNvbkRhdGEsIGVyciA6PSBqc29uLk1hcnNoYWwoZGF0YSlcbiAgICAgICAgaWYgZXJyICE9IG5pbCB7XG4gICAgICAgICAgICByZXR1cm4gbmlsLCBmbXQuRXJyb3JmKFwiZXJyb3IgbWFyc2hhbGluZyBkYXRhOiAldlwiLCBlcnIpXG4gICAgICAgIH1cbiAgICAgICAgYm9keSA9IGJ5dGVzLk5ld0J1ZmZlcihqc29uRGF0YSlcbiAgICB9XG4gICAgXG4gICAgcmVxLCBlcnIgOj0gaHR0cC5OZXdSZXF1ZXN0KG1ldGhvZCwgdXJsLCBib2R5KVxuICAgIGlmIGVyciAhPSBuaWwge1xuICAgICAgICByZXR1cm4gbmlsLCBmbXQuRXJyb3JmKFwiZXJyb3IgY3JlYXRpbmcgcmVxdWVzdDogJXZcIiwgZXJyKVxuICAgIH1cbiAgICBcbiAgICByZXEuSGVhZGVyLlNldChcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIrYy5BUElLZXkpXG4gICAgcmVxLkhlYWRlci5TZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gICAgXG4gICAgcmVzcCwgZXJyIDo9IGMuY2xpZW50LkRvKHJlcSlcbiAgICBpZiBlcnIgIT0gbmlsIHtcbiAgICAgICAgcmV0dXJuIG5pbCwgZm10LkVycm9yZihcImVycm9yIG1ha2luZyByZXF1ZXN0OiAldlwiLCBlcnIpXG4gICAgfVxuICAgIGRlZmVyIHJlc3AuQm9keS5DbG9zZSgpXG4gICAgXG4gICAgaWYgcmVzcC5TdGF0dXNDb2RlID49IDQwMCB7XG4gICAgICAgIHJldHVybiBuaWwsIGZtdC5FcnJvcmYoXCJBUEkgZXJyb3I6ICVzXCIsIHJlc3AuU3RhdHVzKVxuICAgIH1cbiAgICBcbiAgICB2YXIgcmVzdWx0IG1hcFtzdHJpbmddaW50ZXJmYWNle31cbiAgICBpZiBlcnIgOj0ganNvbi5OZXdEZWNvZGVyKHJlc3AuQm9keSkuRGVjb2RlKCZyZXN1bHQpOyBlcnIgIT0gbmlsIHtcbiAgICAgICAgcmV0dXJuIG5pbCwgZm10LkVycm9yZihcImVycm9yIGRlY29kaW5nIHJlc3BvbnNlOiAldlwiLCBlcnIpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQsIG5pbFxufVxuXG4vLyBHZXREYXRhIGdldHMgZGF0YSBmcm9tICR7YXBpLm5hbWV9IEFQSVxuZnVuYyAoYyAqJHthcGkubmFtZX1DbGllbnQpIEdldERhdGEoKSAobWFwW3N0cmluZ11pbnRlcmZhY2V7fSwgZXJyb3IpIHtcbiAgICByZXR1cm4gYy5tYWtlUmVxdWVzdChcIi9kYXRhXCIsIFwiR0VUXCIsIG5pbClcbn1cblxuLy8gUG9zdERhdGEgcG9zdHMgZGF0YSB0byAke2FwaS5uYW1lfSBBUElcbmZ1bmMgKGMgKiR7YXBpLm5hbWV9Q2xpZW50KSBQb3N0RGF0YShkYXRhIG1hcFtzdHJpbmddaW50ZXJmYWNle30pIChtYXBbc3RyaW5nXWludGVyZmFjZXt9LCBlcnJvcikge1xuICAgIHJldHVybiBjLm1ha2VSZXF1ZXN0KFwiL2RhdGFcIiwgXCJQT1NUXCIsIGRhdGEpXG59XG5cbmZ1bmMgbWFpbigpIHtcbiAgICBjbGllbnQgOj0gTmV3JHthcGkubmFtZX1DbGllbnQoXCJZT1VSX0FQSV9LRVlcIilcbiAgICBcbiAgICBkYXRhLCBlcnIgOj0gY2xpZW50LkdldERhdGEoKVxuICAgIGlmIGVyciAhPSBuaWwge1xuICAgICAgICBmbXQuUHJpbnRmKFwiRXJyb3I6ICV2XFxcXG5cIiwgZXJyKVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAganNvbkRhdGEsIF8gOj0ganNvbi5NYXJzaGFsSW5kZW50KGRhdGEsIFwiXCIsIFwiICBcIilcbiAgICBmbXQuUHJpbnRmKFwiU3VjY2VzczogJXNcXFxcblwiLCBqc29uRGF0YSlcbn1gXG4gICAgfSxcbiAgICBydXN0OiB7XG4gICAgICB2YW5pbGxhOiBgdXNlIHJlcXdlc3Q6OntDbGllbnQsIEVycm9yIGFzIFJlcXdlc3RFcnJvcn07XG51c2Ugc2VyZGU6OntEZXNlcmlhbGl6ZSwgU2VyaWFsaXplfTtcbnVzZSBzZXJkZV9qc29uOjpWYWx1ZTtcbnVzZSBzdGQ6OmNvbGxlY3Rpb25zOjpIYXNoTWFwO1xuXG4vLy8gJHthcGkubmFtZX0gQVBJIENsaWVudFxuLy8vICR7YXBpLmRlc2NyaXB0aW9ufVxucHViIHN0cnVjdCAke2FwaS5uYW1lfUNsaWVudCB7XG4gICAgYXBpX2tleTogU3RyaW5nLFxuICAgIGJhc2VfdXJsOiBTdHJpbmcsXG4gICAgY2xpZW50OiBDbGllbnQsXG59XG5cbiNbZGVyaXZlKERlYnVnLCBTZXJpYWxpemUsIERlc2VyaWFsaXplKV1cbnB1YiBzdHJ1Y3QgQXBpUmVzcG9uc2Uge1xuICAgIHB1YiBzdWNjZXNzOiBib29sLFxuICAgIHB1YiBkYXRhOiBPcHRpb248VmFsdWU+LFxuICAgIHB1YiBlcnJvcjogT3B0aW9uPFN0cmluZz4sXG59XG5cbmltcGwgJHthcGkubmFtZX1DbGllbnQge1xuICAgIC8vLyBDcmVhdGUgYSBuZXcgJHthcGkubmFtZX0gY2xpZW50XG4gICAgcHViIGZuIG5ldyhhcGlfa2V5OiBTdHJpbmcpIC0+IFNlbGYge1xuICAgICAgICBTZWxmIHtcbiAgICAgICAgICAgIGFwaV9rZXksXG4gICAgICAgICAgICBiYXNlX3VybDogXCJodHRwczovL2FwaS4ke2FwaS5uYW1lLnRvTG93ZXJDYXNlKCl9LmNvbVwiLnRvX3N0cmluZygpLFxuICAgICAgICAgICAgY2xpZW50OiBDbGllbnQ6Om5ldygpLFxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vLyBNYWtlIGEgcmVxdWVzdCB0byB0aGUgJHthcGkubmFtZX0gQVBJXG4gICAgYXN5bmMgZm4gbWFrZV9yZXF1ZXN0KFxuICAgICAgICAmc2VsZixcbiAgICAgICAgZW5kcG9pbnQ6ICZzdHIsXG4gICAgICAgIG1ldGhvZDogJnN0cixcbiAgICAgICAgZGF0YTogT3B0aW9uPCZWYWx1ZT4sXG4gICAgKSAtPiBSZXN1bHQ8VmFsdWUsIFJlcXdlc3RFcnJvcj4ge1xuICAgICAgICBsZXQgdXJsID0gZm9ybWF0IShcInt9e31cIiwgc2VsZi5iYXNlX3VybCwgZW5kcG9pbnQpO1xuICAgICAgICBcbiAgICAgICAgbGV0IG11dCByZXF1ZXN0ID0gbWF0Y2ggbWV0aG9kLnRvX3VwcGVyY2FzZSgpLmFzX3N0cigpIHtcbiAgICAgICAgICAgIFwiR0VUXCIgPT4gc2VsZi5jbGllbnQuZ2V0KCZ1cmwpLFxuICAgICAgICAgICAgXCJQT1NUXCIgPT4gc2VsZi5jbGllbnQucG9zdCgmdXJsKSxcbiAgICAgICAgICAgIFwiUFVUXCIgPT4gc2VsZi5jbGllbnQucHV0KCZ1cmwpLFxuICAgICAgICAgICAgXCJERUxFVEVcIiA9PiBzZWxmLmNsaWVudC5kZWxldGUoJnVybCksXG4gICAgICAgICAgICBfID0+IHNlbGYuY2xpZW50LmdldCgmdXJsKSxcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0XG4gICAgICAgICAgICAuaGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBmb3JtYXQhKFwiQmVhcmVyIHt9XCIsIHNlbGYuYXBpX2tleSkpXG4gICAgICAgICAgICAuaGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmIGxldCBTb21lKGJvZHkpID0gZGF0YSB7XG4gICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdC5qc29uKGJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgcmVzcG9uc2UgPSByZXF1ZXN0LnNlbmQoKS5hd2FpdD87XG4gICAgICAgIGxldCBqc29uOiBWYWx1ZSA9IHJlc3BvbnNlLmpzb24oKS5hd2FpdD87XG4gICAgICAgIFxuICAgICAgICBPayhqc29uKVxuICAgIH1cbiAgICBcbiAgICAvLy8gR2V0IGRhdGEgZnJvbSAke2FwaS5uYW1lfSBBUElcbiAgICBwdWIgYXN5bmMgZm4gZ2V0X2RhdGEoJnNlbGYpIC0+IFJlc3VsdDxWYWx1ZSwgUmVxd2VzdEVycm9yPiB7XG4gICAgICAgIHNlbGYubWFrZV9yZXF1ZXN0KFwiL2RhdGFcIiwgXCJHRVRcIiwgTm9uZSkuYXdhaXRcbiAgICB9XG4gICAgXG4gICAgLy8vIFBvc3QgZGF0YSB0byAke2FwaS5uYW1lfSBBUElcbiAgICBwdWIgYXN5bmMgZm4gcG9zdF9kYXRhKCZzZWxmLCBkYXRhOiAmVmFsdWUpIC0+IFJlc3VsdDxWYWx1ZSwgUmVxd2VzdEVycm9yPiB7XG4gICAgICAgIHNlbGYubWFrZV9yZXF1ZXN0KFwiL2RhdGFcIiwgXCJQT1NUXCIsIFNvbWUoZGF0YSkpLmF3YWl0XG4gICAgfVxufVxuXG4jW3Rva2lvOjptYWluXVxuYXN5bmMgZm4gbWFpbigpIC0+IFJlc3VsdDwoKSwgQm94PGR5biBzdGQ6OmVycm9yOjpFcnJvcj4+IHtcbiAgICBsZXQgY2xpZW50ID0gJHthcGkubmFtZX1DbGllbnQ6Om5ldyhcIllPVVJfQVBJX0tFWVwiLnRvX3N0cmluZygpKTtcbiAgICBcbiAgICBtYXRjaCBjbGllbnQuZ2V0X2RhdGEoKS5hd2FpdCB7XG4gICAgICAgIE9rKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHByaW50bG4hKFwiU3VjY2Vzczoge31cIiwgc2VyZGVfanNvbjo6dG9fc3RyaW5nX3ByZXR0eSgmZGF0YSk/KTtcbiAgICAgICAgfVxuICAgICAgICBFcnIoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGVwcmludGxuIShcIkVycm9yOiB7fVwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgT2soKCkpXG59XG5cbi8vIEFkZCB0byBDYXJnby50b21sOlxuLy8gW2RlcGVuZGVuY2llc11cbi8vIHJlcXdlc3QgPSB7IHZlcnNpb24gPSBcIjAuMTFcIiwgZmVhdHVyZXMgPSBbXCJqc29uXCJdIH1cbi8vIHNlcmRlID0geyB2ZXJzaW9uID0gXCIxLjBcIiwgZmVhdHVyZXMgPSBbXCJkZXJpdmVcIl0gfVxuLy8gc2VyZGVfanNvbiA9IFwiMS4wXCJcbi8vIHRva2lvID0geyB2ZXJzaW9uID0gXCIxXCIsIGZlYXR1cmVzID0gW1wiZnVsbFwiXSB9YFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0ZW1wbGF0ZXNbbGFuZ3VhZ2VdPy5bZnJhbWV3b3JrXSB8fCB0ZW1wbGF0ZXNbbGFuZ3VhZ2VdPy52YW5pbGxhIHx8IGAvLyAke2FwaS5uYW1lfSBpbnRlZ3JhdGlvbiBjb2RlIG5vdCBhdmFpbGFibGUgZm9yICR7bGFuZ3VhZ2V9IHdpdGggJHtmcmFtZXdvcmt9IGZyYW1ld29ya2Bcbn0iXSwibmFtZXMiOlsiZ2VuZXJhdGVDb2RlIiwiYXBpIiwibGFuZ3VhZ2UiLCJmcmFtZXdvcmsiLCJ0ZW1wbGF0ZSIsImNvZGVUZW1wbGF0ZXMiLCJ2YW5pbGxhVGVtcGxhdGUiLCJnZW5lcmF0ZUZhbGxiYWNrQ29kZSIsInRlbXBsYXRlcyIsImphdmFzY3JpcHQiLCJ2YW5pbGxhIiwibmFtZSIsImRlc2NyaXB0aW9uIiwidG9Mb3dlckNhc2UiLCJyZWFjdCIsInR5cGVzY3JpcHQiLCJweXRob24iLCJkamFuZ28iLCJ1cHBlciIsInBocCIsImdvIiwicnVzdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/code-generator.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"b9917786d010\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlYm9pbGVyLy4vYXBwL2dsb2JhbHMuY3NzP2U0MmMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJiOTkxNzc4NmQwMTBcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/api/[slug]/_components/api-details-client.tsx":
/*!***********************************************************!*\
  !*** ./app/api/[slug]/_components/api-details-client.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\vs code projects\boilerplate code webapp\app\api\[slug]\_components\api-details-client.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(rsc)/./app/api/[slug]/_components/api-details-wrapper.tsx":
/*!************************************************************!*\
  !*** ./app/api/[slug]/_components/api-details-wrapper.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ APIDetailsWrapper)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_details_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api-details-client */ \"(rsc)/./app/api/[slug]/_components/api-details-client.tsx\");\n\n\nfunction APIDetailsWrapper({ initialApiData }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_api_details_client__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        api: initialApiData\n    }, void 0, false, {\n        fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\_components\\\\api-details-wrapper.tsx\",\n        lineNumber: 9,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL1tzbHVnXS9fY29tcG9uZW50cy9hcGktZGV0YWlscy13cmFwcGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFtRDtBQU9wQyxTQUFTQyxrQkFBa0IsRUFBRUMsY0FBYyxFQUEwQjtJQUNsRixxQkFBTyw4REFBQ0YsMkRBQWdCQTtRQUFDRyxLQUFLRDs7Ozs7O0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29kZWJvaWxlci8uL2FwcC9hcGkvW3NsdWddL19jb21wb25lbnRzL2FwaS1kZXRhaWxzLXdyYXBwZXIudHN4P2ZkMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFQSURldGFpbHNDbGllbnQgZnJvbSAnLi9hcGktZGV0YWlscy1jbGllbnQnXG5pbXBvcnQgdHlwZSB7IEFQSVRlbXBsYXRlIH0gZnJvbSAnQC90eXBlcy9hcGknXG5cbmludGVyZmFjZSBBUElEZXRhaWxzV3JhcHBlclByb3BzIHtcbiAgaW5pdGlhbEFwaURhdGE6IEFQSVRlbXBsYXRlIHwgbnVsbFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBUElEZXRhaWxzV3JhcHBlcih7IGluaXRpYWxBcGlEYXRhIH06IEFQSURldGFpbHNXcmFwcGVyUHJvcHMpIHtcbiAgcmV0dXJuIDxBUElEZXRhaWxzQ2xpZW50IGFwaT17aW5pdGlhbEFwaURhdGF9IC8+XG59Il0sIm5hbWVzIjpbIkFQSURldGFpbHNDbGllbnQiLCJBUElEZXRhaWxzV3JhcHBlciIsImluaXRpYWxBcGlEYXRhIiwiYXBpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/[slug]/_components/api-details-wrapper.tsx\n");

/***/ }),

/***/ "(rsc)/./app/api/[slug]/page.tsx":
/*!*********************************!*\
  !*** ./app/api/[slug]/page.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ APIPage),\n/* harmony export */   generateStaticParams: () => (/* binding */ generateStaticParams)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_api_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/api-data */ \"(rsc)/./lib/api-data.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(rsc)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_api_details_wrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_components/api-details-wrapper */ \"(rsc)/./app/api/[slug]/_components/api-details-wrapper.tsx\");\n\n\n\n\nasync function generateStaticParams() {\n    const apis = (0,_lib_api_data__WEBPACK_IMPORTED_MODULE_1__.getAllAPIs)();\n    return apis.map((api)=>({\n            slug: api.slug\n        }));\n}\nfunction APIPage({ params }) {\n    const api = (0,_lib_api_data__WEBPACK_IMPORTED_MODULE_1__.getAPIBySlug)(params.slug);\n    if (!api) {\n        (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.notFound)();\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_api_details_wrapper__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        initialApiData: api\n    }, void 0, false, {\n        fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\api\\\\[slug]\\\\page.tsx\",\n        lineNumber: 19,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL1tzbHVnXS9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDZjtBQUN1QjtBQUUxRCxlQUFlSTtJQUNwQixNQUFNQyxPQUFPSix5REFBVUE7SUFDdkIsT0FBT0ksS0FBS0MsR0FBRyxDQUFDLENBQUNDLE1BQVM7WUFDeEJDLE1BQU1ELElBQUlDLElBQUk7UUFDaEI7QUFDRjtBQUVlLFNBQVNDLFFBQVEsRUFBRUMsTUFBTSxFQUFnQztJQUN0RSxNQUFNSCxNQUFNUCwyREFBWUEsQ0FBQ1UsT0FBT0YsSUFBSTtJQUVwQyxJQUFJLENBQUNELEtBQUs7UUFDUkwseURBQVFBO0lBQ1Y7SUFFQSxxQkFBTyw4REFBQ0MsdUVBQWlCQTtRQUFDUSxnQkFBZ0JKOzs7Ozs7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlYm9pbGVyLy4vYXBwL2FwaS9bc2x1Z10vcGFnZS50c3g/OTE2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRBUElCeVNsdWcsIGdldEFsbEFQSXMgfSBmcm9tICdAL2xpYi9hcGktZGF0YSdcbmltcG9ydCB7IG5vdEZvdW5kIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJ1xuaW1wb3J0IEFQSURldGFpbHNXcmFwcGVyIGZyb20gJy4vX2NvbXBvbmVudHMvYXBpLWRldGFpbHMtd3JhcHBlcidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlU3RhdGljUGFyYW1zKCkge1xuICBjb25zdCBhcGlzID0gZ2V0QWxsQVBJcygpXG4gIHJldHVybiBhcGlzLm1hcCgoYXBpKSA9PiAoe1xuICAgIHNsdWc6IGFwaS5zbHVnLFxuICB9KSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQVBJUGFnZSh7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBzbHVnOiBzdHJpbmcgfSB9KSB7XG4gIGNvbnN0IGFwaSA9IGdldEFQSUJ5U2x1ZyhwYXJhbXMuc2x1ZylcbiAgXG4gIGlmICghYXBpKSB7XG4gICAgbm90Rm91bmQoKVxuICB9XG4gIFxuICByZXR1cm4gPEFQSURldGFpbHNXcmFwcGVyIGluaXRpYWxBcGlEYXRhPXthcGl9IC8+XG59Il0sIm5hbWVzIjpbImdldEFQSUJ5U2x1ZyIsImdldEFsbEFQSXMiLCJub3RGb3VuZCIsIkFQSURldGFpbHNXcmFwcGVyIiwiZ2VuZXJhdGVTdGF0aWNQYXJhbXMiLCJhcGlzIiwibWFwIiwiYXBpIiwic2x1ZyIsIkFQSVBhZ2UiLCJwYXJhbXMiLCJpbml0aWFsQXBpRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/[slug]/page.tsx\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app\\\\layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n\n\n\nconst metadata = {\n    title: \"CodeBoiler - API Code Generator\",\n    description: \"Generate production-ready API integration code\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: (next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2___default().className),\n            children: children\n        }, void 0, false, {\n            fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\layout.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\vs code projects\\\\boilerplate code webapp\\\\app\\\\layout.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdNQTtBQUhnQjtBQUtmLE1BQU1DLFdBQVc7SUFDdEJDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUM7QUFFYyxTQUFTQyxXQUFXLEVBQ2pDQyxRQUFRLEVBR1Q7SUFDQyxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztrQkFDVCw0RUFBQ0M7WUFBS0MsV0FBV1QsMkpBQWU7c0JBQUdLOzs7Ozs7Ozs7OztBQUd6QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVib2lsZXIvLi9hcHAvbGF5b3V0LnRzeD85OTg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9nbG9iYWxzLmNzcydcbmltcG9ydCB7IEludGVyIH0gZnJvbSAnbmV4dC9mb250L2dvb2dsZSdcblxuY29uc3QgaW50ZXIgPSBJbnRlcih7IHN1YnNldHM6IFsnbGF0aW4nXSB9KVxuXG5leHBvcnQgY29uc3QgbWV0YWRhdGEgPSB7XG4gIHRpdGxlOiAnQ29kZUJvaWxlciAtIEFQSSBDb2RlIEdlbmVyYXRvcicsXG4gIGRlc2NyaXB0aW9uOiAnR2VuZXJhdGUgcHJvZHVjdGlvbi1yZWFkeSBBUEkgaW50ZWdyYXRpb24gY29kZScsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoe1xuICBjaGlsZHJlbixcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxufSkge1xuICByZXR1cm4gKFxuICAgIDxodG1sIGxhbmc9XCJlblwiPlxuICAgICAgPGJvZHkgY2xhc3NOYW1lPXtpbnRlci5jbGFzc05hbWV9PntjaGlsZHJlbn08L2JvZHk+XG4gICAgPC9odG1sPlxuICApXG59Il0sIm5hbWVzIjpbImludGVyIiwibWV0YWRhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJib2R5IiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./lib/api-data.ts":
/*!*************************!*\
  !*** ./lib/api-data.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiTemplates: () => (/* binding */ apiTemplates),\n/* harmony export */   categories: () => (/* binding */ categories),\n/* harmony export */   getAPIBySlug: () => (/* binding */ getAPIBySlug),\n/* harmony export */   getAPIsByCategory: () => (/* binding */ getAPIsByCategory),\n/* harmony export */   getAllAPIs: () => (/* binding */ getAllAPIs),\n/* harmony export */   getCategories: () => (/* binding */ getCategories),\n/* harmony export */   getCategoryIcon: () => (/* binding */ getCategoryIcon),\n/* harmony export */   getPopularAPIs: () => (/* binding */ getPopularAPIs)\n/* harmony export */ });\n// Mock API data - in production this would come from a database or API\nconst apiTemplates = [\n    // PAYMENT PROCESSING APIS\n    {\n        id: \"stripe\",\n        slug: \"stripe\",\n        name: \"Stripe\",\n        category: \"Payment Processing\",\n        description: \"Complete payment processing with subscriptions, webhooks, and marketplace functionality.\",\n        icon: \"\\uD83D\\uDCB3\",\n        features: [\n            \"Payment Intents API\",\n            \"Subscription Management\",\n            \"Webhook Handling\",\n            \"Customer Portal\",\n            \"Multi-party Payments\",\n            \"Strong Customer Authentication\"\n        ],\n        popularity: 98,\n        documentation: \"https://stripe.com/docs\",\n        codeTemplates: {\n            javascript: {\n                vanilla: `// Stripe Payment Integration\nconst stripe = require('stripe')('sk_test_...');\n\nclass StripePayments {\n  constructor(secretKey) {\n    this.stripe = require('stripe')(secretKey);\n  }\n\n  async createPaymentIntent(amount, currency = 'usd', customerId = null) {\n    try {\n      const paymentIntent = await this.stripe.paymentIntents.create({\n        amount: amount * 100, // Convert to cents\n        currency,\n        customer: customerId,\n        automatic_payment_methods: {\n          enabled: true,\n        },\n      });\n\n      return {\n        success: true,\n        clientSecret: paymentIntent.client_secret,\n        paymentIntentId: paymentIntent.id\n      };\n    } catch (error) {\n      console.error('Stripe Payment Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  async createCustomer(email, name) {\n    try {\n      const customer = await this.stripe.customers.create({\n        email,\n        name,\n      });\n\n      return {\n        success: true,\n        customerId: customer.id\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  async handleWebhook(body, signature, webhookSecret) {\n    try {\n      const event = this.stripe.webhooks.constructEvent(\n        body,\n        signature,\n        webhookSecret\n      );\n\n      switch (event.type) {\n        case 'payment_intent.succeeded':\n          console.log('Payment succeeded:', event.data.object);\n          break;\n        case 'payment_intent.payment_failed':\n          console.log('Payment failed:', event.data.object);\n          break;\n        default:\n          console.log(\\`Unhandled event type \\${event.type}\\`);\n      }\n\n      return { success: true };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n}\n\n// Usage\nconst payments = new StripePayments('sk_test_your_key');\npayments.createPaymentIntent(29.99).then(console.log);`,\n                react: `// Stripe React Integration with Elements\nimport React, { useState } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport {\n  Elements,\n  CardElement,\n  useStripe,\n  useElements\n} from '@stripe/react-stripe-js';\n\nconst stripePromise = loadStripe('pk_test_your_publishable_key');\n\nconst CheckoutForm = () => {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    if (!stripe || !elements) {\n      return;\n    }\n\n    // Create payment intent on your server\n    const response = await fetch('/create-payment-intent', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        amount: 2999, // $29.99\n        currency: 'usd',\n      }),\n    });\n\n    const { client_secret } = await response.json();\n\n    const result = await stripe.confirmCardPayment(client_secret, {\n      payment_method: {\n        card: elements.getElement(CardElement),\n        billing_details: {\n          name: 'Customer Name',\n        },\n      },\n    });\n\n    if (result.error) {\n      setError(result.error.message);\n    } else {\n      setSuccess(true);\n    }\n\n    setLoading(false);\n  };\n\n  if (success) {\n    return <div className=\"success\">Payment successful!</div>;\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"payment-form\">\n      <div className=\"card-element-container\">\n        <CardElement\n          options={{\n            style: {\n              base: {\n                fontSize: '16px',\n                color: '#424770',\n                '::placeholder': {\n                  color: '#aab7c4',\n                },\n              },\n            },\n          }}\n        />\n      </div>\n      \n      {error && <div className=\"error\">{error}</div>}\n      \n      <button\n        type=\"submit\"\n        disabled={!stripe || loading}\n        className=\"pay-button\"\n      >\n        {loading ? 'Processing...' : 'Pay Now'}\n      </button>\n    </form>\n  );\n};\n\nexport const StripeCheckout = () => {\n  return (\n    <Elements stripe={stripePromise}>\n      <CheckoutForm />\n    </Elements>\n  );\n};`\n            },\n            typescript: {\n                vanilla: `// Stripe TypeScript Integration\nimport Stripe from 'stripe';\n\ninterface PaymentResult {\n  success: boolean;\n  clientSecret?: string;\n  paymentIntentId?: string;\n  error?: string;\n}\n\ninterface CustomerResult {\n  success: boolean;\n  customerId?: string;\n  error?: string;\n}\n\nclass StripePayments {\n  private stripe: Stripe;\n\n  constructor(secretKey: string) {\n    this.stripe = new Stripe(secretKey, {\n      apiVersion: '2023-10-16',\n    });\n  }\n\n  async createPaymentIntent(\n    amount: number,\n    currency: string = 'usd',\n    customerId?: string\n  ): Promise<PaymentResult> {\n    try {\n      const params: Stripe.PaymentIntentCreateParams = {\n        amount: Math.round(amount * 100), // Convert to cents\n        currency,\n        automatic_payment_methods: {\n          enabled: true,\n        },\n      };\n\n      if (customerId) {\n        params.customer = customerId;\n      }\n\n      const paymentIntent = await this.stripe.paymentIntents.create(params);\n\n      return {\n        success: true,\n        clientSecret: paymentIntent.client_secret!,\n        paymentIntentId: paymentIntent.id\n      };\n    } catch (error) {\n      console.error('Stripe Payment Error:', error);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  }\n\n  async createCustomer(email: string, name: string): Promise<CustomerResult> {\n    try {\n      const customer = await this.stripe.customers.create({\n        email,\n        name,\n      });\n\n      return {\n        success: true,\n        customerId: customer.id\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  }\n\n  async createSubscription(\n    customerId: string,\n    priceId: string\n  ): Promise<{ success: boolean; subscriptionId?: string; error?: string }> {\n    try {\n      const subscription = await this.stripe.subscriptions.create({\n        customer: customerId,\n        items: [{ price: priceId }],\n        payment_behavior: 'default_incomplete',\n        payment_settings: { save_default_payment_method: 'on_subscription' },\n        expand: ['latest_invoice.payment_intent'],\n      });\n\n      return {\n        success: true,\n        subscriptionId: subscription.id\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  }\n\n  async handleWebhook(\n    body: string,\n    signature: string,\n    webhookSecret: string\n  ): Promise<{ success: boolean; error?: string }> {\n    try {\n      const event = this.stripe.webhooks.constructEvent(\n        body,\n        signature,\n        webhookSecret\n      );\n\n      switch (event.type) {\n        case 'payment_intent.succeeded':\n          console.log('Payment succeeded:', event.data.object);\n          break;\n        case 'payment_intent.payment_failed':\n          console.log('Payment failed:', event.data.object);\n          break;\n        case 'customer.subscription.created':\n          console.log('Subscription created:', event.data.object);\n          break;\n        case 'invoice.payment_succeeded':\n          console.log('Invoice paid:', event.data.object);\n          break;\n        default:\n          console.log(\\`Unhandled event type \\${event.type}\\`);\n      }\n\n      return { success: true };\n    } catch (error) {\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Invalid signature'\n      };\n    }\n  }\n}\n\n// Usage\nconst payments = new StripePayments('sk_test_your_key');\n\nasync function processPayment() {\n  const result = await payments.createPaymentIntent(29.99, 'usd');\n  \n  if (result.success) {\n    console.log('Payment Intent created:', result.paymentIntentId);\n  } else {\n    console.error('Payment failed:', result.error);\n  }\n}\n\nprocessPayment();`\n            },\n            python: {\n                vanilla: `\"\"\"\nStripe Python Integration\nComplete payment processing with subscriptions and webhooks\n\"\"\"\n\nimport stripe\nfrom typing import Dict, Any, Optional\n\nclass StripePayments:\n    def __init__(self, secret_key: str):\n        stripe.api_key = secret_key\n        self.stripe = stripe\n    \n    def create_payment_intent(\n        self, \n        amount: float, \n        currency: str = \"usd\", \n        customer_id: Optional[str] = None\n    ) -> Dict[str, Any]:\n        \"\"\"Create a payment intent for the specified amount\"\"\"\n        try:\n            params = {\n                \"amount\": int(amount * 100),  # Convert to cents\n                \"currency\": currency,\n                \"automatic_payment_methods\": {\"enabled\": True}\n            }\n            \n            if customer_id:\n                params[\"customer\"] = customer_id\n            \n            payment_intent = self.stripe.PaymentIntent.create(**params)\n            \n            return {\n                \"success\": True,\n                \"client_secret\": payment_intent.client_secret,\n                \"payment_intent_id\": payment_intent.id\n            }\n        except stripe.error.StripeError as e:\n            return {\n                \"success\": False,\n                \"error\": str(e)\n            }\n    \n    def create_customer(self, email: str, name: str) -> Dict[str, Any]:\n        \"\"\"Create a new Stripe customer\"\"\"\n        try:\n            customer = self.stripe.Customer.create(\n                email=email,\n                name=name\n            )\n            \n            return {\n                \"success\": True,\n                \"customer_id\": customer.id\n            }\n        except stripe.error.StripeError as e:\n            return {\n                \"success\": False,\n                \"error\": str(e)\n            }\n    \n    def create_subscription(\n        self, \n        customer_id: str, \n        price_id: str\n    ) -> Dict[str, Any]:\n        \"\"\"Create a subscription for a customer\"\"\"\n        try:\n            subscription = self.stripe.Subscription.create(\n                customer=customer_id,\n                items=[{\"price\": price_id}],\n                payment_behavior=\"default_incomplete\",\n                payment_settings={\"save_default_payment_method\": \"on_subscription\"},\n                expand=[\"latest_invoice.payment_intent\"]\n            )\n            \n            return {\n                \"success\": True,\n                \"subscription_id\": subscription.id,\n                \"client_secret\": subscription.latest_invoice.payment_intent.client_secret\n            }\n        except stripe.error.StripeError as e:\n            return {\n                \"success\": False,\n                \"error\": str(e)\n            }\n    \n    def handle_webhook(\n        self, \n        payload: bytes, \n        sig_header: str, \n        webhook_secret: str\n    ) -> Dict[str, Any]:\n        \"\"\"Handle Stripe webhook events\"\"\"\n        try:\n            event = self.stripe.Webhook.construct_event(\n                payload, sig_header, webhook_secret\n            )\n            \n            if event[\"type\"] == \"payment_intent.succeeded\":\n                payment_intent = event[\"data\"][\"object\"]\n                print(f\"Payment succeeded: {payment_intent['id']}\")\n                \n            elif event[\"type\"] == \"payment_intent.payment_failed\":\n                payment_intent = event[\"data\"][\"object\"]\n                print(f\"Payment failed: {payment_intent['id']}\")\n                \n            elif event[\"type\"] == \"customer.subscription.created\":\n                subscription = event[\"data\"][\"object\"]\n                print(f\"Subscription created: {subscription['id']}\")\n                \n            elif event[\"type\"] == \"invoice.payment_succeeded\":\n                invoice = event[\"data\"][\"object\"]\n                print(f\"Invoice paid: {invoice['id']}\")\n            \n            return {\"success\": True}\n            \n        except ValueError:\n            return {\"success\": False, \"error\": \"Invalid payload\"}\n        except stripe.error.SignatureVerificationError:\n            return {\"success\": False, \"error\": \"Invalid signature\"}\n\n# Usage example\nif __name__ == \"__main__\":\n    payments = StripePayments(\"sk_test_your_key\")\n    \n    # Create a payment intent\n    result = payments.create_payment_intent(29.99, \"usd\")\n    \n    if result[\"success\"]:\n        print(f\"Payment Intent created: {result['payment_intent_id']}\")\n    else:\n        print(f\"Error: {result['error']}\")`,\n                django: `\"\"\"\nStripe Django Integration\n\"\"\"\n\nfrom django.conf import settings\nfrom django.http import JsonResponse, HttpResponse\nfrom django.views.decorators.csrf import csrf_exempt\nfrom django.views.decorators.http import require_http_methods\nimport stripe\nimport json\n\nstripe.api_key = getattr(settings, 'STRIPE_SECRET_KEY', '')\n\nclass StripeService:\n    @staticmethod\n    def create_payment_intent(amount, currency='usd', customer_id=None):\n        try:\n            params = {\n                'amount': int(amount * 100),\n                'currency': currency,\n                'automatic_payment_methods': {'enabled': True}\n            }\n            \n            if customer_id:\n                params['customer'] = customer_id\n                \n            payment_intent = stripe.PaymentIntent.create(**params)\n            \n            return {\n                'success': True,\n                'client_secret': payment_intent.client_secret,\n                'payment_intent_id': payment_intent.id\n            }\n        except stripe.error.StripeError as e:\n            return {\n                'success': False,\n                'error': str(e)\n            }\n\n    @staticmethod\n    def create_customer(email, name):\n        try:\n            customer = stripe.Customer.create(\n                email=email,\n                name=name\n            )\n            return {\n                'success': True,\n                'customer_id': customer.id\n            }\n        except stripe.error.StripeError as e:\n            return {\n                'success': False,\n                'error': str(e)\n            }\n\n@require_http_methods([\"POST\"])\ndef create_payment_intent(request):\n    try:\n        data = json.loads(request.body)\n        amount = data.get('amount')\n        currency = data.get('currency', 'usd')\n        \n        result = StripeService.create_payment_intent(amount, currency)\n        return JsonResponse(result)\n        \n    except json.JSONDecodeError:\n        return JsonResponse({'success': False, 'error': 'Invalid JSON'}, status=400)\n\n@csrf_exempt\n@require_http_methods([\"POST\"])\ndef stripe_webhook(request):\n    payload = request.body\n    sig_header = request.META.get('HTTP_STRIPE_SIGNATURE')\n    endpoint_secret = getattr(settings, 'STRIPE_WEBHOOK_SECRET', '')\n    \n    try:\n        event = stripe.Webhook.construct_event(\n            payload, sig_header, endpoint_secret\n        )\n    except (ValueError, stripe.error.SignatureVerificationError):\n        return HttpResponse(status=400)\n    \n    if event['type'] == 'payment_intent.succeeded':\n        payment_intent = event['data']['object']\n        # Handle successful payment\n        print(f\"Payment succeeded: {payment_intent['id']}\")\n    \n    return HttpResponse(status=200)\n\n# Add to settings.py:\n# STRIPE_SECRET_KEY = 'sk_test_your_secret_key'\n# STRIPE_PUBLISHABLE_KEY = 'pk_test_your_publishable_key'\n# STRIPE_WEBHOOK_SECRET = 'whsec_your_webhook_secret'`\n            },\n            php: {\n                vanilla: `<?php\n/**\n * Stripe PHP Integration\n * Complete payment processing with subscriptions and webhooks\n */\n\nrequire_once 'vendor/autoload.php';\n\nuse Stripe\\Stripe;\nuse Stripe\\PaymentIntent;\nuse Stripe\\Customer;\nuse Stripe\\Subscription;\nuse Stripe\\Webhook;\n\nclass StripePayments {\n    private $secretKey;\n    \n    public function __construct($secretKey) {\n        $this->secretKey = $secretKey;\n        Stripe::setApiKey($secretKey);\n    }\n    \n    public function createPaymentIntent($amount, $currency = 'usd', $customerId = null) {\n        try {\n            $params = [\n                'amount' => $amount * 100, // Convert to cents\n                'currency' => $currency,\n                'automatic_payment_methods' => ['enabled' => true]\n            ];\n            \n            if ($customerId) {\n                $params['customer'] = $customerId;\n            }\n            \n            $paymentIntent = PaymentIntent::create($params);\n            \n            return [\n                'success' => true,\n                'client_secret' => $paymentIntent->client_secret,\n                'payment_intent_id' => $paymentIntent->id\n            ];\n            \n        } catch (\\Stripe\\Exception\\ApiErrorException $e) {\n            return [\n                'success' => false,\n                'error' => $e->getMessage()\n            ];\n        }\n    }\n    \n    public function createCustomer($email, $name) {\n        try {\n            $customer = Customer::create([\n                'email' => $email,\n                'name' => $name\n            ]);\n            \n            return [\n                'success' => true,\n                'customer_id' => $customer->id\n            ];\n            \n        } catch (\\Stripe\\Exception\\ApiErrorException $e) {\n            return [\n                'success' => false,\n                'error' => $e->getMessage()\n            ];\n        }\n    }\n    \n    public function createSubscription($customerId, $priceId) {\n        try {\n            $subscription = Subscription::create([\n                'customer' => $customerId,\n                'items' => [['price' => $priceId]],\n                'payment_behavior' => 'default_incomplete',\n                'payment_settings' => ['save_default_payment_method' => 'on_subscription'],\n                'expand' => ['latest_invoice.payment_intent']\n            ]);\n            \n            return [\n                'success' => true,\n                'subscription_id' => $subscription->id,\n                'client_secret' => $subscription->latest_invoice->payment_intent->client_secret\n            ];\n            \n        } catch (\\Stripe\\Exception\\ApiErrorException $e) {\n            return [\n                'success' => false,\n                'error' => $e->getMessage()\n            ];\n        }\n    }\n    \n    public function handleWebhook($payload, $sigHeader, $webhookSecret) {\n        try {\n            $event = Webhook::constructEvent($payload, $sigHeader, $webhookSecret);\n            \n            switch ($event->type) {\n                case 'payment_intent.succeeded':\n                    $paymentIntent = $event->data->object;\n                    error_log(\"Payment succeeded: \" . $paymentIntent->id);\n                    break;\n                    \n                case 'payment_intent.payment_failed':\n                    $paymentIntent = $event->data->object;\n                    error_log(\"Payment failed: \" . $paymentIntent->id);\n                    break;\n                    \n                case 'customer.subscription.created':\n                    $subscription = $event->data->object;\n                    error_log(\"Subscription created: \" . $subscription->id);\n                    break;\n                    \n                case 'invoice.payment_succeeded':\n                    $invoice = $event->data->object;\n                    error_log(\"Invoice paid: \" . $invoice->id);\n                    break;\n                    \n                default:\n                    error_log(\"Unhandled event type: \" . $event->type);\n            }\n            \n            return ['success' => true];\n            \n        } catch (\\UnexpectedValueException $e) {\n            return ['success' => false, 'error' => 'Invalid payload'];\n        } catch (\\Stripe\\Exception\\SignatureVerificationException $e) {\n            return ['success' => false, 'error' => 'Invalid signature'];\n        }\n    }\n}\n\n// Usage example\ntry {\n    $stripe = new StripePayments('sk_test_your_key');\n    $result = $stripe->createPaymentIntent(29.99, 'usd');\n    \n    if ($result['success']) {\n        echo json_encode($result, JSON_PRETTY_PRINT);\n    } else {\n        echo \"Error: \" . $result['error'];\n    }\n} catch (Exception $e) {\n    echo \"Error: \" . $e->getMessage();\n}\n\n// For webhook handling (webhook.php)\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    $payload = file_get_contents('php://input');\n    $sigHeader = $_SERVER['HTTP_STRIPE_SIGNATURE'] ?? '';\n    $webhookSecret = 'whsec_your_webhook_secret';\n    \n    $stripe = new StripePayments('sk_test_your_key');\n    $result = $stripe->handleWebhook($payload, $sigHeader, $webhookSecret);\n    \n    http_response_code($result['success'] ? 200 : 400);\n    echo json_encode($result);\n}\n?>`\n            },\n            go: {\n                vanilla: `package main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n    \"io\"\n    \"log\"\n    \"net/http\"\n    \"os\"\n\n    \"github.com/stripe/stripe-go/v74\"\n    \"github.com/stripe/stripe-go/v74/customer\"\n    \"github.com/stripe/stripe-go/v74/paymentintent\"\n    \"github.com/stripe/stripe-go/v74/sub\"\n    \"github.com/stripe/stripe-go/v74/webhook\"\n)\n\ntype StripePayments struct {\n    SecretKey string\n}\n\ntype PaymentResult struct {\n    Success         bool   \\`json:\"success\"\\`\n    ClientSecret    string \\`json:\"client_secret,omitempty\"\\`\n    PaymentIntentID string \\`json:\"payment_intent_id,omitempty\"\\`\n    Error           string \\`json:\"error,omitempty\"\\`\n}\n\ntype CustomerResult struct {\n    Success    bool   \\`json:\"success\"\\`\n    CustomerID string \\`json:\"customer_id,omitempty\"\\`\n    Error      string \\`json:\"error,omitempty\"\\`\n}\n\nfunc NewStripePayments(secretKey string) *StripePayments {\n    stripe.Key = secretKey\n    return &StripePayments{\n        SecretKey: secretKey,\n    }\n}\n\nfunc (s *StripePayments) CreatePaymentIntent(amount int64, currency string, customerID *string) PaymentResult {\n    params := &stripe.PaymentIntentParams{\n        Amount:   stripe.Int64(amount * 100), // Convert to cents\n        Currency: stripe.String(currency),\n        AutomaticPaymentMethods: &stripe.PaymentIntentAutomaticPaymentMethodsParams{\n            Enabled: stripe.Bool(true),\n        },\n    }\n\n    if customerID != nil {\n        params.Customer = customerID\n    }\n\n    pi, err := paymentintent.New(params)\n    if err != nil {\n        return PaymentResult{\n            Success: false,\n            Error:   err.Error(),\n        }\n    }\n\n    return PaymentResult{\n        Success:         true,\n        ClientSecret:    pi.ClientSecret,\n        PaymentIntentID: pi.ID,\n    }\n}\n\nfunc (s *StripePayments) CreateCustomer(email, name string) CustomerResult {\n    params := &stripe.CustomerParams{\n        Email: stripe.String(email),\n        Name:  stripe.String(name),\n    }\n\n    c, err := customer.New(params)\n    if err != nil {\n        return CustomerResult{\n            Success: false,\n            Error:   err.Error(),\n        }\n    }\n\n    return CustomerResult{\n        Success:    true,\n        CustomerID: c.ID,\n    }\n}\n\nfunc (s *StripePayments) CreateSubscription(customerID, priceID string) (map[string]interface{}, error) {\n    params := &stripe.SubscriptionParams{\n        Customer: stripe.String(customerID),\n        Items: []*stripe.SubscriptionItemsParams{\n            {\n                Price: stripe.String(priceID),\n            },\n        },\n        PaymentBehavior: stripe.String(\"default_incomplete\"),\n        PaymentSettings: &stripe.SubscriptionPaymentSettingsParams{\n            SaveDefaultPaymentMethod: stripe.String(\"on_subscription\"),\n        },\n    }\n    params.AddExpand(\"latest_invoice.payment_intent\")\n\n    sub, err := sub.New(params)\n    if err != nil {\n        return map[string]interface{}{\n            \"success\": false,\n            \"error\":   err.Error(),\n        }, err\n    }\n\n    return map[string]interface{}{\n        \"success\":         true,\n        \"subscription_id\": sub.ID,\n        \"client_secret\":   sub.LatestInvoice.PaymentIntent.ClientSecret,\n    }, nil\n}\n\nfunc (s *StripePayments) HandleWebhook(body []byte, signature, webhookSecret string) (map[string]interface{}, error) {\n    event, err := webhook.ConstructEvent(body, signature, webhookSecret)\n    if err != nil {\n        return map[string]interface{}{\n            \"success\": false,\n            \"error\":   \"Invalid signature\",\n        }, err\n    }\n\n    switch event.Type {\n    case \"payment_intent.succeeded\":\n        var paymentIntent stripe.PaymentIntent\n        if err := json.Unmarshal(event.Data.Raw, &paymentIntent); err != nil {\n            log.Printf(\"Error parsing webhook JSON: %v\", err)\n        } else {\n            log.Printf(\"Payment succeeded: %s\", paymentIntent.ID)\n        }\n\n    case \"payment_intent.payment_failed\":\n        var paymentIntent stripe.PaymentIntent\n        if err := json.Unmarshal(event.Data.Raw, &paymentIntent); err != nil {\n            log.Printf(\"Error parsing webhook JSON: %v\", err)\n        } else {\n            log.Printf(\"Payment failed: %s\", paymentIntent.ID)\n        }\n\n    case \"customer.subscription.created\":\n        var subscription stripe.Subscription\n        if err := json.Unmarshal(event.Data.Raw, &subscription); err != nil {\n            log.Printf(\"Error parsing webhook JSON: %v\", err)\n        } else {\n            log.Printf(\"Subscription created: %s\", subscription.ID)\n        }\n\n    default:\n        log.Printf(\"Unhandled event type: %s\", event.Type)\n    }\n\n    return map[string]interface{}{\"success\": true}, nil\n}\n\n// HTTP handlers\nfunc createPaymentIntentHandler(w http.ResponseWriter, r *http.Request) {\n    stripe := NewStripePayments(\"sk_test_your_key\")\n\n    var req struct {\n        Amount   int64  \\`json:\"amount\"\\`\n        Currency string \\`json:\"currency\"\\`\n    }\n\n    if err := json.NewDecoder(r.Body).Decode(&req); err != nil {\n        http.Error(w, err.Error(), http.StatusBadRequest)\n        return\n    }\n\n    result := stripe.CreatePaymentIntent(req.Amount, req.Currency, nil)\n    \n    w.Header().Set(\"Content-Type\", \"application/json\")\n    json.NewEncoder(w).Encode(result)\n}\n\nfunc webhookHandler(w http.ResponseWriter, r *http.Request) {\n    stripe := NewStripePayments(\"sk_test_your_key\")\n    \n    body, err := io.ReadAll(r.Body)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusBadRequest)\n        return\n    }\n\n    signature := r.Header.Get(\"Stripe-Signature\")\n    webhookSecret := \"whsec_your_webhook_secret\"\n\n    result, err := stripe.HandleWebhook(body, signature, webhookSecret)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusBadRequest)\n        return\n    }\n\n    w.Header().Set(\"Content-Type\", \"application/json\")\n    json.NewEncoder(w).Encode(result)\n}\n\nfunc main() {\n    // Example usage\n    stripe := NewStripePayments(\"sk_test_your_key\")\n    \n    result := stripe.CreatePaymentIntent(2999, \"usd\", nil) // $29.99\n    if result.Success {\n        fmt.Printf(\"Payment Intent created: %s\\\\n\", result.PaymentIntentID)\n    } else {\n        fmt.Printf(\"Error: %s\\\\n\", result.Error)\n    }\n\n    // HTTP server setup\n    http.HandleFunc(\"/create-payment-intent\", createPaymentIntentHandler)\n    http.HandleFunc(\"/webhook\", webhookHandler)\n    \n    fmt.Println(\"Server starting on :8080\")\n    log.Fatal(http.ListenAndServe(\":8080\", nil))\n}\n\n// Add to go.mod:\n// module stripe-integration\n// go 1.19\n// require github.com/stripe/stripe-go/v74 v74.30.0`\n            },\n            rust: {\n                vanilla: `use serde::{Deserialize, Serialize};\nuse std::collections::HashMap;\n\n#[derive(Debug, Serialize, Deserialize)]\npub struct PaymentIntentRequest {\n    pub amount: i64,\n    pub currency: String,\n    pub customer_id: Option<String>,\n}\n\n#[derive(Debug, Serialize, Deserialize)]\npub struct PaymentIntentResponse {\n    pub success: bool,\n    pub client_secret: Option<String>,\n    pub payment_intent_id: Option<String>,\n    pub error: Option<String>,\n}\n\n#[derive(Debug, Serialize, Deserialize)]\npub struct CustomerRequest {\n    pub email: String,\n    pub name: String,\n}\n\n#[derive(Debug, Serialize, Deserialize)]\npub struct CustomerResponse {\n    pub success: bool,\n    pub customer_id: Option<String>,\n    pub error: Option<String>,\n}\n\npub struct StripePayments {\n    secret_key: String,\n    client: reqwest::Client,\n}\n\nimpl StripePayments {\n    pub fn new(secret_key: String) -> Self {\n        Self {\n            secret_key,\n            client: reqwest::Client::new(),\n        }\n    }\n\n    pub async fn create_payment_intent(\n        &self,\n        amount: i64,\n        currency: &str,\n        customer_id: Option<&str>,\n    ) -> Result<PaymentIntentResponse, Box<dyn std::error::Error>> {\n        let mut params = HashMap::new();\n        params.insert(\"amount\", (amount * 100).to_string()); // Convert to cents\n        params.insert(\"currency\", currency.to_string());\n        params.insert(\"automatic_payment_methods[enabled]\", \"true\".to_string());\n\n        if let Some(id) = customer_id {\n            params.insert(\"customer\", id.to_string());\n        }\n\n        let response = self\n            .client\n            .post(\"https://api.stripe.com/v1/payment_intents\")\n            .header(\"Authorization\", format!(\"Bearer {}\", self.secret_key))\n            .form(&params)\n            .send()\n            .await?;\n\n        if response.status().is_success() {\n            let json: serde_json::Value = response.json().await?;\n            Ok(PaymentIntentResponse {\n                success: true,\n                client_secret: json[\"client_secret\"].as_str().map(String::from),\n                payment_intent_id: json[\"id\"].as_str().map(String::from),\n                error: None,\n            })\n        } else {\n            let error_text = response.text().await?;\n            Ok(PaymentIntentResponse {\n                success: false,\n                client_secret: None,\n                payment_intent_id: None,\n                error: Some(error_text),\n            })\n        }\n    }\n\n    pub async fn create_customer(\n        &self,\n        email: &str,\n        name: &str,\n    ) -> Result<CustomerResponse, Box<dyn std::error::Error>> {\n        let mut params = HashMap::new();\n        params.insert(\"email\", email);\n        params.insert(\"name\", name);\n\n        let response = self\n            .client\n            .post(\"https://api.stripe.com/v1/customers\")\n            .header(\"Authorization\", format!(\"Bearer {}\", self.secret_key))\n            .form(&params)\n            .send()\n            .await?;\n\n        if response.status().is_success() {\n            let json: serde_json::Value = response.json().await?;\n            Ok(CustomerResponse {\n                success: true,\n                customer_id: json[\"id\"].as_str().map(String::from),\n                error: None,\n            })\n        } else {\n            let error_text = response.text().await?;\n            Ok(CustomerResponse {\n                success: false,\n                customer_id: None,\n                error: Some(error_text),\n            })\n        }\n    }\n\n    pub async fn create_subscription(\n        &self,\n        customer_id: &str,\n        price_id: &str,\n    ) -> Result<serde_json::Value, Box<dyn std::error::Error>> {\n        let mut params = HashMap::new();\n        params.insert(\"customer\", customer_id);\n        params.insert(\"items[0][price]\", price_id);\n        params.insert(\"payment_behavior\", \"default_incomplete\");\n        params.insert(\"payment_settings[save_default_payment_method]\", \"on_subscription\");\n        params.insert(\"expand[]\", \"latest_invoice.payment_intent\");\n\n        let response = self\n            .client\n            .post(\"https://api.stripe.com/v1/subscriptions\")\n            .header(\"Authorization\", format!(\"Bearer {}\", self.secret_key))\n            .form(&params)\n            .send()\n            .await?;\n\n        let json: serde_json::Value = response.json().await?;\n        Ok(json)\n    }\n\n    pub fn verify_webhook_signature(\n        &self,\n        payload: &str,\n        signature: &str,\n        webhook_secret: &str,\n    ) -> Result<serde_json::Value, Box<dyn std::error::Error>> {\n        // Note: In production, use the official Stripe crate for webhook verification\n        // This is a simplified example\n        let event: serde_json::Value = serde_json::from_str(payload)?;\n        \n        match event[\"type\"].as_str() {\n            Some(\"payment_intent.succeeded\") => {\n                println!(\"Payment succeeded: {:?}\", event[\"data\"][\"object\"][\"id\"]);\n            }\n            Some(\"payment_intent.payment_failed\") => {\n                println!(\"Payment failed: {:?}\", event[\"data\"][\"object\"][\"id\"]);\n            }\n            Some(\"customer.subscription.created\") => {\n                println!(\"Subscription created: {:?}\", event[\"data\"][\"object\"][\"id\"]);\n            }\n            Some(\"invoice.payment_succeeded\") => {\n                println!(\"Invoice paid: {:?}\", event[\"data\"][\"object\"][\"id\"]);\n            }\n            _ => {\n                println!(\"Unhandled event type: {:?}\", event[\"type\"]);\n            }\n        }\n\n        Ok(event)\n    }\n}\n\n#[tokio::main]\nasync fn main() -> Result<(), Box<dyn std::error::Error>> {\n    let stripe = StripePayments::new(\"sk_test_your_key\".to_string());\n\n    // Create a payment intent\n    let result = stripe\n        .create_payment_intent(2999, \"usd\", None) // $29.99\n        .await?;\n\n    if result.success {\n        println!(\"Payment Intent created: {:?}\", result.payment_intent_id);\n        println!(\"Client Secret: {:?}\", result.client_secret);\n    } else {\n        println!(\"Error: {:?}\", result.error);\n    }\n\n    // Create a customer\n    let customer_result = stripe\n        .create_customer(\"customer@example.com\", \"John Doe\")\n        .await?;\n\n    if customer_result.success {\n        println!(\"Customer created: {:?}\", customer_result.customer_id);\n    } else {\n        println!(\"Customer creation error: {:?}\", customer_result.error);\n    }\n\n    Ok(())\n}\n\n// Add to Cargo.toml:\n// [dependencies]\n// reqwest = { version = \"0.11\", features = [\"json\"] }\n// serde = { version = \"1.0\", features = [\"derive\"] }\n// serde_json = \"1.0\"\n// tokio = { version = \"1\", features = [\"full\"] }`\n            }\n        }\n    },\n    // PayPal API\n    {\n        id: \"paypal\",\n        slug: \"paypal\",\n        name: \"PayPal\",\n        category: \"Payment Processing\",\n        description: \"Integrate PayPal payments, subscriptions, and marketplace functionality with comprehensive APIs.\",\n        icon: \"\\uD83C\\uDD7Fï¸\",\n        features: [\n            \"PayPal Checkout\",\n            \"Express Checkout\",\n            \"Subscription Billing\",\n            \"Marketplace Payments\",\n            \"Dispute Management\",\n            \"Transaction Search\"\n        ],\n        popularity: 92,\n        documentation: \"https://developer.paypal.com/docs/\",\n        codeTemplates: {\n            javascript: {\n                vanilla: `// PayPal Payment Integration\nconst paypal = require('@paypal/checkout-server-sdk');\n\nclass PayPalPayments {\n  constructor(clientId, clientSecret, environment = 'sandbox') {\n    this.clientId = clientId;\n    this.clientSecret = clientSecret;\n    \n    // Set up PayPal environment\n    const Environment = environment === 'sandbox' \n      ? paypal.core.SandboxEnvironment \n      : paypal.core.LiveEnvironment;\n    \n    this.paypalClient = new paypal.core.PayPalHttpClient(\n      new Environment(clientId, clientSecret)\n    );\n  }\n\n  async createOrder(amount, currency = 'USD') {\n    try {\n      const request = new paypal.orders.OrdersCreateRequest();\n      request.prefer('return=representation');\n      request.requestBody({\n        intent: 'CAPTURE',\n        purchase_units: [{\n          amount: {\n            currency_code: currency,\n            value: amount.toFixed(2)\n          }\n        }]\n      });\n\n      const order = await this.paypalClient.execute(request);\n      \n      return {\n        success: true,\n        orderId: order.result.id,\n        approvalUrl: order.result.links.find(link => link.rel === 'approve').href\n      };\n    } catch (error) {\n      console.error('PayPal Order Creation Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  async captureOrder(orderId) {\n    try {\n      const request = new paypal.orders.OrdersCaptureRequest(orderId);\n      request.requestBody({});\n\n      const capture = await this.paypalClient.execute(request);\n      \n      return {\n        success: true,\n        captureId: capture.result.purchase_units[0].payments.captures[0].id,\n        status: capture.result.status\n      };\n    } catch (error) {\n      console.error('PayPal Capture Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  async createSubscription(planId) {\n    try {\n      const request = new paypal.subscriptions.SubscriptionsCreateRequest();\n      request.requestBody({\n        plan_id: planId,\n        start_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(), // Start tomorrow\n        subscriber: {\n          name: {\n            given_name: 'John',\n            surname: 'Doe'\n          },\n          email_address: 'customer@example.com'\n        }\n      });\n\n      const subscription = await this.paypalClient.execute(request);\n      \n      return {\n        success: true,\n        subscriptionId: subscription.result.id,\n        approvalUrl: subscription.result.links.find(link => link.rel === 'approve').href\n      };\n    } catch (error) {\n      console.error('PayPal Subscription Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  async verifyWebhook(headers, body, webhookId) {\n    try {\n      const request = new paypal.notifications.VerifyWebhookSignatureRequest();\n      request.requestBody({\n        transmission_id: headers['paypal-transmission-id'],\n        cert_id: headers['paypal-cert-id'],\n        auth_algo: headers['paypal-auth-algo'],\n        transmission_sig: headers['paypal-transmission-sig'],\n        transmission_time: headers['paypal-transmission-time'],\n        webhook_id: webhookId,\n        webhook_event: JSON.parse(body)\n      });\n\n      const response = await this.paypalClient.execute(request);\n      \n      return {\n        success: true,\n        verified: response.result.verification_status === 'SUCCESS'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n}\n\n// Usage example\nconst payments = new PayPalPayments(\n  'your_client_id',\n  'your_client_secret',\n  'sandbox'\n);\n\npayments.createOrder(29.99, 'USD').then(console.log);`,\n                react: `// PayPal React Integration\nimport React, { useState } from 'react';\nimport { PayPalScriptProvider, PayPalButtons } from '@paypal/react-paypal-js';\n\nconst PayPalCheckout = ({ amount = 29.99, currency = 'USD', onSuccess, onError }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const createOrder = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [{\n        amount: {\n          value: amount.toFixed(2),\n          currency_code: currency\n        },\n        description: 'Your Product Description'\n      }]\n    });\n  };\n\n  const onApprove = async (data, actions) => {\n    setLoading(true);\n    try {\n      const order = await actions.order.capture();\n      console.log('Order captured:', order);\n      \n      if (onSuccess) {\n        onSuccess(order);\n      }\n    } catch (error) {\n      console.error('PayPal capture error:', error);\n      setError('Payment capture failed');\n      if (onError) {\n        onError(error);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onErrorHandler = (error) => {\n    console.error('PayPal error:', error);\n    setError('Payment failed');\n    if (onError) {\n      onError(error);\n    }\n  };\n\n  const onCancel = (data) => {\n    console.log('Payment cancelled:', data);\n    setError('Payment was cancelled');\n  };\n\n  if (error) {\n    return (\n      <div className=\"error\">\n        <p>Payment Error: {error}</p>\n        <button onClick={() => setError(null)}>Try Again</button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"paypal-checkout\">\n      <PayPalButtons\n        createOrder={createOrder}\n        onApprove={onApprove}\n        onError={onErrorHandler}\n        onCancel={onCancel}\n        disabled={loading}\n        style={{\n          layout: 'vertical',\n          color: 'blue',\n          shape: 'rect',\n          label: 'paypal'\n        }}\n      />\n      {loading && <div className=\"loading\">Processing payment...</div>}\n    </div>\n  );\n};\n\nconst PayPalProvider = ({ children }) => {\n  const initialOptions = {\n    'client-id': 'your_paypal_client_id',\n    currency: 'USD',\n    intent: 'capture',\n    'enable-funding': 'venmo,paylater',\n    'disable-funding': 'card'\n  };\n\n  return (\n    <PayPalScriptProvider options={initialOptions}>\n      {children}\n    </PayPalScriptProvider>\n  );\n};\n\n// Usage Example\nexport const PayPalExample = () => {\n  const handleSuccess = (order) => {\n    console.log('Payment successful:', order);\n    // Handle successful payment\n  };\n\n  const handleError = (error) => {\n    console.error('Payment error:', error);\n    // Handle payment error\n  };\n\n  return (\n    <PayPalProvider>\n      <div className=\"checkout-container\">\n        <h2>Complete Your Purchase</h2>\n        <div className=\"amount\">Total: $29.99</div>\n        <PayPalCheckout\n          amount={29.99}\n          currency=\"USD\"\n          onSuccess={handleSuccess}\n          onError={handleError}\n        />\n      </div>\n    </PayPalProvider>\n  );\n};`\n            }\n        }\n    },\n    // AUTHENTICATION APIS\n    {\n        id: \"auth0\",\n        slug: \"auth0\",\n        name: \"Auth0\",\n        category: \"Authentication\",\n        description: \"Universal authentication and authorization platform with social logins, SSO, and MFA.\",\n        icon: \"\\uD83D\\uDD10\",\n        features: [\n            \"Universal Login\",\n            \"Social Connections\",\n            \"Multi-factor Authentication\",\n            \"Single Sign-On (SSO)\",\n            \"User Management\",\n            \"Rules & Hooks\"\n        ],\n        popularity: 95,\n        documentation: \"https://auth0.com/docs\",\n        codeTemplates: {\n            javascript: {\n                vanilla: `// Auth0 JavaScript Integration\nimport { Auth0Client } from '@auth0/auth0-js';\n\nclass Auth0Service {\n  constructor(domain, clientId) {\n    this.auth0 = new Auth0Client({\n      domain: domain,\n      clientId: clientId,\n      redirectUri: window.location.origin,\n      responseType: 'token id_token',\n      scope: 'openid profile email'\n    });\n    \n    this.handleAuthentication();\n  }\n\n  // Login with redirect\n  login() {\n    this.auth0.authorize();\n  }\n\n  // Login with popup\n  async loginWithPopup() {\n    try {\n      await this.auth0.popup.authorize({\n        responseType: 'token id_token'\n      });\n      \n      return this.getProfile();\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error;\n    }\n  }\n\n  // Handle authentication callback\n  handleAuthentication() {\n    this.auth0.parseHash((err, authResult) => {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        this.setSession(authResult);\n      } else if (err) {\n        console.error('Authentication error:', err);\n      }\n    });\n  }\n\n  // Set session\n  setSession(authResult) {\n    const expiresAt = JSON.stringify(\n      authResult.expiresIn * 1000 + new Date().getTime()\n    );\n    \n    localStorage.setItem('access_token', authResult.accessToken);\n    localStorage.setItem('id_token', authResult.idToken);\n    localStorage.setItem('expires_at', expiresAt);\n    \n    // Trigger authentication state change\n    window.dispatchEvent(new CustomEvent('authStateChanged', {\n      detail: { authenticated: true }\n    }));\n  }\n\n  // Logout\n  logout() {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('expires_at');\n    \n    this.auth0.logout({\n      returnTo: window.location.origin\n    });\n  }\n\n  // Check if user is authenticated\n  isAuthenticated() {\n    const expiresAt = JSON.parse(localStorage.getItem('expires_at') || '0');\n    return new Date().getTime() < expiresAt;\n  }\n\n  // Get user profile\n  getProfile() {\n    return new Promise((resolve, reject) => {\n      const accessToken = localStorage.getItem('access_token');\n      \n      if (!accessToken) {\n        reject(new Error('No access token found'));\n        return;\n      }\n      \n      this.auth0.client.userInfo(accessToken, (err, profile) => {\n        if (profile) {\n          resolve(profile);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  // Renew session\n  renewSession() {\n    return new Promise((resolve, reject) => {\n      this.auth0.checkSession({}, (err, authResult) => {\n        if (authResult && authResult.accessToken && authResult.idToken) {\n          this.setSession(authResult);\n          resolve(authResult);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  // Get access token\n  getAccessToken() {\n    return localStorage.getItem('access_token');\n  }\n}\n\n// Usage\nconst auth = new Auth0Service(\n  'your-domain.auth0.com',\n  'your-client-id'\n);\n\n// Login button handler\ndocument.getElementById('loginBtn').addEventListener('click', () => {\n  auth.login();\n});\n\n// Logout button handler\ndocument.getElementById('logoutBtn').addEventListener('click', () => {\n  auth.logout();\n});\n\n// Check authentication state\nif (auth.isAuthenticated()) {\n  auth.getProfile().then(profile => {\n    console.log('User profile:', profile);\n  });\n}`,\n                react: `// Auth0 React Integration\nimport React, { useState, useEffect, useContext, createContext } from 'react';\nimport { Auth0Provider, useAuth0 } from '@auth0/auth0-react';\n\n// Auth0 Provider Component\nexport const Auth0ProviderWithHistory = ({ children }) => {\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n  const redirectUri = window.location.origin;\n\n  return (\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={redirectUri}\n      audience={\\`https://\\${domain}/api/v2/\\`}\n      scope=\"read:current_user update:current_user_metadata\"\n    >\n      {children}\n    </Auth0Provider>\n  );\n};\n\n// Login Button Component\nconst LoginButton = () => {\n  const { loginWithRedirect, isAuthenticated } = useAuth0();\n\n  if (isAuthenticated) {\n    return null;\n  }\n\n  return (\n    <button\n      onClick={() => loginWithRedirect()}\n      className=\"btn btn-primary\"\n    >\n      Log In\n    </button>\n  );\n};\n\n// Logout Button Component\nconst LogoutButton = () => {\n  const { logout, isAuthenticated } = useAuth0();\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return (\n    <button\n      onClick={() => logout({\n        returnTo: window.location.origin\n      })}\n      className=\"btn btn-secondary\"\n    >\n      Log Out\n    </button>\n  );\n};\n\n// Profile Component\nconst Profile = () => {\n  const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\n  const [userMetadata, setUserMetadata] = useState(null);\n\n  useEffect(() => {\n    const getUserMetadata = async () => {\n      const domain = process.env.REACT_APP_AUTH0_DOMAIN;\n\n      try {\n        const accessToken = await getAccessTokenSilently({\n          audience: \\`https://\\${domain}/api/v2/\\`,\n          scope: \"read:current_user\",\n        });\n\n        const userDetailsByIdUrl = \\`https://\\${domain}/api/v2/users/\\${user.sub}\\`;\n\n        const metadataResponse = await fetch(userDetailsByIdUrl, {\n          headers: {\n            Authorization: \\`Bearer \\${accessToken}\\`,\n          },\n        });\n\n        const { user_metadata } = await metadataResponse.json();\n        setUserMetadata(user_metadata);\n      } catch (e) {\n        console.error('Error fetching user metadata:', e.message);\n      }\n    };\n\n    if (isAuthenticated && user?.sub) {\n      getUserMetadata();\n    }\n  }, [getAccessTokenSilently, user?.sub, isAuthenticated]);\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!isAuthenticated) {\n    return <div>Please log in to view your profile.</div>;\n  }\n\n  return (\n    <div className=\"profile\">\n      <div className=\"profile-header\">\n        <img\n          src={user.picture}\n          alt={user.name}\n          className=\"profile-avatar\"\n        />\n        <div>\n          <h2>{user.name}</h2>\n          <p>{user.email}</p>\n        </div>\n      </div>\n      \n      <div className=\"profile-details\">\n        <h3>Profile Information</h3>\n        <pre>{JSON.stringify(user, null, 2)}</pre>\n        \n        {userMetadata && (\n          <>\n            <h3>User Metadata</h3>\n            <pre>{JSON.stringify(userMetadata, null, 2)}</pre>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Protected Route Component\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated, isLoading } = useAuth0();\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"unauthorized\">\n        <h2>Access Denied</h2>\n        <p>Please log in to access this page.</p>\n        <LoginButton />\n      </div>\n    );\n  }\n\n  return children;\n};\n\n// API Hook for authenticated requests\nconst useApi = () => {\n  const { getAccessTokenSilently } = useAuth0();\n\n  const makeAuthenticatedRequest = async (url, options = {}) => {\n    try {\n      const token = await getAccessTokenSilently();\n      \n      const response = await fetch(url, {\n        ...options,\n        headers: {\n          ...options.headers,\n          Authorization: \\`Bearer \\${token}\\`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(\\`HTTP error! status: \\${response.status}\\`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('API request error:', error);\n      throw error;\n    }\n  };\n\n  return { makeAuthenticatedRequest };\n};\n\n// Main App Component\nconst App = () => {\n  const { isAuthenticated, isLoading } = useAuth0();\n\n  if (isLoading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1>Auth0 React Example</h1>\n        <div className=\"auth-buttons\">\n          <LoginButton />\n          <LogoutButton />\n        </div>\n      </header>\n\n      <main>\n        {isAuthenticated ? (\n          <ProtectedRoute>\n            <Profile />\n          </ProtectedRoute>\n        ) : (\n          <div className=\"welcome\">\n            <h2>Welcome!</h2>\n            <p>Please log in to continue.</p>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\n// Root component with Auth0 Provider\nexport default function AppWithAuth0() {\n  return (\n    <Auth0ProviderWithHistory>\n      <App />\n    </Auth0ProviderWithHistory>\n  );\n}\n\n// Environment variables needed (.env):\n// REACT_APP_AUTH0_DOMAIN=your-domain.auth0.com\n// REACT_APP_AUTH0_CLIENT_ID=your-client-id`\n            }\n        }\n    },\n    // Google OAuth API\n    {\n        id: \"google-oauth\",\n        slug: \"google-oauth\",\n        name: \"Google OAuth\",\n        category: \"Authentication\",\n        description: \"Secure authentication with Google accounts using OAuth 2.0 protocol.\",\n        icon: \"\\uD83D\\uDD0D\",\n        features: [\n            \"OAuth 2.0 Flow\",\n            \"Google Sign-In\",\n            \"Profile Information\",\n            \"Refresh Tokens\",\n            \"Scope Management\",\n            \"Server-side Auth\"\n        ],\n        popularity: 88,\n        documentation: \"https://developers.google.com/identity/protocols/oauth2\",\n        codeTemplates: {\n            javascript: {\n                vanilla: `// Google OAuth 2.0 Integration\nclass GoogleAuth {\n  constructor(clientId, redirectUri) {\n    this.clientId = clientId;\n    this.redirectUri = redirectUri;\n    this.scope = 'openid profile email';\n    this.responseType = 'code';\n  }\n\n  // Generate OAuth URL\n  getAuthUrl() {\n    const params = new URLSearchParams({\n      client_id: this.clientId,\n      redirect_uri: this.redirectUri,\n      scope: this.scope,\n      response_type: this.responseType,\n      state: this.generateState(),\n      access_type: 'offline',\n      prompt: 'consent'\n    });\n\n    return \\`https://accounts.google.com/o/oauth2/v2/auth?\\${params}\\`;\n  }\n\n  // Generate state parameter for CSRF protection\n  generateState() {\n    const state = Math.random().toString(36).substring(2, 15) + \n                  Math.random().toString(36).substring(2, 15);\n    sessionStorage.setItem('google_oauth_state', state);\n    return state;\n  }\n\n  // Verify state parameter\n  verifyState(receivedState) {\n    const storedState = sessionStorage.getItem('google_oauth_state');\n    sessionStorage.removeItem('google_oauth_state');\n    return storedState === receivedState;\n  }\n\n  // Exchange authorization code for tokens\n  async exchangeCodeForTokens(code, clientSecret) {\n    try {\n      const response = await fetch('https://oauth2.googleapis.com/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: new URLSearchParams({\n          client_id: this.clientId,\n          client_secret: clientSecret,\n          code: code,\n          grant_type: 'authorization_code',\n          redirect_uri: this.redirectUri\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(\\`Token exchange failed: \\${response.status}\\`);\n      }\n\n      const tokens = await response.json();\n      \n      // Store tokens securely\n      this.storeTokens(tokens);\n      \n      return {\n        success: true,\n        tokens: tokens\n      };\n    } catch (error) {\n      console.error('Token exchange error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Store tokens securely\n  storeTokens(tokens) {\n    localStorage.setItem('google_access_token', tokens.access_token);\n    localStorage.setItem('google_refresh_token', tokens.refresh_token);\n    \n    if (tokens.expires_in) {\n      const expiresAt = Date.now() + (tokens.expires_in * 1000);\n      localStorage.setItem('google_token_expires_at', expiresAt.toString());\n    }\n  }\n\n  // Get user profile\n  async getUserProfile(accessToken = null) {\n    try {\n      const token = accessToken || localStorage.getItem('google_access_token');\n      \n      if (!token) {\n        throw new Error('No access token available');\n      }\n\n      const response = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {\n        headers: {\n          'Authorization': \\`Bearer \\${token}\\`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(\\`Profile fetch failed: \\${response.status}\\`);\n      }\n\n      const profile = await response.json();\n      \n      return {\n        success: true,\n        profile: profile\n      };\n    } catch (error) {\n      console.error('Profile fetch error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Refresh access token\n  async refreshAccessToken(clientSecret) {\n    try {\n      const refreshToken = localStorage.getItem('google_refresh_token');\n      \n      if (!refreshToken) {\n        throw new Error('No refresh token available');\n      }\n\n      const response = await fetch('https://oauth2.googleapis.com/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: new URLSearchParams({\n          client_id: this.clientId,\n          client_secret: clientSecret,\n          refresh_token: refreshToken,\n          grant_type: 'refresh_token'\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(\\`Token refresh failed: \\${response.status}\\`);\n      }\n\n      const tokens = await response.json();\n      \n      // Update stored access token\n      localStorage.setItem('google_access_token', tokens.access_token);\n      \n      if (tokens.expires_in) {\n        const expiresAt = Date.now() + (tokens.expires_in * 1000);\n        localStorage.setItem('google_token_expires_at', expiresAt.toString());\n      }\n      \n      return {\n        success: true,\n        accessToken: tokens.access_token\n      };\n    } catch (error) {\n      console.error('Token refresh error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Check if token is expired\n  isTokenExpired() {\n    const expiresAt = localStorage.getItem('google_token_expires_at');\n    if (!expiresAt) return true;\n    \n    return Date.now() >= parseInt(expiresAt);\n  }\n\n  // Logout\n  logout() {\n    localStorage.removeItem('google_access_token');\n    localStorage.removeItem('google_refresh_token');\n    localStorage.removeItem('google_token_expires_at');\n  }\n\n  // Handle callback\n  handleCallback() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    const state = urlParams.get('state');\n    const error = urlParams.get('error');\n\n    if (error) {\n      console.error('OAuth error:', error);\n      return { success: false, error: error };\n    }\n\n    if (!code || !state) {\n      return { success: false, error: 'Missing code or state parameter' };\n    }\n\n    if (!this.verifyState(state)) {\n      return { success: false, error: 'Invalid state parameter' };\n    }\n\n    return { success: true, code: code };\n  }\n}\n\n// Usage example\nconst googleAuth = new GoogleAuth(\n  'your-client-id.googleusercontent.com',\n  'http://localhost:3000/callback'\n);\n\n// Login button handler\ndocument.getElementById('loginBtn').addEventListener('click', () => {\n  const authUrl = googleAuth.getAuthUrl();\n  window.location.href = authUrl;\n});\n\n// Handle callback (on callback page)\nconst callbackResult = googleAuth.handleCallback();\nif (callbackResult.success) {\n  // Exchange code for tokens (requires client secret - do this on server)\n  console.log('Authorization code:', callbackResult.code);\n} else {\n  console.error('Callback error:', callbackResult.error);\n}\n\n// Get user profile\nif (!googleAuth.isTokenExpired()) {\n  googleAuth.getUserProfile().then(result => {\n    if (result.success) {\n      console.log('User profile:', result.profile);\n    }\n  });\n}`,\n                react: `// Google OAuth React Integration\nimport React, { useState, useEffect, createContext, useContext } from 'react';\n\n// Google Auth Context\nconst GoogleAuthContext = createContext();\n\nexport const useGoogleAuth = () => {\n  const context = useContext(GoogleAuthContext);\n  if (!context) {\n    throw new Error('useGoogleAuth must be used within GoogleAuthProvider');\n  }\n  return context;\n};\n\n// Google Auth Provider\nexport const GoogleAuthProvider = ({ children, clientId }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Load Google Identity Services\n    const script = document.createElement('script');\n    script.src = 'https://accounts.google.com/gsi/client';\n    script.async = true;\n    script.defer = true;\n    script.onload = initializeGoogleAuth;\n    document.head.appendChild(script);\n\n    return () => {\n      document.head.removeChild(script);\n    };\n  }, []);\n\n  const initializeGoogleAuth = () => {\n    if (window.google) {\n      window.google.accounts.id.initialize({\n        client_id: clientId,\n        callback: handleCredentialResponse,\n        auto_select: false,\n        cancel_on_tap_outside: true,\n      });\n      \n      // Check for existing session\n      checkExistingSession();\n    }\n    setLoading(false);\n  };\n\n  const handleCredentialResponse = async (response) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Decode JWT token\n      const userInfo = parseJwt(response.credential);\n      \n      // Store token\n      localStorage.setItem('google_id_token', response.credential);\n      \n      setUser({\n        id: userInfo.sub,\n        name: userInfo.name,\n        email: userInfo.email,\n        picture: userInfo.picture,\n        verified: userInfo.email_verified\n      });\n    } catch (error) {\n      console.error('Login error:', error);\n      setError('Login failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const parseJwt = (token) => {\n    try {\n      const base64Url = token.split('.')[1];\n      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n      const jsonPayload = decodeURIComponent(\n        atob(base64)\n          .split('')\n          .map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n          .join('')\n      );\n      return JSON.parse(jsonPayload);\n    } catch (error) {\n      throw new Error('Invalid token');\n    }\n  };\n\n  const checkExistingSession = () => {\n    const token = localStorage.getItem('google_id_token');\n    if (token) {\n      try {\n        const userInfo = parseJwt(token);\n        // Check if token is still valid (not expired)\n        if (userInfo.exp * 1000 > Date.now()) {\n          setUser({\n            id: userInfo.sub,\n            name: userInfo.name,\n            email: userInfo.email,\n            picture: userInfo.picture,\n            verified: userInfo.email_verified\n          });\n        } else {\n          localStorage.removeItem('google_id_token');\n        }\n      } catch (error) {\n        localStorage.removeItem('google_id_token');\n      }\n    }\n  };\n\n  const signIn = () => {\n    if (window.google) {\n      window.google.accounts.id.prompt();\n    }\n  };\n\n  const signInWithPopup = () => {\n    if (window.google) {\n      window.google.accounts.id.renderButton(\n        document.getElementById('google-signin-button'),\n        {\n          type: 'standard',\n          size: 'large',\n          text: 'signin_with',\n          theme: 'outline',\n          logo_alignment: 'left',\n          width: 250\n        }\n      );\n    }\n  };\n\n  const signOut = () => {\n    if (window.google) {\n      window.google.accounts.id.disableAutoSelect();\n    }\n    localStorage.removeItem('google_id_token');\n    setUser(null);\n  };\n\n  const value = {\n    user,\n    loading,\n    error,\n    signIn,\n    signInWithPopup,\n    signOut,\n    isAuthenticated: !!user\n  };\n\n  return (\n    <GoogleAuthContext.Provider value={value}>\n      {children}\n    </GoogleAuthContext.Provider>\n  );\n};\n\n// Login Button Component\nconst GoogleLoginButton = () => {\n  const { signIn, signInWithPopup, loading } = useGoogleAuth();\n  const [usePopup, setUsePopup] = useState(false);\n\n  useEffect(() => {\n    if (usePopup) {\n      signInWithPopup();\n    }\n  }, [usePopup, signInWithPopup]);\n\n  return (\n    <div className=\"google-login\">\n      <button\n        onClick={() => setUsePopup(true)}\n        disabled={loading}\n        className=\"google-login-button\"\n      >\n        {loading ? 'Loading...' : 'Sign in with Google'}\n      </button>\n      \n      <div id=\"google-signin-button\" style={{ marginTop: '10px' }}></div>\n      \n      <button\n        onClick={signIn}\n        disabled={loading}\n        className=\"google-login-prompt\"\n      >\n        Sign in (One Tap)\n      </button>\n    </div>\n  );\n};\n\n// Profile Component\nconst GoogleProfile = () => {\n  const { user, signOut } = useGoogleAuth();\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"google-profile\">\n      <div className=\"profile-header\">\n        <img\n          src={user.picture}\n          alt={user.name}\n          className=\"profile-avatar\"\n          width={50}\n          height={50}\n        />\n        <div className=\"profile-info\">\n          <h3>{user.name}</h3>\n          <p>{user.email}</p>\n          {user.verified && <span className=\"verified\">âœ“ Verified</span>}\n        </div>\n      </div>\n      \n      <button onClick={signOut} className=\"sign-out-button\">\n        Sign Out\n      </button>\n    </div>\n  );\n};\n\n// Main App Component\nconst App = () => {\n  const { user, loading, error, isAuthenticated } = useGoogleAuth();\n\n  if (loading) {\n    return <div className=\"loading\">Loading Google Auth...</div>;\n  }\n\n  return (\n    <div className=\"app\">\n      <header>\n        <h1>Google OAuth Example</h1>\n      </header>\n\n      <main>\n        {error && (\n          <div className=\"error-message\">\n            Error: {error}\n          </div>\n        )}\n\n        {isAuthenticated ? (\n          <div className=\"authenticated\">\n            <h2>Welcome!</h2>\n            <GoogleProfile />\n          </div>\n        ) : (\n          <div className=\"unauthenticated\">\n            <h2>Please sign in</h2>\n            <GoogleLoginButton />\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\n// Root Component\nexport default function AppWithGoogleAuth() {\n  return (\n    <GoogleAuthProvider clientId=\"your-client-id.googleusercontent.com\">\n      <App />\n    </GoogleAuthProvider>\n  );\n}\n\n// CSS styles (add to your stylesheet)\n/*\n.google-login-button,\n.google-login-prompt {\n  background: #4285f4;\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  margin: 8px;\n}\n\n.google-login-button:hover {\n  background: #357ae8;\n}\n\n.profile-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.profile-avatar {\n  border-radius: 50%;\n}\n\n.verified {\n  color: #34a853;\n  font-size: 12px;\n}\n\n.sign-out-button {\n  background: #ea4335;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n*/`\n            }\n        }\n    },\n    // CLOUD STORAGE APIS  \n    {\n        id: \"aws-s3\",\n        slug: \"aws-s3\",\n        name: \"AWS S3\",\n        category: \"Cloud Storage\",\n        description: \"Scalable object storage service with advanced security, management, and analytics capabilities.\",\n        icon: \"â˜ï¸\",\n        features: [\n            \"Object Upload/Download\",\n            \"Presigned URLs\",\n            \"Bucket Management\",\n            \"Access Control (IAM)\",\n            \"Server-side Encryption\",\n            \"Lifecycle Policies\"\n        ],\n        popularity: 96,\n        documentation: \"https://docs.aws.amazon.com/s3/\",\n        codeTemplates: {\n            javascript: {\n                vanilla: `// AWS S3 JavaScript Integration\nconst AWS = require('aws-sdk');\n\nclass S3Service {\n  constructor(accessKeyId, secretAccessKey, region = 'us-east-1') {\n    // Configure AWS\n    AWS.config.update({\n      accessKeyId: accessKeyId,\n      secretAccessKey: secretAccessKey,\n      region: region\n    });\n    \n    this.s3 = new AWS.S3();\n    this.region = region;\n  }\n\n  // Upload file to S3\n  async uploadFile(bucketName, key, fileData, options = {}) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key,\n        Body: fileData,\n        ContentType: options.contentType || 'application/octet-stream',\n        ...options\n      };\n\n      const result = await this.s3.upload(params).promise();\n      \n      return {\n        success: true,\n        location: result.Location,\n        etag: result.ETag,\n        key: result.Key\n      };\n    } catch (error) {\n      console.error('S3 Upload Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Download file from S3\n  async downloadFile(bucketName, key) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key\n      };\n\n      const result = await this.s3.getObject(params).promise();\n      \n      return {\n        success: true,\n        data: result.Body,\n        contentType: result.ContentType,\n        lastModified: result.LastModified,\n        etag: result.ETag\n      };\n    } catch (error) {\n      console.error('S3 Download Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Generate presigned URL for upload\n  getPresignedUploadUrl(bucketName, key, expiresIn = 300, contentType = null) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key,\n        Expires: expiresIn\n      };\n\n      if (contentType) {\n        params.ContentType = contentType;\n      }\n\n      const url = this.s3.getSignedUrl('putObject', params);\n      \n      return {\n        success: true,\n        url: url,\n        expiresIn: expiresIn\n      };\n    } catch (error) {\n      console.error('Presigned URL Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Generate presigned URL for download\n  getPresignedDownloadUrl(bucketName, key, expiresIn = 300) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key,\n        Expires: expiresIn\n      };\n\n      const url = this.s3.getSignedUrl('getObject', params);\n      \n      return {\n        success: true,\n        url: url,\n        expiresIn: expiresIn\n      };\n    } catch (error) {\n      console.error('Presigned URL Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // List objects in bucket\n  async listObjects(bucketName, prefix = '', maxKeys = 1000) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Prefix: prefix,\n        MaxKeys: maxKeys\n      };\n\n      const result = await this.s3.listObjectsV2(params).promise();\n      \n      return {\n        success: true,\n        objects: result.Contents.map(obj => ({\n          key: obj.Key,\n          size: obj.Size,\n          lastModified: obj.LastModified,\n          etag: obj.ETag\n        })),\n        totalCount: result.KeyCount,\n        isTruncated: result.IsTruncated,\n        nextContinuationToken: result.NextContinuationToken\n      };\n    } catch (error) {\n      console.error('S3 List Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Delete object from S3\n  async deleteFile(bucketName, key) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key\n      };\n\n      await this.s3.deleteObject(params).promise();\n      \n      return {\n        success: true,\n        message: 'Object deleted successfully'\n      };\n    } catch (error) {\n      console.error('S3 Delete Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Delete multiple objects\n  async deleteFiles(bucketName, keys) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Delete: {\n          Objects: keys.map(key => ({ Key: key })),\n          Quiet: false\n        }\n      };\n\n      const result = await this.s3.deleteObjects(params).promise();\n      \n      return {\n        success: true,\n        deleted: result.Deleted,\n        errors: result.Errors\n      };\n    } catch (error) {\n      console.error('S3 Bulk Delete Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Copy object within S3\n  async copyFile(sourceBucket, sourceKey, destBucket, destKey) {\n    try {\n      const params = {\n        CopySource: \\`\\${sourceBucket}/\\${sourceKey}\\`,\n        Bucket: destBucket,\n        Key: destKey\n      };\n\n      const result = await this.s3.copyObject(params).promise();\n      \n      return {\n        success: true,\n        etag: result.ETag,\n        lastModified: result.LastModified\n      };\n    } catch (error) {\n      console.error('S3 Copy Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Get object metadata\n  async getObjectMetadata(bucketName, key) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key\n      };\n\n      const result = await this.s3.headObject(params).promise();\n      \n      return {\n        success: true,\n        metadata: {\n          contentType: result.ContentType,\n          contentLength: result.ContentLength,\n          lastModified: result.LastModified,\n          etag: result.ETag,\n          storageClass: result.StorageClass,\n          metadata: result.Metadata\n        }\n      };\n    } catch (error) {\n      console.error('S3 Metadata Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Create multipart upload\n  async createMultipartUpload(bucketName, key, contentType) {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key,\n        ContentType: contentType\n      };\n\n      const result = await this.s3.createMultipartUpload(params).promise();\n      \n      return {\n        success: true,\n        uploadId: result.UploadId\n      };\n    } catch (error) {\n      console.error('Multipart Upload Creation Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n}\n\n// Usage examples\nconst s3 = new S3Service(\n  'your-access-key-id',\n  'your-secret-access-key',\n  'us-east-1'\n);\n\n// Upload a file\nasync function uploadExample() {\n  const fileData = Buffer.from('Hello, S3!');\n  const result = await s3.uploadFile('my-bucket', 'hello.txt', fileData, {\n    contentType: 'text/plain'\n  });\n  \n  if (result.success) {\n    console.log('File uploaded:', result.location);\n  } else {\n    console.error('Upload failed:', result.error);\n  }\n}\n\n// Generate presigned URL\nasync function presignedUrlExample() {\n  const result = s3.getPresignedUploadUrl('my-bucket', 'upload.jpg', 300, 'image/jpeg');\n  \n  if (result.success) {\n    console.log('Presigned URL:', result.url);\n    // Use this URL to upload directly from browser\n  }\n}\n\n// List objects\nasync function listExample() {\n  const result = await s3.listObjects('my-bucket', 'uploads/');\n  \n  if (result.success) {\n    console.log('Objects:', result.objects);\n  }\n}\n\nuploadExample();`,\n                react: `// AWS S3 React Integration\nimport React, { useState, useCallback, useRef } from 'react';\nimport AWS from 'aws-sdk';\n\n// Configure AWS (do this at app level)\nAWS.config.update({\n  accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY_ID,\n  secretAccessKey: process.env.REACT_APP_AWS_SECRET_ACCESS_KEY,\n  region: process.env.REACT_APP_AWS_REGION\n});\n\nconst s3 = new AWS.S3();\n\n// Hook for S3 operations\nconst useS3 = (bucketName) => {\n  const [uploading, setUploading] = useState(false);\n  const [downloadUrl, setDownloadUrl] = useState('');\n  const [error, setError] = useState('');\n  const [progress, setProgress] = useState(0);\n\n  const uploadFile = useCallback(async (file, key, options = {}) => {\n    setUploading(true);\n    setError('');\n    setProgress(0);\n\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key || file.name,\n        Body: file,\n        ContentType: file.type,\n        ...options\n      };\n\n      const upload = s3.upload(params);\n\n      // Track upload progress\n      upload.on('httpUploadProgress', (evt) => {\n        const progress = Math.round((evt.loaded / evt.total) * 100);\n        setProgress(progress);\n      });\n\n      const result = await upload.promise();\n      \n      return {\n        success: true,\n        location: result.Location,\n        key: result.Key,\n        etag: result.ETag\n      };\n    } catch (error) {\n      setError(error.message);\n      return { success: false, error: error.message };\n    } finally {\n      setUploading(false);\n    }\n  }, [bucketName]);\n\n  const downloadFile = useCallback(async (key) => {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key\n      };\n\n      const result = await s3.getObject(params).promise();\n      \n      // Create blob URL for download\n      const blob = new Blob([result.Body], { type: result.ContentType });\n      const url = URL.createObjectURL(blob);\n      setDownloadUrl(url);\n      \n      return { success: true, url, data: result.Body };\n    } catch (error) {\n      setError(error.message);\n      return { success: false, error: error.message };\n    }\n  }, [bucketName]);\n\n  const getPresignedUrl = useCallback((key, expiresIn = 300, operation = 'getObject') => {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key,\n        Expires: expiresIn\n      };\n\n      const url = s3.getSignedUrl(operation, params);\n      return { success: true, url };\n    } catch (error) {\n      setError(error.message);\n      return { success: false, error: error.message };\n    }\n  }, [bucketName]);\n\n  const listObjects = useCallback(async (prefix = '') => {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Prefix: prefix\n      };\n\n      const result = await s3.listObjectsV2(params).promise();\n      \n      return {\n        success: true,\n        objects: result.Contents?.map(obj => ({\n          key: obj.Key,\n          size: obj.Size,\n          lastModified: obj.LastModified\n        })) || []\n      };\n    } catch (error) {\n      setError(error.message);\n      return { success: false, error: error.message };\n    }\n  }, [bucketName]);\n\n  const deleteFile = useCallback(async (key) => {\n    try {\n      const params = {\n        Bucket: bucketName,\n        Key: key\n      };\n\n      await s3.deleteObject(params).promise();\n      return { success: true };\n    } catch (error) {\n      setError(error.message);\n      return { success: false, error: error.message };\n    }\n  }, [bucketName]);\n\n  return {\n    uploadFile,\n    downloadFile,\n    getPresignedUrl,\n    listObjects,\n    deleteFile,\n    uploading,\n    downloadUrl,\n    error,\n    progress\n  };\n};\n\n// File Upload Component\nconst FileUploader = ({ bucketName, onUploadComplete }) => {\n  const { uploadFile, uploading, progress, error } = useS3(bucketName);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const handleFileSelect = (files) => {\n    if (files && files.length > 0) {\n      uploadFiles(Array.from(files));\n    }\n  };\n\n  const uploadFiles = async (files) => {\n    for (const file of files) {\n      const result = await uploadFile(file);\n      if (result.success && onUploadComplete) {\n        onUploadComplete(result);\n      }\n    }\n  };\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    if (e.dataTransfer.files) {\n      handleFileSelect(e.dataTransfer.files);\n    }\n  };\n\n  return (\n    <div className=\"file-uploader\">\n      <div\n        className={\\`upload-area \\${dragActive ? 'drag-active' : ''} \\${uploading ? 'uploading' : ''}\\`}\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n        onClick={() => fileInputRef.current?.click()}\n      >\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          onChange={(e) => handleFileSelect(e.target.files)}\n          style={{ display: 'none' }}\n        />\n        \n        {uploading ? (\n          <div className=\"upload-progress\">\n            <div className=\"progress-bar\">\n              <div \n                className=\"progress-fill\"\n                style={{ width: \\`\\${progress}%\\` }}\n              />\n            </div>\n            <p>Uploading... {progress}%</p>\n          </div>\n        ) : (\n          <div className=\"upload-prompt\">\n            <div className=\"upload-icon\">ðŸ“</div>\n            <p>Click or drag files here to upload</p>\n            <span className=\"upload-hint\">Supports all file types</span>\n          </div>\n        )}\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          Error: {error}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// File Browser Component\nconst FileBrowser = ({ bucketName }) => {\n  const { listObjects, deleteFile, getPresignedUrl } = useS3(bucketName);\n  const [objects, setObjects] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedPrefix, setSelectedPrefix] = useState('');\n\n  useEffect(() => {\n    loadObjects();\n  }, [selectedPrefix]);\n\n  const loadObjects = async () => {\n    setLoading(true);\n    const result = await listObjects(selectedPrefix);\n    if (result.success) {\n      setObjects(result.objects);\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async (key) => {\n    if (window.confirm(\\`Delete \\${key}?\\`)) {\n      const result = await deleteFile(key);\n      if (result.success) {\n        await loadObjects(); // Refresh list\n      }\n    }\n  };\n\n  const handleDownload = async (key) => {\n    const result = getPresignedUrl(key, 300);\n    if (result.success) {\n      window.open(result.url, '_blank');\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"file-browser\">\n      <div className=\"browser-header\">\n        <h3>Files in {bucketName}</h3>\n        <div className=\"prefix-input\">\n          <input\n            type=\"text\"\n            value={selectedPrefix}\n            onChange={(e) => setSelectedPrefix(e.target.value)}\n            placeholder=\"Filter by prefix...\"\n          />\n          <button onClick={loadObjects}>Refresh</button>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"loading\">Loading files...</div>\n      ) : (\n        <div className=\"file-list\">\n          {objects.length === 0 ? (\n            <div className=\"empty-state\">\n              No files found {selectedPrefix && \\`with prefix \"\\${selectedPrefix}\"\\`}\n            </div>\n          ) : (\n            <table className=\"files-table\">\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Size</th>\n                  <th>Modified</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {objects.map((object) => (\n                  <tr key={object.key}>\n                    <td className=\"file-name\">{object.key}</td>\n                    <td>{formatFileSize(object.size)}</td>\n                    <td>{new Date(object.lastModified).toLocaleDateString()}</td>\n                    <td className=\"file-actions\">\n                      <button onClick={() => handleDownload(object.key)}>\n                        Download\n                      </button>\n                      <button \n                        onClick={() => handleDelete(object.key)}\n                        className=\"delete-button\"\n                      >\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Main S3 App Component\nconst S3App = () => {\n  const bucketName = process.env.REACT_APP_S3_BUCKET_NAME;\n  const [activeTab, setActiveTab] = useState('upload');\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n\n  const handleUploadComplete = (result) => {\n    setUploadedFiles(prev => [...prev, result]);\n    console.log('File uploaded:', result);\n  };\n\n  return (\n    <div className=\"s3-app\">\n      <header>\n        <h1>AWS S3 File Manager</h1>\n        <div className=\"bucket-info\">Bucket: {bucketName}</div>\n      </header>\n\n      <div className=\"tab-navigation\">\n        <button\n          className={activeTab === 'upload' ? 'active' : ''}\n          onClick={() => setActiveTab('upload')}\n        >\n          Upload Files\n        </button>\n        <button\n          className={activeTab === 'browse' ? 'active' : ''}\n          onClick={() => setActiveTab('browse')}\n        >\n          Browse Files\n        </button>\n      </div>\n\n      <div className=\"tab-content\">\n        {activeTab === 'upload' ? (\n          <div className=\"upload-tab\">\n            <FileUploader\n              bucketName={bucketName}\n              onUploadComplete={handleUploadComplete}\n            />\n            \n            {uploadedFiles.length > 0 && (\n              <div className=\"upload-results\">\n                <h3>Recently Uploaded</h3>\n                <ul>\n                  {uploadedFiles.map((file, index) => (\n                    <li key={index}>\n                      <strong>{file.key}</strong> - {file.location}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"browse-tab\">\n            <FileBrowser bucketName={bucketName} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default S3App;\n\n// Environment variables needed (.env):\n// REACT_APP_AWS_ACCESS_KEY_ID=your_access_key_id\n// REACT_APP_AWS_SECRET_ACCESS_KEY=your_secret_access_key\n// REACT_APP_AWS_REGION=us-east-1\n// REACT_APP_S3_BUCKET_NAME=your-bucket-name`\n            }\n        }\n    },\n    // AI/ML APIS\n    {\n        id: \"openai\",\n        slug: \"openai\",\n        name: \"OpenAI\",\n        category: \"AI/ML\",\n        description: \"Advanced AI capabilities including GPT models, embeddings, and image generation with DALL-E.\",\n        icon: \"\\uD83E\\uDD16\",\n        features: [\n            \"GPT-4 Chat Completions\",\n            \"Text Embeddings\",\n            \"DALL-E Image Generation\",\n            \"Whisper Speech-to-Text\",\n            \"Function Calling\",\n            \"Fine-tuning Support\"\n        ],\n        popularity: 99,\n        documentation: \"https://platform.openai.com/docs\",\n        codeTemplates: {\n            javascript: {\n                vanilla: `// OpenAI API Integration\nconst OpenAI = require('openai');\n\nclass OpenAIService {\n  constructor(apiKey) {\n    this.openai = new OpenAI({\n      apiKey: apiKey\n    });\n  }\n\n  // Generate text completion using GPT\n  async generateCompletion(prompt, options = {}) {\n    try {\n      const completion = await this.openai.chat.completions.create({\n        model: options.model || 'gpt-4',\n        messages: [\n          {\n            role: 'system',\n            content: options.systemMessage || 'You are a helpful assistant.'\n          },\n          {\n            role: 'user',\n            content: prompt\n          }\n        ],\n        max_tokens: options.maxTokens || 150,\n        temperature: options.temperature || 0.7,\n        top_p: options.topP || 1,\n        frequency_penalty: options.frequencyPenalty || 0,\n        presence_penalty: options.presencePenalty || 0\n      });\n\n      return {\n        success: true,\n        text: completion.choices[0].message.content,\n        usage: completion.usage,\n        model: completion.model\n      };\n    } catch (error) {\n      console.error('OpenAI Completion Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Generate streaming completion\n  async generateStreamingCompletion(prompt, onChunk, options = {}) {\n    try {\n      const stream = await this.openai.chat.completions.create({\n        model: options.model || 'gpt-4',\n        messages: [\n          {\n            role: 'system',\n            content: options.systemMessage || 'You are a helpful assistant.'\n          },\n          {\n            role: 'user',\n            content: prompt\n          }\n        ],\n        max_tokens: options.maxTokens || 150,\n        temperature: options.temperature || 0.7,\n        stream: true\n      });\n\n      let fullText = '';\n      \n      for await (const chunk of stream) {\n        const content = chunk.choices[0]?.delta?.content || '';\n        fullText += content;\n        \n        if (onChunk) {\n          onChunk(content, fullText);\n        }\n      }\n\n      return {\n        success: true,\n        text: fullText\n      };\n    } catch (error) {\n      console.error('OpenAI Streaming Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Generate text embeddings\n  async generateEmbeddings(texts, options = {}) {\n    try {\n      const textsArray = Array.isArray(texts) ? texts : [texts];\n      \n      const response = await this.openai.embeddings.create({\n        model: options.model || 'text-embedding-ada-002',\n        input: textsArray\n      });\n\n      return {\n        success: true,\n        embeddings: response.data.map(item => item.embedding),\n        usage: response.usage\n      };\n    } catch (error) {\n      console.error('OpenAI Embeddings Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Generate images with DALL-E\n  async generateImage(prompt, options = {}) {\n    try {\n      const response = await this.openai.images.generate({\n        model: options.model || 'dall-e-3',\n        prompt: prompt,\n        n: options.n || 1,\n        size: options.size || '1024x1024',\n        quality: options.quality || 'standard',\n        style: options.style || 'vivid'\n      });\n\n      return {\n        success: true,\n        images: response.data.map(item => ({\n          url: item.url,\n          revised_prompt: item.revised_prompt\n        }))\n      };\n    } catch (error) {\n      console.error('OpenAI Image Generation Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Transcribe audio with Whisper\n  async transcribeAudio(audioFile, options = {}) {\n    try {\n      const transcription = await this.openai.audio.transcriptions.create({\n        file: audioFile,\n        model: options.model || 'whisper-1',\n        language: options.language,\n        prompt: options.prompt,\n        response_format: options.responseFormat || 'json',\n        temperature: options.temperature || 0\n      });\n\n      return {\n        success: true,\n        text: transcription.text,\n        language: transcription.language\n      };\n    } catch (error) {\n      console.error('OpenAI Transcription Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Generate speech from text\n  async generateSpeech(text, options = {}) {\n    try {\n      const mp3 = await this.openai.audio.speech.create({\n        model: options.model || 'tts-1',\n        voice: options.voice || 'alloy',\n        input: text,\n        response_format: options.responseFormat || 'mp3',\n        speed: options.speed || 1.0\n      });\n\n      const buffer = Buffer.from(await mp3.arrayBuffer());\n      \n      return {\n        success: true,\n        audio: buffer\n      };\n    } catch (error) {\n      console.error('OpenAI Speech Generation Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Function calling with GPT\n  async callFunction(prompt, functions, options = {}) {\n    try {\n      const completion = await this.openai.chat.completions.create({\n        model: options.model || 'gpt-4',\n        messages: [\n          {\n            role: 'system',\n            content: options.systemMessage || 'You are a helpful assistant that can call functions.'\n          },\n          {\n            role: 'user',\n            content: prompt\n          }\n        ],\n        functions: functions,\n        function_call: options.functionCall || 'auto',\n        temperature: options.temperature || 0.1\n      });\n\n      const message = completion.choices[0].message;\n\n      if (message.function_call) {\n        return {\n          success: true,\n          functionCall: {\n            name: message.function_call.name,\n            arguments: JSON.parse(message.function_call.arguments)\n          },\n          message: message.content,\n          usage: completion.usage\n        };\n      }\n\n      return {\n        success: true,\n        message: message.content,\n        usage: completion.usage\n      };\n    } catch (error) {\n      console.error('OpenAI Function Call Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  // Chat with conversation history\n  async chat(messages, options = {}) {\n    try {\n      const completion = await this.openai.chat.completions.create({\n        model: options.model || 'gpt-4',\n        messages: messages,\n        max_tokens: options.maxTokens || 150,\n        temperature: options.temperature || 0.7\n      });\n\n      const responseMessage = completion.choices[0].message;\n\n      return {\n        success: true,\n        message: responseMessage,\n        usage: completion.usage,\n        model: completion.model\n      };\n    } catch (error) {\n      console.error('OpenAI Chat Error:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n}\n\n// Usage examples\nconst openai = new OpenAIService('your-openai-api-key');\n\n// Generate a completion\nasync function completionExample() {\n  const result = await openai.generateCompletion(\n    'Write a short story about a robot learning to paint.',\n    {\n      model: 'gpt-4',\n      maxTokens: 200,\n      temperature: 0.8\n    }\n  );\n\n  if (result.success) {\n    console.log('Generated text:', result.text);\n    console.log('Tokens used:', result.usage);\n  } else {\n    console.error('Error:', result.error);\n  }\n}\n\n// Generate embeddings\nasync function embeddingsExample() {\n  const texts = [\n    'The quick brown fox jumps over the lazy dog',\n    'Machine learning is a subset of artificial intelligence',\n    'JavaScript is a programming language'\n  ];\n\n  const result = await openai.generateEmbeddings(texts);\n\n  if (result.success) {\n    console.log('Embeddings generated:', result.embeddings.length);\n    console.log('First embedding dimension:', result.embeddings[0].length);\n  }\n}\n\n// Generate image\nasync function imageExample() {\n  const result = await openai.generateImage(\n    'A serene landscape with mountains and a lake at sunset',\n    {\n      size: '1024x1024',\n      quality: 'hd',\n      n: 1\n    }\n  );\n\n  if (result.success) {\n    console.log('Image URL:', result.images[0].url);\n  }\n}\n\n// Streaming completion\nasync function streamingExample() {\n  console.log('Streaming response:');\n  \n  const result = await openai.generateStreamingCompletion(\n    'Explain quantum computing in simple terms.',\n    (chunk, fullText) => {\n      process.stdout.write(chunk);\n    },\n    {\n      model: 'gpt-4',\n      maxTokens: 200\n    }\n  );\n\n  console.log('\\\\nStreaming complete:', result.success);\n}\n\n// Function calling example\nasync function functionCallExample() {\n  const functions = [\n    {\n      name: 'get_weather',\n      description: 'Get the current weather for a location',\n      parameters: {\n        type: 'object',\n        properties: {\n          location: {\n            type: 'string',\n            description: 'The city and state, e.g. San Francisco, CA'\n          }\n        },\n        required: ['location']\n      }\n    }\n  ];\n\n  const result = await openai.callFunction(\n    'What\\'s the weather like in New York?',\n    functions\n  );\n\n  if (result.success && result.functionCall) {\n    console.log('Function to call:', result.functionCall.name);\n    console.log('Arguments:', result.functionCall.arguments);\n  }\n}\n\ncompletionExample();`,\n                react: `// OpenAI React Integration\nimport React, { useState, useEffect, useRef } from 'react';\nimport OpenAI from 'openai';\n\n// OpenAI Hook\nconst useOpenAI = (apiKey) => {\n  const [client, setClient] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (apiKey) {\n      const openaiClient = new OpenAI({\n        apiKey: apiKey,\n        dangerouslyAllowBrowser: true // Only for demo - use server-side in production\n      });\n      setClient(openaiClient);\n    }\n  }, [apiKey]);\n\n  const generateCompletion = async (prompt, options = {}) => {\n    if (!client) throw new Error('OpenAI client not initialized');\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const completion = await client.chat.completions.create({\n        model: options.model || 'gpt-3.5-turbo',\n        messages: [\n          {\n            role: 'system',\n            content: options.systemMessage || 'You are a helpful assistant.'\n          },\n          {\n            role: 'user',\n            content: prompt\n          }\n        ],\n        max_tokens: options.maxTokens || 150,\n        temperature: options.temperature || 0.7\n      });\n\n      return {\n        success: true,\n        text: completion.choices[0].message.content,\n        usage: completion.usage\n      };\n    } catch (error) {\n      setError(error.message);\n      return { success: false, error: error.message };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateImage = async (prompt, options = {}) => {\n    if (!client) throw new Error('OpenAI client not initialized');\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await client.images.generate({\n        model: 'dall-e-2', // Use dall-e-2 for browser compatibility\n        prompt: prompt,\n        n: options.n || 1,\n        size: options.size || '512x512'\n      });\n\n      return {\n        success: true,\n        images: response.data.map(item => ({ url: item.url }))\n      };\n    } catch (error) {\n      setError(error.message);\n      return { success: false, error: error.message };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return {\n    generateCompletion,\n    generateImage,\n    loading,\n    error,\n    isReady: !!client\n  };\n};\n\n// Chat Component\nconst ChatComponent = ({ apiKey }) => {\n  const { generateCompletion, loading, error } = useOpenAI(apiKey);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n    if (!input.trim() || loading) return;\n\n    const userMessage = { role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n\n    const result = await generateCompletion(input, {\n      model: 'gpt-3.5-turbo',\n      maxTokens: 200,\n      temperature: 0.7\n    });\n\n    if (result.success) {\n      const assistantMessage = { role: 'assistant', content: result.text };\n      setMessages(prev => [...prev, assistantMessage]);\n    } else {\n      const errorMessage = { role: 'error', content: \\`Error: \\${result.error}\\` };\n      setMessages(prev => [...prev, errorMessage]);\n    }\n  };\n\n  return (\n    <div className=\"chat-component\">\n      <div className=\"chat-header\">\n        <h3>AI Chat Assistant</h3>\n        <span className=\"model-info\">GPT-3.5 Turbo</span>\n      </div>\n\n      <div className=\"chat-messages\">\n        {messages.length === 0 ? (\n          <div className=\"empty-state\">\n            <p>Start a conversation with the AI assistant!</p>\n          </div>\n        ) : (\n          messages.map((message, index) => (\n            <div key={index} className={\\`message message-\\${message.role}\\`}>\n              <div className=\"message-content\">\n                {message.content}\n              </div>\n              <div className=\"message-role\">{message.role}</div>\n            </div>\n          ))\n        )}\n        {loading && (\n          <div className=\"message message-assistant\">\n            <div className=\"message-content\">\n              <div className=\"typing-indicator\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <form onSubmit={sendMessage} className=\"chat-input\">\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Type your message...\"\n          disabled={loading}\n        />\n        <button type=\"submit\" disabled={loading || !input.trim()}>\n          Send\n        </button>\n      </form>\n\n      {error && (\n        <div className=\"error-message\">\n          {error}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Image Generation Component\nconst ImageGenerator = ({ apiKey }) => {\n  const { generateImage, loading, error } = useOpenAI(apiKey);\n  const [prompt, setPrompt] = useState('');\n  const [generatedImages, setGeneratedImages] = useState([]);\n  const [imageSize, setImageSize] = useState('512x512');\n\n  const generateImages = async (e) => {\n    e.preventDefault();\n    if (!prompt.trim() || loading) return;\n\n    const result = await generateImage(prompt, {\n      size: imageSize,\n      n: 1\n    });\n\n    if (result.success) {\n      setGeneratedImages(prev => [...prev, {\n        prompt,\n        url: result.images[0].url,\n        timestamp: new Date()\n      }]);\n    }\n  };\n\n  return (\n    <div className=\"image-generator\">\n      <div className=\"generator-header\">\n        <h3>AI Image Generator</h3>\n        <span className=\"model-info\">DALL-E 2</span>\n      </div>\n\n      <form onSubmit={generateImages} className=\"generator-form\">\n        <div className=\"form-group\">\n          <textarea\n            value={prompt}\n            onChange={(e) => setPrompt(e.target.value)}\n            placeholder=\"Describe the image you want to generate...\"\n            rows={3}\n            disabled={loading}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Image Size:</label>\n          <select\n            value={imageSize}\n            onChange={(e) => setImageSize(e.target.value)}\n            disabled={loading}\n          >\n            <option value=\"256x256\">256x256</option>\n            <option value=\"512x512\">512x512</option>\n            <option value=\"1024x1024\">1024x1024</option>\n          </select>\n        </div>\n\n        <button type=\"submit\" disabled={loading || !prompt.trim()}>\n          {loading ? 'Generating...' : 'Generate Image'}\n        </button>\n      </form>\n\n      {error && (\n        <div className=\"error-message\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"generated-images\">\n        {generatedImages.length === 0 ? (\n          <div className=\"empty-state\">\n            <p>Generated images will appear here</p>\n          </div>\n        ) : (\n          <div className=\"images-grid\">\n            {generatedImages.map((item, index) => (\n              <div key={index} className=\"image-card\">\n                <img src={item.url} alt={item.prompt} />\n                <div className=\"image-info\">\n                  <p className=\"image-prompt\">{item.prompt}</p>\n                  <p className=\"image-timestamp\">\n                    {item.timestamp.toLocaleTimeString()}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Text Completion Component\nconst TextCompletion = ({ apiKey }) => {\n  const { generateCompletion, loading, error } = useOpenAI(apiKey);\n  const [prompt, setPrompt] = useState('');\n  const [completion, setCompletion] = useState('');\n  const [model, setModel] = useState('gpt-3.5-turbo');\n  const [temperature, setTemperature] = useState(0.7);\n  const [maxTokens, setMaxTokens] = useState(150);\n\n  const generateText = async (e) => {\n    e.preventDefault();\n    if (!prompt.trim() || loading) return;\n\n    const result = await generateCompletion(prompt, {\n      model,\n      temperature,\n      maxTokens\n    });\n\n    if (result.success) {\n      setCompletion(result.text);\n    }\n  };\n\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(completion);\n  };\n\n  return (\n    <div className=\"text-completion\">\n      <div className=\"completion-header\">\n        <h3>Text Completion</h3>\n        <span className=\"model-info\">{model}</span>\n      </div>\n\n      <form onSubmit={generateText} className=\"completion-form\">\n        <div className=\"form-group\">\n          <label>Prompt:</label>\n          <textarea\n            value={prompt}\n            onChange={(e) => setPrompt(e.target.value)}\n            placeholder=\"Enter your prompt here...\"\n            rows={4}\n            disabled={loading}\n          />\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Model:</label>\n            <select\n              value={model}\n              onChange={(e) => setModel(e.target.value)}\n              disabled={loading}\n            >\n              <option value=\"gpt-3.5-turbo\">GPT-3.5 Turbo</option>\n              <option value=\"gpt-4\">GPT-4</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Temperature: {temperature}</label>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"2\"\n              step=\"0.1\"\n              value={temperature}\n              onChange={(e) => setTemperature(parseFloat(e.target.value))}\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Max Tokens:</label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              max=\"4000\"\n              value={maxTokens}\n              onChange={(e) => setMaxTokens(parseInt(e.target.value))}\n              disabled={loading}\n            />\n          </div>\n        </div>\n\n        <button type=\"submit\" disabled={loading || !prompt.trim()}>\n          {loading ? 'Generating...' : 'Generate'}\n        </button>\n      </form>\n\n      {error && (\n        <div className=\"error-message\">\n          {error}\n        </div>\n      )}\n\n      {completion && (\n        <div className=\"completion-result\">\n          <div className=\"result-header\">\n            <h4>Generated Text:</h4>\n            <button onClick={copyToClipboard} className=\"copy-button\">\n              Copy\n            </button>\n          </div>\n          <div className=\"result-content\">\n            {completion}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Main OpenAI App\nconst OpenAIApp = () => {\n  const [apiKey, setApiKey] = useState(process.env.REACT_APP_OPENAI_API_KEY || '');\n  const [activeTab, setActiveTab] = useState('chat');\n\n  return (\n    <div className=\"openai-app\">\n      <header className=\"app-header\">\n        <h1>OpenAI Integration Demo</h1>\n        \n        {!process.env.REACT_APP_OPENAI_API_KEY && (\n          <div className=\"api-key-input\">\n            <input\n              type=\"password\"\n              placeholder=\"Enter OpenAI API Key\"\n              value={apiKey}\n              onChange={(e) => setApiKey(e.target.value)}\n            />\n          </div>\n        )}\n      </header>\n\n      <div className=\"tab-navigation\">\n        <button\n          className={activeTab === 'chat' ? 'active' : ''}\n          onClick={() => setActiveTab('chat')}\n        >\n          Chat\n        </button>\n        <button\n          className={activeTab === 'completion' ? 'active' : ''}\n          onClick={() => setActiveTab('completion')}\n        >\n          Text Completion\n        </button>\n        <button\n          className={activeTab === 'images' ? 'active' : ''}\n          onClick={() => setActiveTab('images')}\n        >\n          Image Generation\n        </button>\n      </div>\n\n      <div className=\"tab-content\">\n        {activeTab === 'chat' && <ChatComponent apiKey={apiKey} />}\n        {activeTab === 'completion' && <TextCompletion apiKey={apiKey} />}\n        {activeTab === 'images' && <ImageGenerator apiKey={apiKey} />}\n      </div>\n    </div>\n  );\n};\n\nexport default OpenAIApp;\n\n// Environment variables needed (.env):\n// REACT_APP_OPENAI_API_KEY=your_openai_api_key_here\n\n// Note: In production, API calls should be made from your backend\n// to keep the API key secure. This is for demonstration purposes.`\n            }\n        }\n    }\n];\nconst categories = [\n    {\n        id: \"payment\",\n        name: \"Payment Processing\",\n        description: \"Accept payments, manage subscriptions, and handle transactions securely.\",\n        count: 15,\n        popularAPIs: [\n            \"Stripe\",\n            \"PayPal\",\n            \"Square\"\n        ]\n    },\n    {\n        id: \"auth\",\n        name: \"Authentication\",\n        description: \"Secure user authentication, OAuth, and identity management.\",\n        count: 20,\n        popularAPIs: [\n            \"Auth0\",\n            \"Firebase Auth\",\n            \"Google OAuth\"\n        ]\n    },\n    {\n        id: \"storage\",\n        name: \"Cloud Storage\",\n        description: \"Store, manage, and deliver files and media content.\",\n        count: 12,\n        popularAPIs: [\n            \"AWS S3\",\n            \"Google Cloud\",\n            \"Cloudinary\"\n        ]\n    },\n    {\n        id: \"ai\",\n        name: \"AI/ML\",\n        description: \"Integrate artificial intelligence and machine learning capabilities.\",\n        count: 15,\n        popularAPIs: [\n            \"OpenAI\",\n            \"Anthropic\",\n            \"Hugging Face\"\n        ]\n    },\n    {\n        id: \"database\",\n        name: \"Database\",\n        description: \"Database services and data management solutions.\",\n        count: 10,\n        popularAPIs: [\n            \"Supabase\",\n            \"MongoDB\",\n            \"PlanetScale\"\n        ]\n    },\n    {\n        id: \"communication\",\n        name: \"Communication\",\n        description: \"Email, SMS, push notifications, and messaging services.\",\n        count: 12,\n        popularAPIs: [\n            \"Twilio\",\n            \"SendGrid\",\n            \"Pusher\"\n        ]\n    },\n    {\n        id: \"social\",\n        name: \"Social Media\",\n        description: \"Social platform integrations and social authentication.\",\n        count: 8,\n        popularAPIs: [\n            \"Twitter API\",\n            \"Facebook Graph\",\n            \"Instagram\"\n        ]\n    },\n    {\n        id: \"maps\",\n        name: \"Maps & Location\",\n        description: \"Mapping, geolocation, and location-based services.\",\n        count: 6,\n        popularAPIs: [\n            \"Google Maps\",\n            \"Mapbox\",\n            \"HERE Maps\"\n        ]\n    },\n    {\n        id: \"analytics\",\n        name: \"Analytics\",\n        description: \"Track user behavior, performance, and business metrics.\",\n        count: 8,\n        popularAPIs: [\n            \"Google Analytics\",\n            \"Mixpanel\",\n            \"Amplitude\"\n        ]\n    },\n    {\n        id: \"ecommerce\",\n        name: \"E-commerce\",\n        description: \"Shopping cart, inventory, and e-commerce functionality.\",\n        count: 10,\n        popularAPIs: [\n            \"Shopify\",\n            \"WooCommerce\",\n            \"BigCommerce\"\n        ]\n    },\n    {\n        id: \"productivity\",\n        name: \"Productivity\",\n        description: \"Document management, calendars, and workflow automation.\",\n        count: 9,\n        popularAPIs: [\n            \"Google Workspace\",\n            \"Microsoft 365\",\n            \"Notion\"\n        ]\n    },\n    {\n        id: \"media\",\n        name: \"Media Processing\",\n        description: \"Image, video, and audio processing and manipulation.\",\n        count: 7,\n        popularAPIs: [\n            \"Cloudinary\",\n            \"ImageKit\",\n            \"Mux\"\n        ]\n    }\n];\n// Helper functions\nfunction getAllAPIs() {\n    return apiTemplates;\n}\nfunction getAPIBySlug(slug) {\n    return apiTemplates.find((api)=>api.slug === slug) || null;\n}\nfunction getAPIsByCategory(category) {\n    if (category === \"all\") return apiTemplates;\n    return apiTemplates.filter((api)=>api.category.toLowerCase().includes(category.toLowerCase()));\n}\nfunction getCategories() {\n    return categories;\n}\nfunction getPopularAPIs() {\n    return apiTemplates.filter((api)=>api.popularity && api.popularity >= 90).sort((a, b)=>(b.popularity || 0) - (a.popularity || 0)).slice(0, 9);\n}\nfunction getCategoryIcon(categoryId) {\n    const icons = {\n        \"payment\": \"\\uD83D\\uDCB3\",\n        \"auth\": \"\\uD83D\\uDD10\",\n        \"storage\": \"â˜ï¸\",\n        \"ai\": \"\\uD83E\\uDD16\",\n        \"database\": \"\\uD83D\\uDDC4ï¸\",\n        \"communication\": \"\\uD83D\\uDCE8\",\n        \"social\": \"\\uD83D\\uDC65\",\n        \"maps\": \"\\uD83D\\uDDFAï¸\",\n        \"analytics\": \"\\uD83D\\uDCCA\",\n        \"ecommerce\": \"\\uD83D\\uDED2\",\n        \"productivity\": \"âš¡\",\n        \"media\": \"\\uD83C\\uDFAC\"\n    };\n    return icons[categoryId] || \"\\uD83D\\uDD27\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXBpLWRhdGEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFQSx1RUFBdUU7QUFDaEUsTUFBTUEsZUFBOEI7SUFDekMsMEJBQTBCO0lBQzFCO1FBQ0VDLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxNQUFNO1FBQ05DLFVBQVU7WUFDUjtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtRQUNEQyxZQUFZO1FBQ1pDLGVBQWU7UUFDZkMsZUFBZTtZQUNiQyxZQUFZO2dCQUNWQyxTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NEQW1Gb0MsQ0FBQztnQkFDL0NDLE9BQU8sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFxR2QsQ0FBQztZQUNHO1lBQ0FDLFlBQVk7Z0JBQ1ZGLFNBQVMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aUJBMkpELENBQUM7WUFDWjtZQUNBRyxRQUFRO2dCQUNOSCxTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0FvSXdCLENBQUM7Z0JBQ25DSSxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxREE2Rm9DLENBQUM7WUFDaEQ7WUFDQUMsS0FBSztnQkFDSEwsU0FBUyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUErSmhCLENBQUM7WUFDRztZQUNBTSxJQUFJO2dCQUNGTixTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21EQWdPaUMsQ0FBQztZQUM5QztZQUNBTyxNQUFNO2dCQUNKUCxTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aURBbU4rQixDQUFDO1lBQzVDO1FBQ0Y7SUFDRjtJQUVBLGFBQWE7SUFDYjtRQUNFWCxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMsTUFBTTtRQUNOQyxVQUFVO1lBQ1I7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7UUFDREMsWUFBWTtRQUNaQyxlQUFlO1FBQ2ZDLGVBQWU7WUFDYkMsWUFBWTtnQkFDVkMsU0FBUyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cURBdUltQyxDQUFDO2dCQUM5Q0MsT0FBTyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBNEhkLENBQUM7WUFDRztRQUNGO0lBQ0Y7SUFFQSxzQkFBc0I7SUFDdEI7UUFDRVosSUFBSTtRQUNKQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLE1BQU07UUFDTkMsVUFBVTtZQUNSO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtTQUNEO1FBQ0RDLFlBQVk7UUFDWkMsZUFBZTtRQUNmQyxlQUFlO1lBQ2JDLFlBQVk7Z0JBQ1ZDLFNBQVMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E0SWpCLENBQUM7Z0JBQ01DLE9BQU8sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MkNBc08yQixDQUFDO1lBQ3RDO1FBQ0Y7SUFDRjtJQUVBLG1CQUFtQjtJQUNuQjtRQUNFWixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMsTUFBTTtRQUNOQyxVQUFVO1lBQ1I7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7UUFDREMsWUFBWTtRQUNaQyxlQUFlO1FBQ2ZDLGVBQWU7WUFDYkMsWUFBWTtnQkFDVkMsU0FBUyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQStPakIsQ0FBQztnQkFDTUMsT0FBTyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTBUZCxDQUFDO1lBQ0c7UUFDRjtJQUNGO0lBRUEsdUJBQXVCO0lBQ3ZCO1FBQ0VaLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxNQUFNO1FBQ05DLFVBQVU7WUFDUjtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtRQUNEQyxZQUFZO1FBQ1pDLGVBQWU7UUFDZkMsZUFBZTtZQUNiQyxZQUFZO2dCQUNWQyxTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2dCQXNVRixDQUFDO2dCQUNUQyxPQUFPLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0Q0F3WjRCLENBQUM7WUFDdkM7UUFDRjtJQUNGO0lBRUEsYUFBYTtJQUNiO1FBQ0VaLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxNQUFNO1FBQ05DLFVBQVU7WUFDUjtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtRQUNEQyxZQUFZO1FBQ1pDLGVBQWU7UUFDZkMsZUFBZTtZQUNiQyxZQUFZO2dCQUNWQyxTQUFTLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBcVhFLENBQUM7Z0JBQ2JDLE9BQU8sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrRUFtY2tELENBQUM7WUFDN0Q7UUFDRjtJQUNGO0NBR0Q7QUFFTSxNQUFNTyxhQUF5QjtJQUNwQztRQUNFbkIsSUFBSTtRQUNKRSxNQUFNO1FBQ05FLGFBQWE7UUFDYmdCLE9BQU87UUFDUEMsYUFBYTtZQUFDO1lBQVU7WUFBVTtTQUFTO0lBQzdDO0lBQ0E7UUFDRXJCLElBQUk7UUFDSkUsTUFBTTtRQUNORSxhQUFhO1FBQ2JnQixPQUFPO1FBQ1BDLGFBQWE7WUFBQztZQUFTO1lBQWlCO1NBQWU7SUFDekQ7SUFDQTtRQUNFckIsSUFBSTtRQUNKRSxNQUFNO1FBQ05FLGFBQWE7UUFDYmdCLE9BQU87UUFDUEMsYUFBYTtZQUFDO1lBQVU7WUFBZ0I7U0FBYTtJQUN2RDtJQUNBO1FBQ0VyQixJQUFJO1FBQ0pFLE1BQU07UUFDTkUsYUFBYTtRQUNiZ0IsT0FBTztRQUNQQyxhQUFhO1lBQUM7WUFBVTtZQUFhO1NBQWU7SUFDdEQ7SUFDQTtRQUNFckIsSUFBSTtRQUNKRSxNQUFNO1FBQ05FLGFBQWE7UUFDYmdCLE9BQU87UUFDUEMsYUFBYTtZQUFDO1lBQVk7WUFBVztTQUFjO0lBQ3JEO0lBQ0E7UUFDRXJCLElBQUk7UUFDSkUsTUFBTTtRQUNORSxhQUFhO1FBQ2JnQixPQUFPO1FBQ1BDLGFBQWE7WUFBQztZQUFVO1lBQVk7U0FBUztJQUMvQztJQUNBO1FBQ0VyQixJQUFJO1FBQ0pFLE1BQU07UUFDTkUsYUFBYTtRQUNiZ0IsT0FBTztRQUNQQyxhQUFhO1lBQUM7WUFBZTtZQUFrQjtTQUFZO0lBQzdEO0lBQ0E7UUFDRXJCLElBQUk7UUFDSkUsTUFBTTtRQUNORSxhQUFhO1FBQ2JnQixPQUFPO1FBQ1BDLGFBQWE7WUFBQztZQUFlO1lBQVU7U0FBWTtJQUNyRDtJQUNBO1FBQ0VyQixJQUFJO1FBQ0pFLE1BQU07UUFDTkUsYUFBYTtRQUNiZ0IsT0FBTztRQUNQQyxhQUFhO1lBQUM7WUFBb0I7WUFBWTtTQUFZO0lBQzVEO0lBQ0E7UUFDRXJCLElBQUk7UUFDSkUsTUFBTTtRQUNORSxhQUFhO1FBQ2JnQixPQUFPO1FBQ1BDLGFBQWE7WUFBQztZQUFXO1lBQWU7U0FBYztJQUN4RDtJQUNBO1FBQ0VyQixJQUFJO1FBQ0pFLE1BQU07UUFDTkUsYUFBYTtRQUNiZ0IsT0FBTztRQUNQQyxhQUFhO1lBQUM7WUFBb0I7WUFBaUI7U0FBUztJQUM5RDtJQUNBO1FBQ0VyQixJQUFJO1FBQ0pFLE1BQU07UUFDTkUsYUFBYTtRQUNiZ0IsT0FBTztRQUNQQyxhQUFhO1lBQUM7WUFBYztZQUFZO1NBQU07SUFDaEQ7Q0FDRDtBQUVELG1CQUFtQjtBQUNaLFNBQVNDO0lBQ2QsT0FBT3ZCO0FBQ1Q7QUFFTyxTQUFTd0IsYUFBYXRCLElBQVk7SUFDdkMsT0FBT0YsYUFBYXlCLElBQUksQ0FBQ0MsQ0FBQUEsTUFBT0EsSUFBSXhCLElBQUksS0FBS0EsU0FBUztBQUN4RDtBQUVPLFNBQVN5QixrQkFBa0J2QixRQUFnQjtJQUNoRCxJQUFJQSxhQUFhLE9BQU8sT0FBT0o7SUFDL0IsT0FBT0EsYUFBYTRCLE1BQU0sQ0FBQ0YsQ0FBQUEsTUFBT0EsSUFBSXRCLFFBQVEsQ0FBQ3lCLFdBQVcsR0FBR0MsUUFBUSxDQUFDMUIsU0FBU3lCLFdBQVc7QUFDNUY7QUFFTyxTQUFTRTtJQUNkLE9BQU9YO0FBQ1Q7QUFFTyxTQUFTWTtJQUNkLE9BQU9oQyxhQUNKNEIsTUFBTSxDQUFDRixDQUFBQSxNQUFPQSxJQUFJbEIsVUFBVSxJQUFJa0IsSUFBSWxCLFVBQVUsSUFBSSxJQUNsRHlCLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNLENBQUNBLEVBQUUzQixVQUFVLElBQUksS0FBTTBCLENBQUFBLEVBQUUxQixVQUFVLElBQUksSUFDdEQ0QixLQUFLLENBQUMsR0FBRztBQUNkO0FBRU8sU0FBU0MsZ0JBQWdCQyxVQUFrQjtJQUNoRCxNQUFNQyxRQUFnQztRQUNwQyxXQUFXO1FBQ1gsUUFBUTtRQUNSLFdBQVc7UUFDWCxNQUFNO1FBQ04sWUFBWTtRQUNaLGlCQUFpQjtRQUNqQixVQUFVO1FBQ1YsUUFBUTtRQUNSLGFBQWE7UUFDYixhQUFhO1FBQ2IsZ0JBQWdCO1FBQ2hCLFNBQVM7SUFDWDtJQUVBLE9BQU9BLEtBQUssQ0FBQ0QsV0FBVyxJQUFJO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29kZWJvaWxlci8uL2xpYi9hcGktZGF0YS50cz83ZWIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQVBJVGVtcGxhdGUsIENhdGVnb3J5IH0gZnJvbSAnQC90eXBlcy9hcGknXG5cbi8vIE1vY2sgQVBJIGRhdGEgLSBpbiBwcm9kdWN0aW9uIHRoaXMgd291bGQgY29tZSBmcm9tIGEgZGF0YWJhc2Ugb3IgQVBJXG5leHBvcnQgY29uc3QgYXBpVGVtcGxhdGVzOiBBUElUZW1wbGF0ZVtdID0gW1xuICAvLyBQQVlNRU5UIFBST0NFU1NJTkcgQVBJU1xuICB7XG4gICAgaWQ6ICdzdHJpcGUnLFxuICAgIHNsdWc6ICdzdHJpcGUnLFxuICAgIG5hbWU6ICdTdHJpcGUnLFxuICAgIGNhdGVnb3J5OiAnUGF5bWVudCBQcm9jZXNzaW5nJyxcbiAgICBkZXNjcmlwdGlvbjogJ0NvbXBsZXRlIHBheW1lbnQgcHJvY2Vzc2luZyB3aXRoIHN1YnNjcmlwdGlvbnMsIHdlYmhvb2tzLCBhbmQgbWFya2V0cGxhY2UgZnVuY3Rpb25hbGl0eS4nLFxuICAgIGljb246ICfwn5KzJyxcbiAgICBmZWF0dXJlczogW1xuICAgICAgJ1BheW1lbnQgSW50ZW50cyBBUEknLFxuICAgICAgJ1N1YnNjcmlwdGlvbiBNYW5hZ2VtZW50JyxcbiAgICAgICdXZWJob29rIEhhbmRsaW5nJyxcbiAgICAgICdDdXN0b21lciBQb3J0YWwnLFxuICAgICAgJ011bHRpLXBhcnR5IFBheW1lbnRzJyxcbiAgICAgICdTdHJvbmcgQ3VzdG9tZXIgQXV0aGVudGljYXRpb24nXG4gICAgXSxcbiAgICBwb3B1bGFyaXR5OiA5OCxcbiAgICBkb2N1bWVudGF0aW9uOiAnaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MnLFxuICAgIGNvZGVUZW1wbGF0ZXM6IHtcbiAgICAgIGphdmFzY3JpcHQ6IHtcbiAgICAgICAgdmFuaWxsYTogYC8vIFN0cmlwZSBQYXltZW50IEludGVncmF0aW9uXG5jb25zdCBzdHJpcGUgPSByZXF1aXJlKCdzdHJpcGUnKSgnc2tfdGVzdF8uLi4nKTtcblxuY2xhc3MgU3RyaXBlUGF5bWVudHMge1xuICBjb25zdHJ1Y3RvcihzZWNyZXRLZXkpIHtcbiAgICB0aGlzLnN0cmlwZSA9IHJlcXVpcmUoJ3N0cmlwZScpKHNlY3JldEtleSk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVQYXltZW50SW50ZW50KGFtb3VudCwgY3VycmVuY3kgPSAndXNkJywgY3VzdG9tZXJJZCA9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bWVudEludGVudCA9IGF3YWl0IHRoaXMuc3RyaXBlLnBheW1lbnRJbnRlbnRzLmNyZWF0ZSh7XG4gICAgICAgIGFtb3VudDogYW1vdW50ICogMTAwLCAvLyBDb252ZXJ0IHRvIGNlbnRzXG4gICAgICAgIGN1cnJlbmN5LFxuICAgICAgICBjdXN0b21lcjogY3VzdG9tZXJJZCxcbiAgICAgICAgYXV0b21hdGljX3BheW1lbnRfbWV0aG9kczoge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBwYXltZW50SW50ZW50LmNsaWVudF9zZWNyZXQsXG4gICAgICAgIHBheW1lbnRJbnRlbnRJZDogcGF5bWVudEludGVudC5pZFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3RyaXBlIFBheW1lbnQgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUN1c3RvbWVyKGVtYWlsLCBuYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgdGhpcy5zdHJpcGUuY3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBuYW1lLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlV2ViaG9vayhib2R5LCBzaWduYXR1cmUsIHdlYmhvb2tTZWNyZXQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLnN0cmlwZS53ZWJob29rcy5jb25zdHJ1Y3RFdmVudChcbiAgICAgICAgYm9keSxcbiAgICAgICAgc2lnbmF0dXJlLFxuICAgICAgICB3ZWJob29rU2VjcmV0XG4gICAgICApO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSAncGF5bWVudF9pbnRlbnQuc3VjY2VlZGVkJzpcbiAgICAgICAgICBjb25zb2xlLmxvZygnUGF5bWVudCBzdWNjZWVkZWQ6JywgZXZlbnQuZGF0YS5vYmplY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwYXltZW50X2ludGVudC5wYXltZW50X2ZhaWxlZCc6XG4gICAgICAgICAgY29uc29sZS5sb2coJ1BheW1lbnQgZmFpbGVkOicsIGV2ZW50LmRhdGEub2JqZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmxvZyhcXGBVbmhhbmRsZWQgZXZlbnQgdHlwZSBcXCR7ZXZlbnQudHlwZX1cXGApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVXNhZ2VcbmNvbnN0IHBheW1lbnRzID0gbmV3IFN0cmlwZVBheW1lbnRzKCdza190ZXN0X3lvdXJfa2V5Jyk7XG5wYXltZW50cy5jcmVhdGVQYXltZW50SW50ZW50KDI5Ljk5KS50aGVuKGNvbnNvbGUubG9nKTtgLFxuICAgICAgICByZWFjdDogYC8vIFN0cmlwZSBSZWFjdCBJbnRlZ3JhdGlvbiB3aXRoIEVsZW1lbnRzXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBsb2FkU3RyaXBlIH0gZnJvbSAnQHN0cmlwZS9zdHJpcGUtanMnO1xuaW1wb3J0IHtcbiAgRWxlbWVudHMsXG4gIENhcmRFbGVtZW50LFxuICB1c2VTdHJpcGUsXG4gIHVzZUVsZW1lbnRzXG59IGZyb20gJ0BzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzJztcblxuY29uc3Qgc3RyaXBlUHJvbWlzZSA9IGxvYWRTdHJpcGUoJ3BrX3Rlc3RfeW91cl9wdWJsaXNoYWJsZV9rZXknKTtcblxuY29uc3QgQ2hlY2tvdXRGb3JtID0gKCkgPT4ge1xuICBjb25zdCBzdHJpcGUgPSB1c2VTdHJpcGUoKTtcbiAgY29uc3QgZWxlbWVudHMgPSB1c2VFbGVtZW50cygpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtzdWNjZXNzLCBzZXRTdWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICBpZiAoIXN0cmlwZSB8fCAhZWxlbWVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcGF5bWVudCBpbnRlbnQgb24geW91ciBzZXJ2ZXJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvY3JlYXRlLXBheW1lbnQtaW50ZW50Jywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhbW91bnQ6IDI5OTksIC8vICQyOS45OVxuICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgY2xpZW50X3NlY3JldCB9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudChjbGllbnRfc2VjcmV0LCB7XG4gICAgICBwYXltZW50X21ldGhvZDoge1xuICAgICAgICBjYXJkOiBlbGVtZW50cy5nZXRFbGVtZW50KENhcmRFbGVtZW50KSxcbiAgICAgICAgYmlsbGluZ19kZXRhaWxzOiB7XG4gICAgICAgICAgbmFtZTogJ0N1c3RvbWVyIE5hbWUnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvci5tZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U3VjY2Vzcyh0cnVlKTtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfTtcblxuICBpZiAoc3VjY2Vzcykge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInN1Y2Nlc3NcIj5QYXltZW50IHN1Y2Nlc3NmdWwhPC9kaXY+O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJwYXltZW50LWZvcm1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICA8Q2FyZEVsZW1lbnRcbiAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYXNlOiB7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJyM0MjQ3NzAnLFxuICAgICAgICAgICAgICAgICc6OnBsYWNlaG9sZGVyJzoge1xuICAgICAgICAgICAgICAgICAgY29sb3I6ICcjYWFiN2M0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+e2Vycm9yfTwvZGl2Pn1cbiAgICAgIFxuICAgICAgPGJ1dHRvblxuICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgZGlzYWJsZWQ9eyFzdHJpcGUgfHwgbG9hZGluZ31cbiAgICAgICAgY2xhc3NOYW1lPVwicGF5LWJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtsb2FkaW5nID8gJ1Byb2Nlc3NpbmcuLi4nIDogJ1BheSBOb3cnfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9mb3JtPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IFN0cmlwZUNoZWNrb3V0ID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxFbGVtZW50cyBzdHJpcGU9e3N0cmlwZVByb21pc2V9PlxuICAgICAgPENoZWNrb3V0Rm9ybSAvPlxuICAgIDwvRWxlbWVudHM+XG4gICk7XG59O2BcbiAgICAgIH0sXG4gICAgICB0eXBlc2NyaXB0OiB7XG4gICAgICAgIHZhbmlsbGE6IGAvLyBTdHJpcGUgVHlwZVNjcmlwdCBJbnRlZ3JhdGlvblxuaW1wb3J0IFN0cmlwZSBmcm9tICdzdHJpcGUnO1xuXG5pbnRlcmZhY2UgUGF5bWVudFJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGNsaWVudFNlY3JldD86IHN0cmluZztcbiAgcGF5bWVudEludGVudElkPzogc3RyaW5nO1xuICBlcnJvcj86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEN1c3RvbWVyUmVzdWx0IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgY3VzdG9tZXJJZD86IHN0cmluZztcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmNsYXNzIFN0cmlwZVBheW1lbnRzIHtcbiAgcHJpdmF0ZSBzdHJpcGU6IFN0cmlwZTtcblxuICBjb25zdHJ1Y3RvcihzZWNyZXRLZXk6IHN0cmluZykge1xuICAgIHRoaXMuc3RyaXBlID0gbmV3IFN0cmlwZShzZWNyZXRLZXksIHtcbiAgICAgIGFwaVZlcnNpb246ICcyMDIzLTEwLTE2JyxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVBheW1lbnRJbnRlbnQoXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgY3VycmVuY3k6IHN0cmluZyA9ICd1c2QnLFxuICAgIGN1c3RvbWVySWQ/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxQYXltZW50UmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtczogU3RyaXBlLlBheW1lbnRJbnRlbnRDcmVhdGVQYXJhbXMgPSB7XG4gICAgICAgIGFtb3VudDogTWF0aC5yb3VuZChhbW91bnQgKiAxMDApLCAvLyBDb252ZXJ0IHRvIGNlbnRzXG4gICAgICAgIGN1cnJlbmN5LFxuICAgICAgICBhdXRvbWF0aWNfcGF5bWVudF9tZXRob2RzOiB7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGlmIChjdXN0b21lcklkKSB7XG4gICAgICAgIHBhcmFtcy5jdXN0b21lciA9IGN1c3RvbWVySWQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBheW1lbnRJbnRlbnQgPSBhd2FpdCB0aGlzLnN0cmlwZS5wYXltZW50SW50ZW50cy5jcmVhdGUocGFyYW1zKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBwYXltZW50SW50ZW50LmNsaWVudF9zZWNyZXQhLFxuICAgICAgICBwYXltZW50SW50ZW50SWQ6IHBheW1lbnRJbnRlbnQuaWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0cmlwZSBQYXltZW50IEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlQ3VzdG9tZXIoZW1haWw6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxDdXN0b21lclJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjdXN0b21lciA9IGF3YWl0IHRoaXMuc3RyaXBlLmN1c3RvbWVycy5jcmVhdGUoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgbmFtZSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBjdXN0b21lcklkOiBjdXN0b21lci5pZFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgY3VzdG9tZXJJZDogc3RyaW5nLFxuICAgIHByaWNlSWQ6IHN0cmluZ1xuICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgc3Vic2NyaXB0aW9uSWQ/OiBzdHJpbmc7IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgdGhpcy5zdHJpcGUuc3Vic2NyaXB0aW9ucy5jcmVhdGUoe1xuICAgICAgICBjdXN0b21lcjogY3VzdG9tZXJJZCxcbiAgICAgICAgaXRlbXM6IFt7IHByaWNlOiBwcmljZUlkIH1dLFxuICAgICAgICBwYXltZW50X2JlaGF2aW9yOiAnZGVmYXVsdF9pbmNvbXBsZXRlJyxcbiAgICAgICAgcGF5bWVudF9zZXR0aW5nczogeyBzYXZlX2RlZmF1bHRfcGF5bWVudF9tZXRob2Q6ICdvbl9zdWJzY3JpcHRpb24nIH0sXG4gICAgICAgIGV4cGFuZDogWydsYXRlc3RfaW52b2ljZS5wYXltZW50X2ludGVudCddLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHN1YnNjcmlwdGlvbklkOiBzdWJzY3JpcHRpb24uaWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlV2ViaG9vayhcbiAgICBib2R5OiBzdHJpbmcsXG4gICAgc2lnbmF0dXJlOiBzdHJpbmcsXG4gICAgd2ViaG9va1NlY3JldDogc3RyaW5nXG4gICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5zdHJpcGUud2ViaG9va3MuY29uc3RydWN0RXZlbnQoXG4gICAgICAgIGJvZHksXG4gICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgd2ViaG9va1NlY3JldFxuICAgICAgKTtcblxuICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3BheW1lbnRfaW50ZW50LnN1Y2NlZWRlZCc6XG4gICAgICAgICAgY29uc29sZS5sb2coJ1BheW1lbnQgc3VjY2VlZGVkOicsIGV2ZW50LmRhdGEub2JqZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGF5bWVudF9pbnRlbnQucGF5bWVudF9mYWlsZWQnOlxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXltZW50IGZhaWxlZDonLCBldmVudC5kYXRhLm9iamVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2N1c3RvbWVyLnN1YnNjcmlwdGlvbi5jcmVhdGVkJzpcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3Vic2NyaXB0aW9uIGNyZWF0ZWQ6JywgZXZlbnQuZGF0YS5vYmplY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbnZvaWNlLnBheW1lbnRfc3VjY2VlZGVkJzpcbiAgICAgICAgICBjb25zb2xlLmxvZygnSW52b2ljZSBwYWlkOicsIGV2ZW50LmRhdGEub2JqZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmxvZyhcXGBVbmhhbmRsZWQgZXZlbnQgdHlwZSBcXCR7ZXZlbnQudHlwZX1cXGApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnSW52YWxpZCBzaWduYXR1cmUnXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG4vLyBVc2FnZVxuY29uc3QgcGF5bWVudHMgPSBuZXcgU3RyaXBlUGF5bWVudHMoJ3NrX3Rlc3RfeW91cl9rZXknKTtcblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1BheW1lbnQoKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBheW1lbnRzLmNyZWF0ZVBheW1lbnRJbnRlbnQoMjkuOTksICd1c2QnKTtcbiAgXG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIGNvbnNvbGUubG9nKCdQYXltZW50IEludGVudCBjcmVhdGVkOicsIHJlc3VsdC5wYXltZW50SW50ZW50SWQpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1BheW1lbnQgZmFpbGVkOicsIHJlc3VsdC5lcnJvcik7XG4gIH1cbn1cblxucHJvY2Vzc1BheW1lbnQoKTtgXG4gICAgICB9LFxuICAgICAgcHl0aG9uOiB7XG4gICAgICAgIHZhbmlsbGE6IGBcIlwiXCJcblN0cmlwZSBQeXRob24gSW50ZWdyYXRpb25cbkNvbXBsZXRlIHBheW1lbnQgcHJvY2Vzc2luZyB3aXRoIHN1YnNjcmlwdGlvbnMgYW5kIHdlYmhvb2tzXG5cIlwiXCJcblxuaW1wb3J0IHN0cmlwZVxuZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEFueSwgT3B0aW9uYWxcblxuY2xhc3MgU3RyaXBlUGF5bWVudHM6XG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIHNlY3JldF9rZXk6IHN0cik6XG4gICAgICAgIHN0cmlwZS5hcGlfa2V5ID0gc2VjcmV0X2tleVxuICAgICAgICBzZWxmLnN0cmlwZSA9IHN0cmlwZVxuICAgIFxuICAgIGRlZiBjcmVhdGVfcGF5bWVudF9pbnRlbnQoXG4gICAgICAgIHNlbGYsIFxuICAgICAgICBhbW91bnQ6IGZsb2F0LCBcbiAgICAgICAgY3VycmVuY3k6IHN0ciA9IFwidXNkXCIsIFxuICAgICAgICBjdXN0b21lcl9pZDogT3B0aW9uYWxbc3RyXSA9IE5vbmVcbiAgICApIC0+IERpY3Rbc3RyLCBBbnldOlxuICAgICAgICBcIlwiXCJDcmVhdGUgYSBwYXltZW50IGludGVudCBmb3IgdGhlIHNwZWNpZmllZCBhbW91bnRcIlwiXCJcbiAgICAgICAgdHJ5OlxuICAgICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIFwiYW1vdW50XCI6IGludChhbW91bnQgKiAxMDApLCAgIyBDb252ZXJ0IHRvIGNlbnRzXG4gICAgICAgICAgICAgICAgXCJjdXJyZW5jeVwiOiBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBcImF1dG9tYXRpY19wYXltZW50X21ldGhvZHNcIjoge1wiZW5hYmxlZFwiOiBUcnVlfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBjdXN0b21lcl9pZDpcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJjdXN0b21lclwiXSA9IGN1c3RvbWVyX2lkXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBheW1lbnRfaW50ZW50ID0gc2VsZi5zdHJpcGUuUGF5bWVudEludGVudC5jcmVhdGUoKipwYXJhbXMpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IFRydWUsXG4gICAgICAgICAgICAgICAgXCJjbGllbnRfc2VjcmV0XCI6IHBheW1lbnRfaW50ZW50LmNsaWVudF9zZWNyZXQsXG4gICAgICAgICAgICAgICAgXCJwYXltZW50X2ludGVudF9pZFwiOiBwYXltZW50X2ludGVudC5pZFxuICAgICAgICAgICAgfVxuICAgICAgICBleGNlcHQgc3RyaXBlLmVycm9yLlN0cmlwZUVycm9yIGFzIGU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBGYWxzZSxcbiAgICAgICAgICAgICAgICBcImVycm9yXCI6IHN0cihlKVxuICAgICAgICAgICAgfVxuICAgIFxuICAgIGRlZiBjcmVhdGVfY3VzdG9tZXIoc2VsZiwgZW1haWw6IHN0ciwgbmFtZTogc3RyKSAtPiBEaWN0W3N0ciwgQW55XTpcbiAgICAgICAgXCJcIlwiQ3JlYXRlIGEgbmV3IFN0cmlwZSBjdXN0b21lclwiXCJcIlxuICAgICAgICB0cnk6XG4gICAgICAgICAgICBjdXN0b21lciA9IHNlbGYuc3RyaXBlLkN1c3RvbWVyLmNyZWF0ZShcbiAgICAgICAgICAgICAgICBlbWFpbD1lbWFpbCxcbiAgICAgICAgICAgICAgICBuYW1lPW5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogVHJ1ZSxcbiAgICAgICAgICAgICAgICBcImN1c3RvbWVyX2lkXCI6IGN1c3RvbWVyLmlkXG4gICAgICAgICAgICB9XG4gICAgICAgIGV4Y2VwdCBzdHJpcGUuZXJyb3IuU3RyaXBlRXJyb3IgYXMgZTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IEZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogc3RyKGUpXG4gICAgICAgICAgICB9XG4gICAgXG4gICAgZGVmIGNyZWF0ZV9zdWJzY3JpcHRpb24oXG4gICAgICAgIHNlbGYsIFxuICAgICAgICBjdXN0b21lcl9pZDogc3RyLCBcbiAgICAgICAgcHJpY2VfaWQ6IHN0clxuICAgICkgLT4gRGljdFtzdHIsIEFueV06XG4gICAgICAgIFwiXCJcIkNyZWF0ZSBhIHN1YnNjcmlwdGlvbiBmb3IgYSBjdXN0b21lclwiXCJcIlxuICAgICAgICB0cnk6XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBzZWxmLnN0cmlwZS5TdWJzY3JpcHRpb24uY3JlYXRlKFxuICAgICAgICAgICAgICAgIGN1c3RvbWVyPWN1c3RvbWVyX2lkLFxuICAgICAgICAgICAgICAgIGl0ZW1zPVt7XCJwcmljZVwiOiBwcmljZV9pZH1dLFxuICAgICAgICAgICAgICAgIHBheW1lbnRfYmVoYXZpb3I9XCJkZWZhdWx0X2luY29tcGxldGVcIixcbiAgICAgICAgICAgICAgICBwYXltZW50X3NldHRpbmdzPXtcInNhdmVfZGVmYXVsdF9wYXltZW50X21ldGhvZFwiOiBcIm9uX3N1YnNjcmlwdGlvblwifSxcbiAgICAgICAgICAgICAgICBleHBhbmQ9W1wibGF0ZXN0X2ludm9pY2UucGF5bWVudF9pbnRlbnRcIl1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogVHJ1ZSxcbiAgICAgICAgICAgICAgICBcInN1YnNjcmlwdGlvbl9pZFwiOiBzdWJzY3JpcHRpb24uaWQsXG4gICAgICAgICAgICAgICAgXCJjbGllbnRfc2VjcmV0XCI6IHN1YnNjcmlwdGlvbi5sYXRlc3RfaW52b2ljZS5wYXltZW50X2ludGVudC5jbGllbnRfc2VjcmV0XG4gICAgICAgICAgICB9XG4gICAgICAgIGV4Y2VwdCBzdHJpcGUuZXJyb3IuU3RyaXBlRXJyb3IgYXMgZTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IEZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogc3RyKGUpXG4gICAgICAgICAgICB9XG4gICAgXG4gICAgZGVmIGhhbmRsZV93ZWJob29rKFxuICAgICAgICBzZWxmLCBcbiAgICAgICAgcGF5bG9hZDogYnl0ZXMsIFxuICAgICAgICBzaWdfaGVhZGVyOiBzdHIsIFxuICAgICAgICB3ZWJob29rX3NlY3JldDogc3RyXG4gICAgKSAtPiBEaWN0W3N0ciwgQW55XTpcbiAgICAgICAgXCJcIlwiSGFuZGxlIFN0cmlwZSB3ZWJob29rIGV2ZW50c1wiXCJcIlxuICAgICAgICB0cnk6XG4gICAgICAgICAgICBldmVudCA9IHNlbGYuc3RyaXBlLldlYmhvb2suY29uc3RydWN0X2V2ZW50KFxuICAgICAgICAgICAgICAgIHBheWxvYWQsIHNpZ19oZWFkZXIsIHdlYmhvb2tfc2VjcmV0XG4gICAgICAgICAgICApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGV2ZW50W1widHlwZVwiXSA9PSBcInBheW1lbnRfaW50ZW50LnN1Y2NlZWRlZFwiOlxuICAgICAgICAgICAgICAgIHBheW1lbnRfaW50ZW50ID0gZXZlbnRbXCJkYXRhXCJdW1wib2JqZWN0XCJdXG4gICAgICAgICAgICAgICAgcHJpbnQoZlwiUGF5bWVudCBzdWNjZWVkZWQ6IHtwYXltZW50X2ludGVudFsnaWQnXX1cIilcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGVsaWYgZXZlbnRbXCJ0eXBlXCJdID09IFwicGF5bWVudF9pbnRlbnQucGF5bWVudF9mYWlsZWRcIjpcbiAgICAgICAgICAgICAgICBwYXltZW50X2ludGVudCA9IGV2ZW50W1wiZGF0YVwiXVtcIm9iamVjdFwiXVxuICAgICAgICAgICAgICAgIHByaW50KGZcIlBheW1lbnQgZmFpbGVkOiB7cGF5bWVudF9pbnRlbnRbJ2lkJ119XCIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBlbGlmIGV2ZW50W1widHlwZVwiXSA9PSBcImN1c3RvbWVyLnN1YnNjcmlwdGlvbi5jcmVhdGVkXCI6XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gZXZlbnRbXCJkYXRhXCJdW1wib2JqZWN0XCJdXG4gICAgICAgICAgICAgICAgcHJpbnQoZlwiU3Vic2NyaXB0aW9uIGNyZWF0ZWQ6IHtzdWJzY3JpcHRpb25bJ2lkJ119XCIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBlbGlmIGV2ZW50W1widHlwZVwiXSA9PSBcImludm9pY2UucGF5bWVudF9zdWNjZWVkZWRcIjpcbiAgICAgICAgICAgICAgICBpbnZvaWNlID0gZXZlbnRbXCJkYXRhXCJdW1wib2JqZWN0XCJdXG4gICAgICAgICAgICAgICAgcHJpbnQoZlwiSW52b2ljZSBwYWlkOiB7aW52b2ljZVsnaWQnXX1cIilcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcInN1Y2Nlc3NcIjogVHJ1ZX1cbiAgICAgICAgICAgIFxuICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgICAgICAgICAgIHJldHVybiB7XCJzdWNjZXNzXCI6IEZhbHNlLCBcImVycm9yXCI6IFwiSW52YWxpZCBwYXlsb2FkXCJ9XG4gICAgICAgIGV4Y2VwdCBzdHJpcGUuZXJyb3IuU2lnbmF0dXJlVmVyaWZpY2F0aW9uRXJyb3I6XG4gICAgICAgICAgICByZXR1cm4ge1wic3VjY2Vzc1wiOiBGYWxzZSwgXCJlcnJvclwiOiBcIkludmFsaWQgc2lnbmF0dXJlXCJ9XG5cbiMgVXNhZ2UgZXhhbXBsZVxuaWYgX19uYW1lX18gPT0gXCJfX21haW5fX1wiOlxuICAgIHBheW1lbnRzID0gU3RyaXBlUGF5bWVudHMoXCJza190ZXN0X3lvdXJfa2V5XCIpXG4gICAgXG4gICAgIyBDcmVhdGUgYSBwYXltZW50IGludGVudFxuICAgIHJlc3VsdCA9IHBheW1lbnRzLmNyZWF0ZV9wYXltZW50X2ludGVudCgyOS45OSwgXCJ1c2RcIilcbiAgICBcbiAgICBpZiByZXN1bHRbXCJzdWNjZXNzXCJdOlxuICAgICAgICBwcmludChmXCJQYXltZW50IEludGVudCBjcmVhdGVkOiB7cmVzdWx0WydwYXltZW50X2ludGVudF9pZCddfVwiKVxuICAgIGVsc2U6XG4gICAgICAgIHByaW50KGZcIkVycm9yOiB7cmVzdWx0WydlcnJvciddfVwiKWAsXG4gICAgICAgIGRqYW5nbzogYFwiXCJcIlxuU3RyaXBlIERqYW5nbyBJbnRlZ3JhdGlvblxuXCJcIlwiXG5cbmZyb20gZGphbmdvLmNvbmYgaW1wb3J0IHNldHRpbmdzXG5mcm9tIGRqYW5nby5odHRwIGltcG9ydCBKc29uUmVzcG9uc2UsIEh0dHBSZXNwb25zZVxuZnJvbSBkamFuZ28udmlld3MuZGVjb3JhdG9ycy5jc3JmIGltcG9ydCBjc3JmX2V4ZW1wdFxuZnJvbSBkamFuZ28udmlld3MuZGVjb3JhdG9ycy5odHRwIGltcG9ydCByZXF1aXJlX2h0dHBfbWV0aG9kc1xuaW1wb3J0IHN0cmlwZVxuaW1wb3J0IGpzb25cblxuc3RyaXBlLmFwaV9rZXkgPSBnZXRhdHRyKHNldHRpbmdzLCAnU1RSSVBFX1NFQ1JFVF9LRVknLCAnJylcblxuY2xhc3MgU3RyaXBlU2VydmljZTpcbiAgICBAc3RhdGljbWV0aG9kXG4gICAgZGVmIGNyZWF0ZV9wYXltZW50X2ludGVudChhbW91bnQsIGN1cnJlbmN5PSd1c2QnLCBjdXN0b21lcl9pZD1Ob25lKTpcbiAgICAgICAgdHJ5OlxuICAgICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICdhbW91bnQnOiBpbnQoYW1vdW50ICogMTAwKSxcbiAgICAgICAgICAgICAgICAnY3VycmVuY3knOiBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICAnYXV0b21hdGljX3BheW1lbnRfbWV0aG9kcyc6IHsnZW5hYmxlZCc6IFRydWV9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGN1c3RvbWVyX2lkOlxuICAgICAgICAgICAgICAgIHBhcmFtc1snY3VzdG9tZXInXSA9IGN1c3RvbWVyX2lkXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBwYXltZW50X2ludGVudCA9IHN0cmlwZS5QYXltZW50SW50ZW50LmNyZWF0ZSgqKnBhcmFtcylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IFRydWUsXG4gICAgICAgICAgICAgICAgJ2NsaWVudF9zZWNyZXQnOiBwYXltZW50X2ludGVudC5jbGllbnRfc2VjcmV0LFxuICAgICAgICAgICAgICAgICdwYXltZW50X2ludGVudF9pZCc6IHBheW1lbnRfaW50ZW50LmlkXG4gICAgICAgICAgICB9XG4gICAgICAgIGV4Y2VwdCBzdHJpcGUuZXJyb3IuU3RyaXBlRXJyb3IgYXMgZTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBGYWxzZSxcbiAgICAgICAgICAgICAgICAnZXJyb3InOiBzdHIoZSlcbiAgICAgICAgICAgIH1cblxuICAgIEBzdGF0aWNtZXRob2RcbiAgICBkZWYgY3JlYXRlX2N1c3RvbWVyKGVtYWlsLCBuYW1lKTpcbiAgICAgICAgdHJ5OlxuICAgICAgICAgICAgY3VzdG9tZXIgPSBzdHJpcGUuQ3VzdG9tZXIuY3JlYXRlKFxuICAgICAgICAgICAgICAgIGVtYWlsPWVtYWlsLFxuICAgICAgICAgICAgICAgIG5hbWU9bmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IFRydWUsXG4gICAgICAgICAgICAgICAgJ2N1c3RvbWVyX2lkJzogY3VzdG9tZXIuaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgZXhjZXB0IHN0cmlwZS5lcnJvci5TdHJpcGVFcnJvciBhcyBlOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IEZhbHNlLFxuICAgICAgICAgICAgICAgICdlcnJvcic6IHN0cihlKVxuICAgICAgICAgICAgfVxuXG5AcmVxdWlyZV9odHRwX21ldGhvZHMoW1wiUE9TVFwiXSlcbmRlZiBjcmVhdGVfcGF5bWVudF9pbnRlbnQocmVxdWVzdCk6XG4gICAgdHJ5OlxuICAgICAgICBkYXRhID0ganNvbi5sb2FkcyhyZXF1ZXN0LmJvZHkpXG4gICAgICAgIGFtb3VudCA9IGRhdGEuZ2V0KCdhbW91bnQnKVxuICAgICAgICBjdXJyZW5jeSA9IGRhdGEuZ2V0KCdjdXJyZW5jeScsICd1c2QnKVxuICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0gU3RyaXBlU2VydmljZS5jcmVhdGVfcGF5bWVudF9pbnRlbnQoYW1vdW50LCBjdXJyZW5jeSlcbiAgICAgICAgcmV0dXJuIEpzb25SZXNwb25zZShyZXN1bHQpXG4gICAgICAgIFxuICAgIGV4Y2VwdCBqc29uLkpTT05EZWNvZGVFcnJvcjpcbiAgICAgICAgcmV0dXJuIEpzb25SZXNwb25zZSh7J3N1Y2Nlc3MnOiBGYWxzZSwgJ2Vycm9yJzogJ0ludmFsaWQgSlNPTid9LCBzdGF0dXM9NDAwKVxuXG5AY3NyZl9leGVtcHRcbkByZXF1aXJlX2h0dHBfbWV0aG9kcyhbXCJQT1NUXCJdKVxuZGVmIHN0cmlwZV93ZWJob29rKHJlcXVlc3QpOlxuICAgIHBheWxvYWQgPSByZXF1ZXN0LmJvZHlcbiAgICBzaWdfaGVhZGVyID0gcmVxdWVzdC5NRVRBLmdldCgnSFRUUF9TVFJJUEVfU0lHTkFUVVJFJylcbiAgICBlbmRwb2ludF9zZWNyZXQgPSBnZXRhdHRyKHNldHRpbmdzLCAnU1RSSVBFX1dFQkhPT0tfU0VDUkVUJywgJycpXG4gICAgXG4gICAgdHJ5OlxuICAgICAgICBldmVudCA9IHN0cmlwZS5XZWJob29rLmNvbnN0cnVjdF9ldmVudChcbiAgICAgICAgICAgIHBheWxvYWQsIHNpZ19oZWFkZXIsIGVuZHBvaW50X3NlY3JldFxuICAgICAgICApXG4gICAgZXhjZXB0IChWYWx1ZUVycm9yLCBzdHJpcGUuZXJyb3IuU2lnbmF0dXJlVmVyaWZpY2F0aW9uRXJyb3IpOlxuICAgICAgICByZXR1cm4gSHR0cFJlc3BvbnNlKHN0YXR1cz00MDApXG4gICAgXG4gICAgaWYgZXZlbnRbJ3R5cGUnXSA9PSAncGF5bWVudF9pbnRlbnQuc3VjY2VlZGVkJzpcbiAgICAgICAgcGF5bWVudF9pbnRlbnQgPSBldmVudFsnZGF0YSddWydvYmplY3QnXVxuICAgICAgICAjIEhhbmRsZSBzdWNjZXNzZnVsIHBheW1lbnRcbiAgICAgICAgcHJpbnQoZlwiUGF5bWVudCBzdWNjZWVkZWQ6IHtwYXltZW50X2ludGVudFsnaWQnXX1cIilcbiAgICBcbiAgICByZXR1cm4gSHR0cFJlc3BvbnNlKHN0YXR1cz0yMDApXG5cbiMgQWRkIHRvIHNldHRpbmdzLnB5OlxuIyBTVFJJUEVfU0VDUkVUX0tFWSA9ICdza190ZXN0X3lvdXJfc2VjcmV0X2tleSdcbiMgU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSA9ICdwa190ZXN0X3lvdXJfcHVibGlzaGFibGVfa2V5J1xuIyBTVFJJUEVfV0VCSE9PS19TRUNSRVQgPSAnd2hzZWNfeW91cl93ZWJob29rX3NlY3JldCdgXG4gICAgICB9LFxuICAgICAgcGhwOiB7XG4gICAgICAgIHZhbmlsbGE6IGA8P3BocFxuLyoqXG4gKiBTdHJpcGUgUEhQIEludGVncmF0aW9uXG4gKiBDb21wbGV0ZSBwYXltZW50IHByb2Nlc3Npbmcgd2l0aCBzdWJzY3JpcHRpb25zIGFuZCB3ZWJob29rc1xuICovXG5cbnJlcXVpcmVfb25jZSAndmVuZG9yL2F1dG9sb2FkLnBocCc7XG5cbnVzZSBTdHJpcGVcXFN0cmlwZTtcbnVzZSBTdHJpcGVcXFBheW1lbnRJbnRlbnQ7XG51c2UgU3RyaXBlXFxDdXN0b21lcjtcbnVzZSBTdHJpcGVcXFN1YnNjcmlwdGlvbjtcbnVzZSBTdHJpcGVcXFdlYmhvb2s7XG5cbmNsYXNzIFN0cmlwZVBheW1lbnRzIHtcbiAgICBwcml2YXRlICRzZWNyZXRLZXk7XG4gICAgXG4gICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRzZWNyZXRLZXkpIHtcbiAgICAgICAgJHRoaXMtPnNlY3JldEtleSA9ICRzZWNyZXRLZXk7XG4gICAgICAgIFN0cmlwZTo6c2V0QXBpS2V5KCRzZWNyZXRLZXkpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlUGF5bWVudEludGVudCgkYW1vdW50LCAkY3VycmVuY3kgPSAndXNkJywgJGN1c3RvbWVySWQgPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAkcGFyYW1zID0gW1xuICAgICAgICAgICAgICAgICdhbW91bnQnID0+ICRhbW91bnQgKiAxMDAsIC8vIENvbnZlcnQgdG8gY2VudHNcbiAgICAgICAgICAgICAgICAnY3VycmVuY3knID0+ICRjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICAnYXV0b21hdGljX3BheW1lbnRfbWV0aG9kcycgPT4gWydlbmFibGVkJyA9PiB0cnVlXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCRjdXN0b21lcklkKSB7XG4gICAgICAgICAgICAgICAgJHBhcmFtc1snY3VzdG9tZXInXSA9ICRjdXN0b21lcklkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAkcGF5bWVudEludGVudCA9IFBheW1lbnRJbnRlbnQ6OmNyZWF0ZSgkcGFyYW1zKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICAnY2xpZW50X3NlY3JldCcgPT4gJHBheW1lbnRJbnRlbnQtPmNsaWVudF9zZWNyZXQsXG4gICAgICAgICAgICAgICAgJ3BheW1lbnRfaW50ZW50X2lkJyA9PiAkcGF5bWVudEludGVudC0+aWRcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoXFxTdHJpcGVcXEV4Y2VwdGlvblxcQXBpRXJyb3JFeGNlcHRpb24gJGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IGZhbHNlLFxuICAgICAgICAgICAgICAgICdlcnJvcicgPT4gJGUtPmdldE1lc3NhZ2UoKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tZXIoJGVtYWlsLCAkbmFtZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgJGN1c3RvbWVyID0gQ3VzdG9tZXI6OmNyZWF0ZShbXG4gICAgICAgICAgICAgICAgJ2VtYWlsJyA9PiAkZW1haWwsXG4gICAgICAgICAgICAgICAgJ25hbWUnID0+ICRuYW1lXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICAnY3VzdG9tZXJfaWQnID0+ICRjdXN0b21lci0+aWRcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoXFxTdHJpcGVcXEV4Y2VwdGlvblxcQXBpRXJyb3JFeGNlcHRpb24gJGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IGZhbHNlLFxuICAgICAgICAgICAgICAgICdlcnJvcicgPT4gJGUtPmdldE1lc3NhZ2UoKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlU3Vic2NyaXB0aW9uKCRjdXN0b21lcklkLCAkcHJpY2VJZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgJHN1YnNjcmlwdGlvbiA9IFN1YnNjcmlwdGlvbjo6Y3JlYXRlKFtcbiAgICAgICAgICAgICAgICAnY3VzdG9tZXInID0+ICRjdXN0b21lcklkLFxuICAgICAgICAgICAgICAgICdpdGVtcycgPT4gW1sncHJpY2UnID0+ICRwcmljZUlkXV0sXG4gICAgICAgICAgICAgICAgJ3BheW1lbnRfYmVoYXZpb3InID0+ICdkZWZhdWx0X2luY29tcGxldGUnLFxuICAgICAgICAgICAgICAgICdwYXltZW50X3NldHRpbmdzJyA9PiBbJ3NhdmVfZGVmYXVsdF9wYXltZW50X21ldGhvZCcgPT4gJ29uX3N1YnNjcmlwdGlvbiddLFxuICAgICAgICAgICAgICAgICdleHBhbmQnID0+IFsnbGF0ZXN0X2ludm9pY2UucGF5bWVudF9pbnRlbnQnXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IHRydWUsXG4gICAgICAgICAgICAgICAgJ3N1YnNjcmlwdGlvbl9pZCcgPT4gJHN1YnNjcmlwdGlvbi0+aWQsXG4gICAgICAgICAgICAgICAgJ2NsaWVudF9zZWNyZXQnID0+ICRzdWJzY3JpcHRpb24tPmxhdGVzdF9pbnZvaWNlLT5wYXltZW50X2ludGVudC0+Y2xpZW50X3NlY3JldFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChcXFN0cmlwZVxcRXhjZXB0aW9uXFxBcGlFcnJvckV4Y2VwdGlvbiAkZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gZmFsc2UsXG4gICAgICAgICAgICAgICAgJ2Vycm9yJyA9PiAkZS0+Z2V0TWVzc2FnZSgpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBmdW5jdGlvbiBoYW5kbGVXZWJob29rKCRwYXlsb2FkLCAkc2lnSGVhZGVyLCAkd2ViaG9va1NlY3JldCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgJGV2ZW50ID0gV2ViaG9vazo6Y29uc3RydWN0RXZlbnQoJHBheWxvYWQsICRzaWdIZWFkZXIsICR3ZWJob29rU2VjcmV0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3dpdGNoICgkZXZlbnQtPnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdwYXltZW50X2ludGVudC5zdWNjZWVkZWQnOlxuICAgICAgICAgICAgICAgICAgICAkcGF5bWVudEludGVudCA9ICRldmVudC0+ZGF0YS0+b2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBlcnJvcl9sb2coXCJQYXltZW50IHN1Y2NlZWRlZDogXCIgLiAkcGF5bWVudEludGVudC0+aWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2FzZSAncGF5bWVudF9pbnRlbnQucGF5bWVudF9mYWlsZWQnOlxuICAgICAgICAgICAgICAgICAgICAkcGF5bWVudEludGVudCA9ICRldmVudC0+ZGF0YS0+b2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBlcnJvcl9sb2coXCJQYXltZW50IGZhaWxlZDogXCIgLiAkcGF5bWVudEludGVudC0+aWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2FzZSAnY3VzdG9tZXIuc3Vic2NyaXB0aW9uLmNyZWF0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAkc3Vic2NyaXB0aW9uID0gJGV2ZW50LT5kYXRhLT5vYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yX2xvZyhcIlN1YnNjcmlwdGlvbiBjcmVhdGVkOiBcIiAuICRzdWJzY3JpcHRpb24tPmlkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhc2UgJ2ludm9pY2UucGF5bWVudF9zdWNjZWVkZWQnOlxuICAgICAgICAgICAgICAgICAgICAkaW52b2ljZSA9ICRldmVudC0+ZGF0YS0+b2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICBlcnJvcl9sb2coXCJJbnZvaWNlIHBhaWQ6IFwiIC4gJGludm9pY2UtPmlkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yX2xvZyhcIlVuaGFuZGxlZCBldmVudCB0eXBlOiBcIiAuICRldmVudC0+dHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBbJ3N1Y2Nlc3MnID0+IHRydWVdO1xuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKFxcVW5leHBlY3RlZFZhbHVlRXhjZXB0aW9uICRlKSB7XG4gICAgICAgICAgICByZXR1cm4gWydzdWNjZXNzJyA9PiBmYWxzZSwgJ2Vycm9yJyA9PiAnSW52YWxpZCBwYXlsb2FkJ107XG4gICAgICAgIH0gY2F0Y2ggKFxcU3RyaXBlXFxFeGNlcHRpb25cXFNpZ25hdHVyZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbiAkZSkge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3VjY2VzcycgPT4gZmFsc2UsICdlcnJvcicgPT4gJ0ludmFsaWQgc2lnbmF0dXJlJ107XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFVzYWdlIGV4YW1wbGVcbnRyeSB7XG4gICAgJHN0cmlwZSA9IG5ldyBTdHJpcGVQYXltZW50cygnc2tfdGVzdF95b3VyX2tleScpO1xuICAgICRyZXN1bHQgPSAkc3RyaXBlLT5jcmVhdGVQYXltZW50SW50ZW50KDI5Ljk5LCAndXNkJyk7XG4gICAgXG4gICAgaWYgKCRyZXN1bHRbJ3N1Y2Nlc3MnXSkge1xuICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXN1bHQsIEpTT05fUFJFVFRZX1BSSU5UKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlY2hvIFwiRXJyb3I6IFwiIC4gJHJlc3VsdFsnZXJyb3InXTtcbiAgICB9XG59IGNhdGNoIChFeGNlcHRpb24gJGUpIHtcbiAgICBlY2hvIFwiRXJyb3I6IFwiIC4gJGUtPmdldE1lc3NhZ2UoKTtcbn1cblxuLy8gRm9yIHdlYmhvb2sgaGFuZGxpbmcgKHdlYmhvb2sucGhwKVxuaWYgKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09PSAnUE9TVCcpIHtcbiAgICAkcGF5bG9hZCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCdwaHA6Ly9pbnB1dCcpO1xuICAgICRzaWdIZWFkZXIgPSAkX1NFUlZFUlsnSFRUUF9TVFJJUEVfU0lHTkFUVVJFJ10gPz8gJyc7XG4gICAgJHdlYmhvb2tTZWNyZXQgPSAnd2hzZWNfeW91cl93ZWJob29rX3NlY3JldCc7XG4gICAgXG4gICAgJHN0cmlwZSA9IG5ldyBTdHJpcGVQYXltZW50cygnc2tfdGVzdF95b3VyX2tleScpO1xuICAgICRyZXN1bHQgPSAkc3RyaXBlLT5oYW5kbGVXZWJob29rKCRwYXlsb2FkLCAkc2lnSGVhZGVyLCAkd2ViaG9va1NlY3JldCk7XG4gICAgXG4gICAgaHR0cF9yZXNwb25zZV9jb2RlKCRyZXN1bHRbJ3N1Y2Nlc3MnXSA/IDIwMCA6IDQwMCk7XG4gICAgZWNobyBqc29uX2VuY29kZSgkcmVzdWx0KTtcbn1cbj8+YFxuICAgICAgfSxcbiAgICAgIGdvOiB7XG4gICAgICAgIHZhbmlsbGE6IGBwYWNrYWdlIG1haW5cblxuaW1wb3J0IChcbiAgICBcImVuY29kaW5nL2pzb25cIlxuICAgIFwiZm10XCJcbiAgICBcImlvXCJcbiAgICBcImxvZ1wiXG4gICAgXCJuZXQvaHR0cFwiXG4gICAgXCJvc1wiXG5cbiAgICBcImdpdGh1Yi5jb20vc3RyaXBlL3N0cmlwZS1nby92NzRcIlxuICAgIFwiZ2l0aHViLmNvbS9zdHJpcGUvc3RyaXBlLWdvL3Y3NC9jdXN0b21lclwiXG4gICAgXCJnaXRodWIuY29tL3N0cmlwZS9zdHJpcGUtZ28vdjc0L3BheW1lbnRpbnRlbnRcIlxuICAgIFwiZ2l0aHViLmNvbS9zdHJpcGUvc3RyaXBlLWdvL3Y3NC9zdWJcIlxuICAgIFwiZ2l0aHViLmNvbS9zdHJpcGUvc3RyaXBlLWdvL3Y3NC93ZWJob29rXCJcbilcblxudHlwZSBTdHJpcGVQYXltZW50cyBzdHJ1Y3Qge1xuICAgIFNlY3JldEtleSBzdHJpbmdcbn1cblxudHlwZSBQYXltZW50UmVzdWx0IHN0cnVjdCB7XG4gICAgU3VjY2VzcyAgICAgICAgIGJvb2wgICBcXGBqc29uOlwic3VjY2Vzc1wiXFxgXG4gICAgQ2xpZW50U2VjcmV0ICAgIHN0cmluZyBcXGBqc29uOlwiY2xpZW50X3NlY3JldCxvbWl0ZW1wdHlcIlxcYFxuICAgIFBheW1lbnRJbnRlbnRJRCBzdHJpbmcgXFxganNvbjpcInBheW1lbnRfaW50ZW50X2lkLG9taXRlbXB0eVwiXFxgXG4gICAgRXJyb3IgICAgICAgICAgIHN0cmluZyBcXGBqc29uOlwiZXJyb3Isb21pdGVtcHR5XCJcXGBcbn1cblxudHlwZSBDdXN0b21lclJlc3VsdCBzdHJ1Y3Qge1xuICAgIFN1Y2Nlc3MgICAgYm9vbCAgIFxcYGpzb246XCJzdWNjZXNzXCJcXGBcbiAgICBDdXN0b21lcklEIHN0cmluZyBcXGBqc29uOlwiY3VzdG9tZXJfaWQsb21pdGVtcHR5XCJcXGBcbiAgICBFcnJvciAgICAgIHN0cmluZyBcXGBqc29uOlwiZXJyb3Isb21pdGVtcHR5XCJcXGBcbn1cblxuZnVuYyBOZXdTdHJpcGVQYXltZW50cyhzZWNyZXRLZXkgc3RyaW5nKSAqU3RyaXBlUGF5bWVudHMge1xuICAgIHN0cmlwZS5LZXkgPSBzZWNyZXRLZXlcbiAgICByZXR1cm4gJlN0cmlwZVBheW1lbnRze1xuICAgICAgICBTZWNyZXRLZXk6IHNlY3JldEtleSxcbiAgICB9XG59XG5cbmZ1bmMgKHMgKlN0cmlwZVBheW1lbnRzKSBDcmVhdGVQYXltZW50SW50ZW50KGFtb3VudCBpbnQ2NCwgY3VycmVuY3kgc3RyaW5nLCBjdXN0b21lcklEICpzdHJpbmcpIFBheW1lbnRSZXN1bHQge1xuICAgIHBhcmFtcyA6PSAmc3RyaXBlLlBheW1lbnRJbnRlbnRQYXJhbXN7XG4gICAgICAgIEFtb3VudDogICBzdHJpcGUuSW50NjQoYW1vdW50ICogMTAwKSwgLy8gQ29udmVydCB0byBjZW50c1xuICAgICAgICBDdXJyZW5jeTogc3RyaXBlLlN0cmluZyhjdXJyZW5jeSksXG4gICAgICAgIEF1dG9tYXRpY1BheW1lbnRNZXRob2RzOiAmc3RyaXBlLlBheW1lbnRJbnRlbnRBdXRvbWF0aWNQYXltZW50TWV0aG9kc1BhcmFtc3tcbiAgICAgICAgICAgIEVuYWJsZWQ6IHN0cmlwZS5Cb29sKHRydWUpLFxuICAgICAgICB9LFxuICAgIH1cblxuICAgIGlmIGN1c3RvbWVySUQgIT0gbmlsIHtcbiAgICAgICAgcGFyYW1zLkN1c3RvbWVyID0gY3VzdG9tZXJJRFxuICAgIH1cblxuICAgIHBpLCBlcnIgOj0gcGF5bWVudGludGVudC5OZXcocGFyYW1zKVxuICAgIGlmIGVyciAhPSBuaWwge1xuICAgICAgICByZXR1cm4gUGF5bWVudFJlc3VsdHtcbiAgICAgICAgICAgIFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgRXJyb3I6ICAgZXJyLkVycm9yKCksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUGF5bWVudFJlc3VsdHtcbiAgICAgICAgU3VjY2VzczogICAgICAgICB0cnVlLFxuICAgICAgICBDbGllbnRTZWNyZXQ6ICAgIHBpLkNsaWVudFNlY3JldCxcbiAgICAgICAgUGF5bWVudEludGVudElEOiBwaS5JRCxcbiAgICB9XG59XG5cbmZ1bmMgKHMgKlN0cmlwZVBheW1lbnRzKSBDcmVhdGVDdXN0b21lcihlbWFpbCwgbmFtZSBzdHJpbmcpIEN1c3RvbWVyUmVzdWx0IHtcbiAgICBwYXJhbXMgOj0gJnN0cmlwZS5DdXN0b21lclBhcmFtc3tcbiAgICAgICAgRW1haWw6IHN0cmlwZS5TdHJpbmcoZW1haWwpLFxuICAgICAgICBOYW1lOiAgc3RyaXBlLlN0cmluZyhuYW1lKSxcbiAgICB9XG5cbiAgICBjLCBlcnIgOj0gY3VzdG9tZXIuTmV3KHBhcmFtcylcbiAgICBpZiBlcnIgIT0gbmlsIHtcbiAgICAgICAgcmV0dXJuIEN1c3RvbWVyUmVzdWx0e1xuICAgICAgICAgICAgU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBFcnJvcjogICBlcnIuRXJyb3IoKSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBDdXN0b21lclJlc3VsdHtcbiAgICAgICAgU3VjY2VzczogICAgdHJ1ZSxcbiAgICAgICAgQ3VzdG9tZXJJRDogYy5JRCxcbiAgICB9XG59XG5cbmZ1bmMgKHMgKlN0cmlwZVBheW1lbnRzKSBDcmVhdGVTdWJzY3JpcHRpb24oY3VzdG9tZXJJRCwgcHJpY2VJRCBzdHJpbmcpIChtYXBbc3RyaW5nXWludGVyZmFjZXt9LCBlcnJvcikge1xuICAgIHBhcmFtcyA6PSAmc3RyaXBlLlN1YnNjcmlwdGlvblBhcmFtc3tcbiAgICAgICAgQ3VzdG9tZXI6IHN0cmlwZS5TdHJpbmcoY3VzdG9tZXJJRCksXG4gICAgICAgIEl0ZW1zOiBbXSpzdHJpcGUuU3Vic2NyaXB0aW9uSXRlbXNQYXJhbXN7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUHJpY2U6IHN0cmlwZS5TdHJpbmcocHJpY2VJRCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBQYXltZW50QmVoYXZpb3I6IHN0cmlwZS5TdHJpbmcoXCJkZWZhdWx0X2luY29tcGxldGVcIiksXG4gICAgICAgIFBheW1lbnRTZXR0aW5nczogJnN0cmlwZS5TdWJzY3JpcHRpb25QYXltZW50U2V0dGluZ3NQYXJhbXN7XG4gICAgICAgICAgICBTYXZlRGVmYXVsdFBheW1lbnRNZXRob2Q6IHN0cmlwZS5TdHJpbmcoXCJvbl9zdWJzY3JpcHRpb25cIiksXG4gICAgICAgIH0sXG4gICAgfVxuICAgIHBhcmFtcy5BZGRFeHBhbmQoXCJsYXRlc3RfaW52b2ljZS5wYXltZW50X2ludGVudFwiKVxuXG4gICAgc3ViLCBlcnIgOj0gc3ViLk5ldyhwYXJhbXMpXG4gICAgaWYgZXJyICE9IG5pbCB7XG4gICAgICAgIHJldHVybiBtYXBbc3RyaW5nXWludGVyZmFjZXt9e1xuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJlcnJvclwiOiAgIGVyci5FcnJvcigpLFxuICAgICAgICB9LCBlcnJcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwW3N0cmluZ11pbnRlcmZhY2V7fXtcbiAgICAgICAgXCJzdWNjZXNzXCI6ICAgICAgICAgdHJ1ZSxcbiAgICAgICAgXCJzdWJzY3JpcHRpb25faWRcIjogc3ViLklELFxuICAgICAgICBcImNsaWVudF9zZWNyZXRcIjogICBzdWIuTGF0ZXN0SW52b2ljZS5QYXltZW50SW50ZW50LkNsaWVudFNlY3JldCxcbiAgICB9LCBuaWxcbn1cblxuZnVuYyAocyAqU3RyaXBlUGF5bWVudHMpIEhhbmRsZVdlYmhvb2soYm9keSBbXWJ5dGUsIHNpZ25hdHVyZSwgd2ViaG9va1NlY3JldCBzdHJpbmcpIChtYXBbc3RyaW5nXWludGVyZmFjZXt9LCBlcnJvcikge1xuICAgIGV2ZW50LCBlcnIgOj0gd2ViaG9vay5Db25zdHJ1Y3RFdmVudChib2R5LCBzaWduYXR1cmUsIHdlYmhvb2tTZWNyZXQpXG4gICAgaWYgZXJyICE9IG5pbCB7XG4gICAgICAgIHJldHVybiBtYXBbc3RyaW5nXWludGVyZmFjZXt9e1xuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuICAgICAgICAgICAgXCJlcnJvclwiOiAgIFwiSW52YWxpZCBzaWduYXR1cmVcIixcbiAgICAgICAgfSwgZXJyXG4gICAgfVxuXG4gICAgc3dpdGNoIGV2ZW50LlR5cGUge1xuICAgIGNhc2UgXCJwYXltZW50X2ludGVudC5zdWNjZWVkZWRcIjpcbiAgICAgICAgdmFyIHBheW1lbnRJbnRlbnQgc3RyaXBlLlBheW1lbnRJbnRlbnRcbiAgICAgICAgaWYgZXJyIDo9IGpzb24uVW5tYXJzaGFsKGV2ZW50LkRhdGEuUmF3LCAmcGF5bWVudEludGVudCk7IGVyciAhPSBuaWwge1xuICAgICAgICAgICAgbG9nLlByaW50ZihcIkVycm9yIHBhcnNpbmcgd2ViaG9vayBKU09OOiAldlwiLCBlcnIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2cuUHJpbnRmKFwiUGF5bWVudCBzdWNjZWVkZWQ6ICVzXCIsIHBheW1lbnRJbnRlbnQuSUQpXG4gICAgICAgIH1cblxuICAgIGNhc2UgXCJwYXltZW50X2ludGVudC5wYXltZW50X2ZhaWxlZFwiOlxuICAgICAgICB2YXIgcGF5bWVudEludGVudCBzdHJpcGUuUGF5bWVudEludGVudFxuICAgICAgICBpZiBlcnIgOj0ganNvbi5Vbm1hcnNoYWwoZXZlbnQuRGF0YS5SYXcsICZwYXltZW50SW50ZW50KTsgZXJyICE9IG5pbCB7XG4gICAgICAgICAgICBsb2cuUHJpbnRmKFwiRXJyb3IgcGFyc2luZyB3ZWJob29rIEpTT046ICV2XCIsIGVycilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZy5QcmludGYoXCJQYXltZW50IGZhaWxlZDogJXNcIiwgcGF5bWVudEludGVudC5JRClcbiAgICAgICAgfVxuXG4gICAgY2FzZSBcImN1c3RvbWVyLnN1YnNjcmlwdGlvbi5jcmVhdGVkXCI6XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gc3RyaXBlLlN1YnNjcmlwdGlvblxuICAgICAgICBpZiBlcnIgOj0ganNvbi5Vbm1hcnNoYWwoZXZlbnQuRGF0YS5SYXcsICZzdWJzY3JpcHRpb24pOyBlcnIgIT0gbmlsIHtcbiAgICAgICAgICAgIGxvZy5QcmludGYoXCJFcnJvciBwYXJzaW5nIHdlYmhvb2sgSlNPTjogJXZcIiwgZXJyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nLlByaW50ZihcIlN1YnNjcmlwdGlvbiBjcmVhdGVkOiAlc1wiLCBzdWJzY3JpcHRpb24uSUQpXG4gICAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICAgIGxvZy5QcmludGYoXCJVbmhhbmRsZWQgZXZlbnQgdHlwZTogJXNcIiwgZXZlbnQuVHlwZSlcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwW3N0cmluZ11pbnRlcmZhY2V7fXtcInN1Y2Nlc3NcIjogdHJ1ZX0sIG5pbFxufVxuXG4vLyBIVFRQIGhhbmRsZXJzXG5mdW5jIGNyZWF0ZVBheW1lbnRJbnRlbnRIYW5kbGVyKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7XG4gICAgc3RyaXBlIDo9IE5ld1N0cmlwZVBheW1lbnRzKFwic2tfdGVzdF95b3VyX2tleVwiKVxuXG4gICAgdmFyIHJlcSBzdHJ1Y3Qge1xuICAgICAgICBBbW91bnQgICBpbnQ2NCAgXFxganNvbjpcImFtb3VudFwiXFxgXG4gICAgICAgIEN1cnJlbmN5IHN0cmluZyBcXGBqc29uOlwiY3VycmVuY3lcIlxcYFxuICAgIH1cblxuICAgIGlmIGVyciA6PSBqc29uLk5ld0RlY29kZXIoci5Cb2R5KS5EZWNvZGUoJnJlcSk7IGVyciAhPSBuaWwge1xuICAgICAgICBodHRwLkVycm9yKHcsIGVyci5FcnJvcigpLCBodHRwLlN0YXR1c0JhZFJlcXVlc3QpXG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHJlc3VsdCA6PSBzdHJpcGUuQ3JlYXRlUGF5bWVudEludGVudChyZXEuQW1vdW50LCByZXEuQ3VycmVuY3ksIG5pbClcbiAgICBcbiAgICB3LkhlYWRlcigpLlNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIilcbiAgICBqc29uLk5ld0VuY29kZXIodykuRW5jb2RlKHJlc3VsdClcbn1cblxuZnVuYyB3ZWJob29rSGFuZGxlcih3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkge1xuICAgIHN0cmlwZSA6PSBOZXdTdHJpcGVQYXltZW50cyhcInNrX3Rlc3RfeW91cl9rZXlcIilcbiAgICBcbiAgICBib2R5LCBlcnIgOj0gaW8uUmVhZEFsbChyLkJvZHkpXG4gICAgaWYgZXJyICE9IG5pbCB7XG4gICAgICAgIGh0dHAuRXJyb3IodywgZXJyLkVycm9yKCksIGh0dHAuU3RhdHVzQmFkUmVxdWVzdClcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2lnbmF0dXJlIDo9IHIuSGVhZGVyLkdldChcIlN0cmlwZS1TaWduYXR1cmVcIilcbiAgICB3ZWJob29rU2VjcmV0IDo9IFwid2hzZWNfeW91cl93ZWJob29rX3NlY3JldFwiXG5cbiAgICByZXN1bHQsIGVyciA6PSBzdHJpcGUuSGFuZGxlV2ViaG9vayhib2R5LCBzaWduYXR1cmUsIHdlYmhvb2tTZWNyZXQpXG4gICAgaWYgZXJyICE9IG5pbCB7XG4gICAgICAgIGh0dHAuRXJyb3IodywgZXJyLkVycm9yKCksIGh0dHAuU3RhdHVzQmFkUmVxdWVzdClcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdy5IZWFkZXIoKS5TZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gICAganNvbi5OZXdFbmNvZGVyKHcpLkVuY29kZShyZXN1bHQpXG59XG5cbmZ1bmMgbWFpbigpIHtcbiAgICAvLyBFeGFtcGxlIHVzYWdlXG4gICAgc3RyaXBlIDo9IE5ld1N0cmlwZVBheW1lbnRzKFwic2tfdGVzdF95b3VyX2tleVwiKVxuICAgIFxuICAgIHJlc3VsdCA6PSBzdHJpcGUuQ3JlYXRlUGF5bWVudEludGVudCgyOTk5LCBcInVzZFwiLCBuaWwpIC8vICQyOS45OVxuICAgIGlmIHJlc3VsdC5TdWNjZXNzIHtcbiAgICAgICAgZm10LlByaW50ZihcIlBheW1lbnQgSW50ZW50IGNyZWF0ZWQ6ICVzXFxcXG5cIiwgcmVzdWx0LlBheW1lbnRJbnRlbnRJRClcbiAgICB9IGVsc2Uge1xuICAgICAgICBmbXQuUHJpbnRmKFwiRXJyb3I6ICVzXFxcXG5cIiwgcmVzdWx0LkVycm9yKVxuICAgIH1cblxuICAgIC8vIEhUVFAgc2VydmVyIHNldHVwXG4gICAgaHR0cC5IYW5kbGVGdW5jKFwiL2NyZWF0ZS1wYXltZW50LWludGVudFwiLCBjcmVhdGVQYXltZW50SW50ZW50SGFuZGxlcilcbiAgICBodHRwLkhhbmRsZUZ1bmMoXCIvd2ViaG9va1wiLCB3ZWJob29rSGFuZGxlcilcbiAgICBcbiAgICBmbXQuUHJpbnRsbihcIlNlcnZlciBzdGFydGluZyBvbiA6ODA4MFwiKVxuICAgIGxvZy5GYXRhbChodHRwLkxpc3RlbkFuZFNlcnZlKFwiOjgwODBcIiwgbmlsKSlcbn1cblxuLy8gQWRkIHRvIGdvLm1vZDpcbi8vIG1vZHVsZSBzdHJpcGUtaW50ZWdyYXRpb25cbi8vIGdvIDEuMTlcbi8vIHJlcXVpcmUgZ2l0aHViLmNvbS9zdHJpcGUvc3RyaXBlLWdvL3Y3NCB2NzQuMzAuMGBcbiAgICAgIH0sXG4gICAgICBydXN0OiB7XG4gICAgICAgIHZhbmlsbGE6IGB1c2Ugc2VyZGU6OntEZXNlcmlhbGl6ZSwgU2VyaWFsaXplfTtcbnVzZSBzdGQ6OmNvbGxlY3Rpb25zOjpIYXNoTWFwO1xuXG4jW2Rlcml2ZShEZWJ1ZywgU2VyaWFsaXplLCBEZXNlcmlhbGl6ZSldXG5wdWIgc3RydWN0IFBheW1lbnRJbnRlbnRSZXF1ZXN0IHtcbiAgICBwdWIgYW1vdW50OiBpNjQsXG4gICAgcHViIGN1cnJlbmN5OiBTdHJpbmcsXG4gICAgcHViIGN1c3RvbWVyX2lkOiBPcHRpb248U3RyaW5nPixcbn1cblxuI1tkZXJpdmUoRGVidWcsIFNlcmlhbGl6ZSwgRGVzZXJpYWxpemUpXVxucHViIHN0cnVjdCBQYXltZW50SW50ZW50UmVzcG9uc2Uge1xuICAgIHB1YiBzdWNjZXNzOiBib29sLFxuICAgIHB1YiBjbGllbnRfc2VjcmV0OiBPcHRpb248U3RyaW5nPixcbiAgICBwdWIgcGF5bWVudF9pbnRlbnRfaWQ6IE9wdGlvbjxTdHJpbmc+LFxuICAgIHB1YiBlcnJvcjogT3B0aW9uPFN0cmluZz4sXG59XG5cbiNbZGVyaXZlKERlYnVnLCBTZXJpYWxpemUsIERlc2VyaWFsaXplKV1cbnB1YiBzdHJ1Y3QgQ3VzdG9tZXJSZXF1ZXN0IHtcbiAgICBwdWIgZW1haWw6IFN0cmluZyxcbiAgICBwdWIgbmFtZTogU3RyaW5nLFxufVxuXG4jW2Rlcml2ZShEZWJ1ZywgU2VyaWFsaXplLCBEZXNlcmlhbGl6ZSldXG5wdWIgc3RydWN0IEN1c3RvbWVyUmVzcG9uc2Uge1xuICAgIHB1YiBzdWNjZXNzOiBib29sLFxuICAgIHB1YiBjdXN0b21lcl9pZDogT3B0aW9uPFN0cmluZz4sXG4gICAgcHViIGVycm9yOiBPcHRpb248U3RyaW5nPixcbn1cblxucHViIHN0cnVjdCBTdHJpcGVQYXltZW50cyB7XG4gICAgc2VjcmV0X2tleTogU3RyaW5nLFxuICAgIGNsaWVudDogcmVxd2VzdDo6Q2xpZW50LFxufVxuXG5pbXBsIFN0cmlwZVBheW1lbnRzIHtcbiAgICBwdWIgZm4gbmV3KHNlY3JldF9rZXk6IFN0cmluZykgLT4gU2VsZiB7XG4gICAgICAgIFNlbGYge1xuICAgICAgICAgICAgc2VjcmV0X2tleSxcbiAgICAgICAgICAgIGNsaWVudDogcmVxd2VzdDo6Q2xpZW50OjpuZXcoKSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YiBhc3luYyBmbiBjcmVhdGVfcGF5bWVudF9pbnRlbnQoXG4gICAgICAgICZzZWxmLFxuICAgICAgICBhbW91bnQ6IGk2NCxcbiAgICAgICAgY3VycmVuY3k6ICZzdHIsXG4gICAgICAgIGN1c3RvbWVyX2lkOiBPcHRpb248JnN0cj4sXG4gICAgKSAtPiBSZXN1bHQ8UGF5bWVudEludGVudFJlc3BvbnNlLCBCb3g8ZHluIHN0ZDo6ZXJyb3I6OkVycm9yPj4ge1xuICAgICAgICBsZXQgbXV0IHBhcmFtcyA9IEhhc2hNYXA6Om5ldygpO1xuICAgICAgICBwYXJhbXMuaW5zZXJ0KFwiYW1vdW50XCIsIChhbW91bnQgKiAxMDApLnRvX3N0cmluZygpKTsgLy8gQ29udmVydCB0byBjZW50c1xuICAgICAgICBwYXJhbXMuaW5zZXJ0KFwiY3VycmVuY3lcIiwgY3VycmVuY3kudG9fc3RyaW5nKCkpO1xuICAgICAgICBwYXJhbXMuaW5zZXJ0KFwiYXV0b21hdGljX3BheW1lbnRfbWV0aG9kc1tlbmFibGVkXVwiLCBcInRydWVcIi50b19zdHJpbmcoKSk7XG5cbiAgICAgICAgaWYgbGV0IFNvbWUoaWQpID0gY3VzdG9tZXJfaWQge1xuICAgICAgICAgICAgcGFyYW1zLmluc2VydChcImN1c3RvbWVyXCIsIGlkLnRvX3N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNwb25zZSA9IHNlbGZcbiAgICAgICAgICAgIC5jbGllbnRcbiAgICAgICAgICAgIC5wb3N0KFwiaHR0cHM6Ly9hcGkuc3RyaXBlLmNvbS92MS9wYXltZW50X2ludGVudHNcIilcbiAgICAgICAgICAgIC5oZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIGZvcm1hdCEoXCJCZWFyZXIge31cIiwgc2VsZi5zZWNyZXRfa2V5KSlcbiAgICAgICAgICAgIC5mb3JtKCZwYXJhbXMpXG4gICAgICAgICAgICAuc2VuZCgpXG4gICAgICAgICAgICAuYXdhaXQ/O1xuXG4gICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1cygpLmlzX3N1Y2Nlc3MoKSB7XG4gICAgICAgICAgICBsZXQganNvbjogc2VyZGVfanNvbjo6VmFsdWUgPSByZXNwb25zZS5qc29uKCkuYXdhaXQ/O1xuICAgICAgICAgICAgT2soUGF5bWVudEludGVudFJlc3BvbnNlIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsaWVudF9zZWNyZXQ6IGpzb25bXCJjbGllbnRfc2VjcmV0XCJdLmFzX3N0cigpLm1hcChTdHJpbmc6OmZyb20pLFxuICAgICAgICAgICAgICAgIHBheW1lbnRfaW50ZW50X2lkOiBqc29uW1wiaWRcIl0uYXNfc3RyKCkubWFwKFN0cmluZzo6ZnJvbSksXG4gICAgICAgICAgICAgICAgZXJyb3I6IE5vbmUsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVycm9yX3RleHQgPSByZXNwb25zZS50ZXh0KCkuYXdhaXQ/O1xuICAgICAgICAgICAgT2soUGF5bWVudEludGVudFJlc3BvbnNlIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjbGllbnRfc2VjcmV0OiBOb25lLFxuICAgICAgICAgICAgICAgIHBheW1lbnRfaW50ZW50X2lkOiBOb25lLFxuICAgICAgICAgICAgICAgIGVycm9yOiBTb21lKGVycm9yX3RleHQpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YiBhc3luYyBmbiBjcmVhdGVfY3VzdG9tZXIoXG4gICAgICAgICZzZWxmLFxuICAgICAgICBlbWFpbDogJnN0cixcbiAgICAgICAgbmFtZTogJnN0cixcbiAgICApIC0+IFJlc3VsdDxDdXN0b21lclJlc3BvbnNlLCBCb3g8ZHluIHN0ZDo6ZXJyb3I6OkVycm9yPj4ge1xuICAgICAgICBsZXQgbXV0IHBhcmFtcyA9IEhhc2hNYXA6Om5ldygpO1xuICAgICAgICBwYXJhbXMuaW5zZXJ0KFwiZW1haWxcIiwgZW1haWwpO1xuICAgICAgICBwYXJhbXMuaW5zZXJ0KFwibmFtZVwiLCBuYW1lKTtcblxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBzZWxmXG4gICAgICAgICAgICAuY2xpZW50XG4gICAgICAgICAgICAucG9zdChcImh0dHBzOi8vYXBpLnN0cmlwZS5jb20vdjEvY3VzdG9tZXJzXCIpXG4gICAgICAgICAgICAuaGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBmb3JtYXQhKFwiQmVhcmVyIHt9XCIsIHNlbGYuc2VjcmV0X2tleSkpXG4gICAgICAgICAgICAuZm9ybSgmcGFyYW1zKVxuICAgICAgICAgICAgLnNlbmQoKVxuICAgICAgICAgICAgLmF3YWl0PztcblxuICAgICAgICBpZiByZXNwb25zZS5zdGF0dXMoKS5pc19zdWNjZXNzKCkge1xuICAgICAgICAgICAgbGV0IGpzb246IHNlcmRlX2pzb246OlZhbHVlID0gcmVzcG9uc2UuanNvbigpLmF3YWl0PztcbiAgICAgICAgICAgIE9rKEN1c3RvbWVyUmVzcG9uc2Uge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgY3VzdG9tZXJfaWQ6IGpzb25bXCJpZFwiXS5hc19zdHIoKS5tYXAoU3RyaW5nOjpmcm9tKSxcbiAgICAgICAgICAgICAgICBlcnJvcjogTm9uZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZXJyb3JfdGV4dCA9IHJlc3BvbnNlLnRleHQoKS5hd2FpdD87XG4gICAgICAgICAgICBPayhDdXN0b21lclJlc3BvbnNlIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjdXN0b21lcl9pZDogTm9uZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogU29tZShlcnJvcl90ZXh0KSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWIgYXN5bmMgZm4gY3JlYXRlX3N1YnNjcmlwdGlvbihcbiAgICAgICAgJnNlbGYsXG4gICAgICAgIGN1c3RvbWVyX2lkOiAmc3RyLFxuICAgICAgICBwcmljZV9pZDogJnN0cixcbiAgICApIC0+IFJlc3VsdDxzZXJkZV9qc29uOjpWYWx1ZSwgQm94PGR5biBzdGQ6OmVycm9yOjpFcnJvcj4+IHtcbiAgICAgICAgbGV0IG11dCBwYXJhbXMgPSBIYXNoTWFwOjpuZXcoKTtcbiAgICAgICAgcGFyYW1zLmluc2VydChcImN1c3RvbWVyXCIsIGN1c3RvbWVyX2lkKTtcbiAgICAgICAgcGFyYW1zLmluc2VydChcIml0ZW1zWzBdW3ByaWNlXVwiLCBwcmljZV9pZCk7XG4gICAgICAgIHBhcmFtcy5pbnNlcnQoXCJwYXltZW50X2JlaGF2aW9yXCIsIFwiZGVmYXVsdF9pbmNvbXBsZXRlXCIpO1xuICAgICAgICBwYXJhbXMuaW5zZXJ0KFwicGF5bWVudF9zZXR0aW5nc1tzYXZlX2RlZmF1bHRfcGF5bWVudF9tZXRob2RdXCIsIFwib25fc3Vic2NyaXB0aW9uXCIpO1xuICAgICAgICBwYXJhbXMuaW5zZXJ0KFwiZXhwYW5kW11cIiwgXCJsYXRlc3RfaW52b2ljZS5wYXltZW50X2ludGVudFwiKTtcblxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBzZWxmXG4gICAgICAgICAgICAuY2xpZW50XG4gICAgICAgICAgICAucG9zdChcImh0dHBzOi8vYXBpLnN0cmlwZS5jb20vdjEvc3Vic2NyaXB0aW9uc1wiKVxuICAgICAgICAgICAgLmhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgZm9ybWF0IShcIkJlYXJlciB7fVwiLCBzZWxmLnNlY3JldF9rZXkpKVxuICAgICAgICAgICAgLmZvcm0oJnBhcmFtcylcbiAgICAgICAgICAgIC5zZW5kKClcbiAgICAgICAgICAgIC5hd2FpdD87XG5cbiAgICAgICAgbGV0IGpzb246IHNlcmRlX2pzb246OlZhbHVlID0gcmVzcG9uc2UuanNvbigpLmF3YWl0PztcbiAgICAgICAgT2soanNvbilcbiAgICB9XG5cbiAgICBwdWIgZm4gdmVyaWZ5X3dlYmhvb2tfc2lnbmF0dXJlKFxuICAgICAgICAmc2VsZixcbiAgICAgICAgcGF5bG9hZDogJnN0cixcbiAgICAgICAgc2lnbmF0dXJlOiAmc3RyLFxuICAgICAgICB3ZWJob29rX3NlY3JldDogJnN0cixcbiAgICApIC0+IFJlc3VsdDxzZXJkZV9qc29uOjpWYWx1ZSwgQm94PGR5biBzdGQ6OmVycm9yOjpFcnJvcj4+IHtcbiAgICAgICAgLy8gTm90ZTogSW4gcHJvZHVjdGlvbiwgdXNlIHRoZSBvZmZpY2lhbCBTdHJpcGUgY3JhdGUgZm9yIHdlYmhvb2sgdmVyaWZpY2F0aW9uXG4gICAgICAgIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIGV4YW1wbGVcbiAgICAgICAgbGV0IGV2ZW50OiBzZXJkZV9qc29uOjpWYWx1ZSA9IHNlcmRlX2pzb246OmZyb21fc3RyKHBheWxvYWQpPztcbiAgICAgICAgXG4gICAgICAgIG1hdGNoIGV2ZW50W1widHlwZVwiXS5hc19zdHIoKSB7XG4gICAgICAgICAgICBTb21lKFwicGF5bWVudF9pbnRlbnQuc3VjY2VlZGVkXCIpID0+IHtcbiAgICAgICAgICAgICAgICBwcmludGxuIShcIlBheW1lbnQgc3VjY2VlZGVkOiB7Oj99XCIsIGV2ZW50W1wiZGF0YVwiXVtcIm9iamVjdFwiXVtcImlkXCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFNvbWUoXCJwYXltZW50X2ludGVudC5wYXltZW50X2ZhaWxlZFwiKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJpbnRsbiEoXCJQYXltZW50IGZhaWxlZDogezo/fVwiLCBldmVudFtcImRhdGFcIl1bXCJvYmplY3RcIl1bXCJpZFwiXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTb21lKFwiY3VzdG9tZXIuc3Vic2NyaXB0aW9uLmNyZWF0ZWRcIikgPT4ge1xuICAgICAgICAgICAgICAgIHByaW50bG4hKFwiU3Vic2NyaXB0aW9uIGNyZWF0ZWQ6IHs6P31cIiwgZXZlbnRbXCJkYXRhXCJdW1wib2JqZWN0XCJdW1wiaWRcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU29tZShcImludm9pY2UucGF5bWVudF9zdWNjZWVkZWRcIikgPT4ge1xuICAgICAgICAgICAgICAgIHByaW50bG4hKFwiSW52b2ljZSBwYWlkOiB7Oj99XCIsIGV2ZW50W1wiZGF0YVwiXVtcIm9iamVjdFwiXVtcImlkXCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8gPT4ge1xuICAgICAgICAgICAgICAgIHByaW50bG4hKFwiVW5oYW5kbGVkIGV2ZW50IHR5cGU6IHs6P31cIiwgZXZlbnRbXCJ0eXBlXCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIE9rKGV2ZW50KVxuICAgIH1cbn1cblxuI1t0b2tpbzo6bWFpbl1cbmFzeW5jIGZuIG1haW4oKSAtPiBSZXN1bHQ8KCksIEJveDxkeW4gc3RkOjplcnJvcjo6RXJyb3I+PiB7XG4gICAgbGV0IHN0cmlwZSA9IFN0cmlwZVBheW1lbnRzOjpuZXcoXCJza190ZXN0X3lvdXJfa2V5XCIudG9fc3RyaW5nKCkpO1xuXG4gICAgLy8gQ3JlYXRlIGEgcGF5bWVudCBpbnRlbnRcbiAgICBsZXQgcmVzdWx0ID0gc3RyaXBlXG4gICAgICAgIC5jcmVhdGVfcGF5bWVudF9pbnRlbnQoMjk5OSwgXCJ1c2RcIiwgTm9uZSkgLy8gJDI5Ljk5XG4gICAgICAgIC5hd2FpdD87XG5cbiAgICBpZiByZXN1bHQuc3VjY2VzcyB7XG4gICAgICAgIHByaW50bG4hKFwiUGF5bWVudCBJbnRlbnQgY3JlYXRlZDogezo/fVwiLCByZXN1bHQucGF5bWVudF9pbnRlbnRfaWQpO1xuICAgICAgICBwcmludGxuIShcIkNsaWVudCBTZWNyZXQ6IHs6P31cIiwgcmVzdWx0LmNsaWVudF9zZWNyZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByaW50bG4hKFwiRXJyb3I6IHs6P31cIiwgcmVzdWx0LmVycm9yKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBjdXN0b21lclxuICAgIGxldCBjdXN0b21lcl9yZXN1bHQgPSBzdHJpcGVcbiAgICAgICAgLmNyZWF0ZV9jdXN0b21lcihcImN1c3RvbWVyQGV4YW1wbGUuY29tXCIsIFwiSm9obiBEb2VcIilcbiAgICAgICAgLmF3YWl0PztcblxuICAgIGlmIGN1c3RvbWVyX3Jlc3VsdC5zdWNjZXNzIHtcbiAgICAgICAgcHJpbnRsbiEoXCJDdXN0b21lciBjcmVhdGVkOiB7Oj99XCIsIGN1c3RvbWVyX3Jlc3VsdC5jdXN0b21lcl9pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJpbnRsbiEoXCJDdXN0b21lciBjcmVhdGlvbiBlcnJvcjogezo/fVwiLCBjdXN0b21lcl9yZXN1bHQuZXJyb3IpO1xuICAgIH1cblxuICAgIE9rKCgpKVxufVxuXG4vLyBBZGQgdG8gQ2FyZ28udG9tbDpcbi8vIFtkZXBlbmRlbmNpZXNdXG4vLyByZXF3ZXN0ID0geyB2ZXJzaW9uID0gXCIwLjExXCIsIGZlYXR1cmVzID0gW1wianNvblwiXSB9XG4vLyBzZXJkZSA9IHsgdmVyc2lvbiA9IFwiMS4wXCIsIGZlYXR1cmVzID0gW1wiZGVyaXZlXCJdIH1cbi8vIHNlcmRlX2pzb24gPSBcIjEuMFwiXG4vLyB0b2tpbyA9IHsgdmVyc2lvbiA9IFwiMVwiLCBmZWF0dXJlcyA9IFtcImZ1bGxcIl0gfWBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gUGF5UGFsIEFQSVxuICB7XG4gICAgaWQ6ICdwYXlwYWwnLFxuICAgIHNsdWc6ICdwYXlwYWwnLFxuICAgIG5hbWU6ICdQYXlQYWwnLFxuICAgIGNhdGVnb3J5OiAnUGF5bWVudCBQcm9jZXNzaW5nJyxcbiAgICBkZXNjcmlwdGlvbjogJ0ludGVncmF0ZSBQYXlQYWwgcGF5bWVudHMsIHN1YnNjcmlwdGlvbnMsIGFuZCBtYXJrZXRwbGFjZSBmdW5jdGlvbmFsaXR5IHdpdGggY29tcHJlaGVuc2l2ZSBBUElzLicsXG4gICAgaWNvbjogJ/Cfhb/vuI8nLFxuICAgIGZlYXR1cmVzOiBbXG4gICAgICAnUGF5UGFsIENoZWNrb3V0JyxcbiAgICAgICdFeHByZXNzIENoZWNrb3V0JyxcbiAgICAgICdTdWJzY3JpcHRpb24gQmlsbGluZycsXG4gICAgICAnTWFya2V0cGxhY2UgUGF5bWVudHMnLFxuICAgICAgJ0Rpc3B1dGUgTWFuYWdlbWVudCcsXG4gICAgICAnVHJhbnNhY3Rpb24gU2VhcmNoJ1xuICAgIF0sXG4gICAgcG9wdWxhcml0eTogOTIsXG4gICAgZG9jdW1lbnRhdGlvbjogJ2h0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vZG9jcy8nLFxuICAgIGNvZGVUZW1wbGF0ZXM6IHtcbiAgICAgIGphdmFzY3JpcHQ6IHtcbiAgICAgICAgdmFuaWxsYTogYC8vIFBheVBhbCBQYXltZW50IEludGVncmF0aW9uXG5jb25zdCBwYXlwYWwgPSByZXF1aXJlKCdAcGF5cGFsL2NoZWNrb3V0LXNlcnZlci1zZGsnKTtcblxuY2xhc3MgUGF5UGFsUGF5bWVudHMge1xuICBjb25zdHJ1Y3RvcihjbGllbnRJZCwgY2xpZW50U2VjcmV0LCBlbnZpcm9ubWVudCA9ICdzYW5kYm94Jykge1xuICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICB0aGlzLmNsaWVudFNlY3JldCA9IGNsaWVudFNlY3JldDtcbiAgICBcbiAgICAvLyBTZXQgdXAgUGF5UGFsIGVudmlyb25tZW50XG4gICAgY29uc3QgRW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudCA9PT0gJ3NhbmRib3gnIFxuICAgICAgPyBwYXlwYWwuY29yZS5TYW5kYm94RW52aXJvbm1lbnQgXG4gICAgICA6IHBheXBhbC5jb3JlLkxpdmVFbnZpcm9ubWVudDtcbiAgICBcbiAgICB0aGlzLnBheXBhbENsaWVudCA9IG5ldyBwYXlwYWwuY29yZS5QYXlQYWxIdHRwQ2xpZW50KFxuICAgICAgbmV3IEVudmlyb25tZW50KGNsaWVudElkLCBjbGllbnRTZWNyZXQpXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZU9yZGVyKGFtb3VudCwgY3VycmVuY3kgPSAnVVNEJykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHBheXBhbC5vcmRlcnMuT3JkZXJzQ3JlYXRlUmVxdWVzdCgpO1xuICAgICAgcmVxdWVzdC5wcmVmZXIoJ3JldHVybj1yZXByZXNlbnRhdGlvbicpO1xuICAgICAgcmVxdWVzdC5yZXF1ZXN0Qm9keSh7XG4gICAgICAgIGludGVudDogJ0NBUFRVUkUnLFxuICAgICAgICBwdXJjaGFzZV91bml0czogW3tcbiAgICAgICAgICBhbW91bnQ6IHtcbiAgICAgICAgICAgIGN1cnJlbmN5X2NvZGU6IGN1cnJlbmN5LFxuICAgICAgICAgICAgdmFsdWU6IGFtb3VudC50b0ZpeGVkKDIpXG4gICAgICAgICAgfVxuICAgICAgICB9XVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgdGhpcy5wYXlwYWxDbGllbnQuZXhlY3V0ZShyZXF1ZXN0KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgb3JkZXJJZDogb3JkZXIucmVzdWx0LmlkLFxuICAgICAgICBhcHByb3ZhbFVybDogb3JkZXIucmVzdWx0LmxpbmtzLmZpbmQobGluayA9PiBsaW5rLnJlbCA9PT0gJ2FwcHJvdmUnKS5ocmVmXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQYXlQYWwgT3JkZXIgQ3JlYXRpb24gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNhcHR1cmVPcmRlcihvcmRlcklkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgcGF5cGFsLm9yZGVycy5PcmRlcnNDYXB0dXJlUmVxdWVzdChvcmRlcklkKTtcbiAgICAgIHJlcXVlc3QucmVxdWVzdEJvZHkoe30pO1xuXG4gICAgICBjb25zdCBjYXB0dXJlID0gYXdhaXQgdGhpcy5wYXlwYWxDbGllbnQuZXhlY3V0ZShyZXF1ZXN0KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZUlkOiBjYXB0dXJlLnJlc3VsdC5wdXJjaGFzZV91bml0c1swXS5wYXltZW50cy5jYXB0dXJlc1swXS5pZCxcbiAgICAgICAgc3RhdHVzOiBjYXB0dXJlLnJlc3VsdC5zdGF0dXNcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BheVBhbCBDYXB0dXJlIEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVTdWJzY3JpcHRpb24ocGxhbklkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgcGF5cGFsLnN1YnNjcmlwdGlvbnMuU3Vic2NyaXB0aW9uc0NyZWF0ZVJlcXVlc3QoKTtcbiAgICAgIHJlcXVlc3QucmVxdWVzdEJvZHkoe1xuICAgICAgICBwbGFuX2lkOiBwbGFuSWQsXG4gICAgICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLCAvLyBTdGFydCB0b21vcnJvd1xuICAgICAgICBzdWJzY3JpYmVyOiB7XG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgZ2l2ZW5fbmFtZTogJ0pvaG4nLFxuICAgICAgICAgICAgc3VybmFtZTogJ0RvZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVtYWlsX2FkZHJlc3M6ICdjdXN0b21lckBleGFtcGxlLmNvbSdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IHRoaXMucGF5cGFsQ2xpZW50LmV4ZWN1dGUocmVxdWVzdCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHN1YnNjcmlwdGlvbklkOiBzdWJzY3JpcHRpb24ucmVzdWx0LmlkLFxuICAgICAgICBhcHByb3ZhbFVybDogc3Vic2NyaXB0aW9uLnJlc3VsdC5saW5rcy5maW5kKGxpbmsgPT4gbGluay5yZWwgPT09ICdhcHByb3ZlJykuaHJlZlxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUGF5UGFsIFN1YnNjcmlwdGlvbiBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdmVyaWZ5V2ViaG9vayhoZWFkZXJzLCBib2R5LCB3ZWJob29rSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBwYXlwYWwubm90aWZpY2F0aW9ucy5WZXJpZnlXZWJob29rU2lnbmF0dXJlUmVxdWVzdCgpO1xuICAgICAgcmVxdWVzdC5yZXF1ZXN0Qm9keSh7XG4gICAgICAgIHRyYW5zbWlzc2lvbl9pZDogaGVhZGVyc1sncGF5cGFsLXRyYW5zbWlzc2lvbi1pZCddLFxuICAgICAgICBjZXJ0X2lkOiBoZWFkZXJzWydwYXlwYWwtY2VydC1pZCddLFxuICAgICAgICBhdXRoX2FsZ286IGhlYWRlcnNbJ3BheXBhbC1hdXRoLWFsZ28nXSxcbiAgICAgICAgdHJhbnNtaXNzaW9uX3NpZzogaGVhZGVyc1sncGF5cGFsLXRyYW5zbWlzc2lvbi1zaWcnXSxcbiAgICAgICAgdHJhbnNtaXNzaW9uX3RpbWU6IGhlYWRlcnNbJ3BheXBhbC10cmFuc21pc3Npb24tdGltZSddLFxuICAgICAgICB3ZWJob29rX2lkOiB3ZWJob29rSWQsXG4gICAgICAgIHdlYmhvb2tfZXZlbnQ6IEpTT04ucGFyc2UoYm9keSlcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucGF5cGFsQ2xpZW50LmV4ZWN1dGUocmVxdWVzdCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHZlcmlmaWVkOiByZXNwb25zZS5yZXN1bHQudmVyaWZpY2F0aW9uX3N0YXR1cyA9PT0gJ1NVQ0NFU1MnXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbi8vIFVzYWdlIGV4YW1wbGVcbmNvbnN0IHBheW1lbnRzID0gbmV3IFBheVBhbFBheW1lbnRzKFxuICAneW91cl9jbGllbnRfaWQnLFxuICAneW91cl9jbGllbnRfc2VjcmV0JyxcbiAgJ3NhbmRib3gnXG4pO1xuXG5wYXltZW50cy5jcmVhdGVPcmRlcigyOS45OSwgJ1VTRCcpLnRoZW4oY29uc29sZS5sb2cpO2AsXG4gICAgICAgIHJlYWN0OiBgLy8gUGF5UGFsIFJlYWN0IEludGVncmF0aW9uXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQYXlQYWxTY3JpcHRQcm92aWRlciwgUGF5UGFsQnV0dG9ucyB9IGZyb20gJ0BwYXlwYWwvcmVhY3QtcGF5cGFsLWpzJztcblxuY29uc3QgUGF5UGFsQ2hlY2tvdXQgPSAoeyBhbW91bnQgPSAyOS45OSwgY3VycmVuY3kgPSAnVVNEJywgb25TdWNjZXNzLCBvbkVycm9yIH0pID0+IHtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGNvbnN0IGNyZWF0ZU9yZGVyID0gKGRhdGEsIGFjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gYWN0aW9ucy5vcmRlci5jcmVhdGUoe1xuICAgICAgcHVyY2hhc2VfdW5pdHM6IFt7XG4gICAgICAgIGFtb3VudDoge1xuICAgICAgICAgIHZhbHVlOiBhbW91bnQudG9GaXhlZCgyKSxcbiAgICAgICAgICBjdXJyZW5jeV9jb2RlOiBjdXJyZW5jeVxuICAgICAgICB9LFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgUHJvZHVjdCBEZXNjcmlwdGlvbidcbiAgICAgIH1dXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgb25BcHByb3ZlID0gYXN5bmMgKGRhdGEsIGFjdGlvbnMpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvcmRlciA9IGF3YWl0IGFjdGlvbnMub3JkZXIuY2FwdHVyZSgpO1xuICAgICAgY29uc29sZS5sb2coJ09yZGVyIGNhcHR1cmVkOicsIG9yZGVyKTtcbiAgICAgIFxuICAgICAgaWYgKG9uU3VjY2Vzcykge1xuICAgICAgICBvblN1Y2Nlc3Mob3JkZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQYXlQYWwgY2FwdHVyZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcignUGF5bWVudCBjYXB0dXJlIGZhaWxlZCcpO1xuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBvbkVycm9ySGFuZGxlciA9IChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1BheVBhbCBlcnJvcjonLCBlcnJvcik7XG4gICAgc2V0RXJyb3IoJ1BheW1lbnQgZmFpbGVkJyk7XG4gICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBvbkNhbmNlbCA9IChkYXRhKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1BheW1lbnQgY2FuY2VsbGVkOicsIGRhdGEpO1xuICAgIHNldEVycm9yKCdQYXltZW50IHdhcyBjYW5jZWxsZWQnKTtcbiAgfTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvclwiPlxuICAgICAgICA8cD5QYXltZW50IEVycm9yOiB7ZXJyb3J9PC9wPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEVycm9yKG51bGwpfT5UcnkgQWdhaW48L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGF5cGFsLWNoZWNrb3V0XCI+XG4gICAgICA8UGF5UGFsQnV0dG9uc1xuICAgICAgICBjcmVhdGVPcmRlcj17Y3JlYXRlT3JkZXJ9XG4gICAgICAgIG9uQXBwcm92ZT17b25BcHByb3ZlfVxuICAgICAgICBvbkVycm9yPXtvbkVycm9ySGFuZGxlcn1cbiAgICAgICAgb25DYW5jZWw9e29uQ2FuY2VsfVxuICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBsYXlvdXQ6ICd2ZXJ0aWNhbCcsXG4gICAgICAgICAgY29sb3I6ICdibHVlJyxcbiAgICAgICAgICBzaGFwZTogJ3JlY3QnLFxuICAgICAgICAgIGxhYmVsOiAncGF5cGFsJ1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIHtsb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZ1wiPlByb2Nlc3NpbmcgcGF5bWVudC4uLjwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IFBheVBhbFByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBpbml0aWFsT3B0aW9ucyA9IHtcbiAgICAnY2xpZW50LWlkJzogJ3lvdXJfcGF5cGFsX2NsaWVudF9pZCcsXG4gICAgY3VycmVuY3k6ICdVU0QnLFxuICAgIGludGVudDogJ2NhcHR1cmUnLFxuICAgICdlbmFibGUtZnVuZGluZyc6ICd2ZW5tbyxwYXlsYXRlcicsXG4gICAgJ2Rpc2FibGUtZnVuZGluZyc6ICdjYXJkJ1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFBheVBhbFNjcmlwdFByb3ZpZGVyIG9wdGlvbnM9e2luaXRpYWxPcHRpb25zfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1BheVBhbFNjcmlwdFByb3ZpZGVyPlxuICApO1xufTtcblxuLy8gVXNhZ2UgRXhhbXBsZVxuZXhwb3J0IGNvbnN0IFBheVBhbEV4YW1wbGUgPSAoKSA9PiB7XG4gIGNvbnN0IGhhbmRsZVN1Y2Nlc3MgPSAob3JkZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUGF5bWVudCBzdWNjZXNzZnVsOicsIG9yZGVyKTtcbiAgICAvLyBIYW5kbGUgc3VjY2Vzc2Z1bCBwYXltZW50XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdQYXltZW50IGVycm9yOicsIGVycm9yKTtcbiAgICAvLyBIYW5kbGUgcGF5bWVudCBlcnJvclxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFBheVBhbFByb3ZpZGVyPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGVja291dC1jb250YWluZXJcIj5cbiAgICAgICAgPGgyPkNvbXBsZXRlIFlvdXIgUHVyY2hhc2U8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFtb3VudFwiPlRvdGFsOiAkMjkuOTk8L2Rpdj5cbiAgICAgICAgPFBheVBhbENoZWNrb3V0XG4gICAgICAgICAgYW1vdW50PXsyOS45OX1cbiAgICAgICAgICBjdXJyZW5jeT1cIlVTRFwiXG4gICAgICAgICAgb25TdWNjZXNzPXtoYW5kbGVTdWNjZXNzfVxuICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZUVycm9yfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9QYXlQYWxQcm92aWRlcj5cbiAgKTtcbn07YFxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBBVVRIRU5USUNBVElPTiBBUElTXG4gIHtcbiAgICBpZDogJ2F1dGgwJyxcbiAgICBzbHVnOiAnYXV0aDAnLFxuICAgIG5hbWU6ICdBdXRoMCcsXG4gICAgY2F0ZWdvcnk6ICdBdXRoZW50aWNhdGlvbicsXG4gICAgZGVzY3JpcHRpb246ICdVbml2ZXJzYWwgYXV0aGVudGljYXRpb24gYW5kIGF1dGhvcml6YXRpb24gcGxhdGZvcm0gd2l0aCBzb2NpYWwgbG9naW5zLCBTU08sIGFuZCBNRkEuJyxcbiAgICBpY29uOiAn8J+UkCcsXG4gICAgZmVhdHVyZXM6IFtcbiAgICAgICdVbml2ZXJzYWwgTG9naW4nLFxuICAgICAgJ1NvY2lhbCBDb25uZWN0aW9ucycsXG4gICAgICAnTXVsdGktZmFjdG9yIEF1dGhlbnRpY2F0aW9uJyxcbiAgICAgICdTaW5nbGUgU2lnbi1PbiAoU1NPKScsXG4gICAgICAnVXNlciBNYW5hZ2VtZW50JyxcbiAgICAgICdSdWxlcyAmIEhvb2tzJ1xuICAgIF0sXG4gICAgcG9wdWxhcml0eTogOTUsXG4gICAgZG9jdW1lbnRhdGlvbjogJ2h0dHBzOi8vYXV0aDAuY29tL2RvY3MnLFxuICAgIGNvZGVUZW1wbGF0ZXM6IHtcbiAgICAgIGphdmFzY3JpcHQ6IHtcbiAgICAgICAgdmFuaWxsYTogYC8vIEF1dGgwIEphdmFTY3JpcHQgSW50ZWdyYXRpb25cbmltcG9ydCB7IEF1dGgwQ2xpZW50IH0gZnJvbSAnQGF1dGgwL2F1dGgwLWpzJztcblxuY2xhc3MgQXV0aDBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoZG9tYWluLCBjbGllbnRJZCkge1xuICAgIHRoaXMuYXV0aDAgPSBuZXcgQXV0aDBDbGllbnQoe1xuICAgICAgZG9tYWluOiBkb21haW4sXG4gICAgICBjbGllbnRJZDogY2xpZW50SWQsXG4gICAgICByZWRpcmVjdFVyaTogd2luZG93LmxvY2F0aW9uLm9yaWdpbixcbiAgICAgIHJlc3BvbnNlVHlwZTogJ3Rva2VuIGlkX3Rva2VuJyxcbiAgICAgIHNjb3BlOiAnb3BlbmlkIHByb2ZpbGUgZW1haWwnXG4gICAgfSk7XG4gICAgXG4gICAgdGhpcy5oYW5kbGVBdXRoZW50aWNhdGlvbigpO1xuICB9XG5cbiAgLy8gTG9naW4gd2l0aCByZWRpcmVjdFxuICBsb2dpbigpIHtcbiAgICB0aGlzLmF1dGgwLmF1dGhvcml6ZSgpO1xuICB9XG5cbiAgLy8gTG9naW4gd2l0aCBwb3B1cFxuICBhc3luYyBsb2dpbldpdGhQb3B1cCgpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5hdXRoMC5wb3B1cC5hdXRob3JpemUoe1xuICAgICAgICByZXNwb25zZVR5cGU6ICd0b2tlbiBpZF90b2tlbidcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gdGhpcy5nZXRQcm9maWxlKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZSBhdXRoZW50aWNhdGlvbiBjYWxsYmFja1xuICBoYW5kbGVBdXRoZW50aWNhdGlvbigpIHtcbiAgICB0aGlzLmF1dGgwLnBhcnNlSGFzaCgoZXJyLCBhdXRoUmVzdWx0KSA9PiB7XG4gICAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc1Rva2VuICYmIGF1dGhSZXN1bHQuaWRUb2tlbikge1xuICAgICAgICB0aGlzLnNldFNlc3Npb24oYXV0aFJlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBlcnJvcjonLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gU2V0IHNlc3Npb25cbiAgc2V0U2Vzc2lvbihhdXRoUmVzdWx0KSB7XG4gICAgY29uc3QgZXhwaXJlc0F0ID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgICBhdXRoUmVzdWx0LmV4cGlyZXNJbiAqIDEwMDAgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICk7XG4gICAgXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2tlbicsIGF1dGhSZXN1bHQuYWNjZXNzVG9rZW4pO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZF90b2tlbicsIGF1dGhSZXN1bHQuaWRUb2tlbik7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V4cGlyZXNfYXQnLCBleHBpcmVzQXQpO1xuICAgIFxuICAgIC8vIFRyaWdnZXIgYXV0aGVudGljYXRpb24gc3RhdGUgY2hhbmdlXG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhdXRoU3RhdGVDaGFuZ2VkJywge1xuICAgICAgZGV0YWlsOiB7IGF1dGhlbnRpY2F0ZWQ6IHRydWUgfVxuICAgIH0pKTtcbiAgfVxuXG4gIC8vIExvZ291dFxuICBsb2dvdXQoKSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpZF90b2tlbicpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdleHBpcmVzX2F0Jyk7XG4gICAgXG4gICAgdGhpcy5hdXRoMC5sb2dvdXQoe1xuICAgICAgcmV0dXJuVG86IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cbiAgICB9KTtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgY29uc3QgZXhwaXJlc0F0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZXhwaXJlc19hdCcpIHx8ICcwJyk7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIDwgZXhwaXJlc0F0O1xuICB9XG5cbiAgLy8gR2V0IHVzZXIgcHJvZmlsZVxuICBnZXRQcm9maWxlKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTtcbiAgICAgIFxuICAgICAgaWYgKCFhY2Nlc3NUb2tlbikge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyBhY2Nlc3MgdG9rZW4gZm91bmQnKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy5hdXRoMC5jbGllbnQudXNlckluZm8oYWNjZXNzVG9rZW4sIChlcnIsIHByb2ZpbGUpID0+IHtcbiAgICAgICAgaWYgKHByb2ZpbGUpIHtcbiAgICAgICAgICByZXNvbHZlKHByb2ZpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFJlbmV3IHNlc3Npb25cbiAgcmVuZXdTZXNzaW9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmF1dGgwLmNoZWNrU2Vzc2lvbih7fSwgKGVyciwgYXV0aFJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc1Rva2VuICYmIGF1dGhSZXN1bHQuaWRUb2tlbikge1xuICAgICAgICAgIHRoaXMuc2V0U2Vzc2lvbihhdXRoUmVzdWx0KTtcbiAgICAgICAgICByZXNvbHZlKGF1dGhSZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEdldCBhY2Nlc3MgdG9rZW5cbiAgZ2V0QWNjZXNzVG9rZW4oKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTtcbiAgfVxufVxuXG4vLyBVc2FnZVxuY29uc3QgYXV0aCA9IG5ldyBBdXRoMFNlcnZpY2UoXG4gICd5b3VyLWRvbWFpbi5hdXRoMC5jb20nLFxuICAneW91ci1jbGllbnQtaWQnXG4pO1xuXG4vLyBMb2dpbiBidXR0b24gaGFuZGxlclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGF1dGgubG9naW4oKTtcbn0pO1xuXG4vLyBMb2dvdXQgYnV0dG9uIGhhbmRsZXJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dvdXRCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgYXV0aC5sb2dvdXQoKTtcbn0pO1xuXG4vLyBDaGVjayBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuaWYgKGF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgYXV0aC5nZXRQcm9maWxlKCkudGhlbihwcm9maWxlID0+IHtcbiAgICBjb25zb2xlLmxvZygnVXNlciBwcm9maWxlOicsIHByb2ZpbGUpO1xuICB9KTtcbn1gLFxuICAgICAgICByZWFjdDogYC8vIEF1dGgwIFJlYWN0IEludGVncmF0aW9uXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEF1dGgwUHJvdmlkZXIsIHVzZUF1dGgwIH0gZnJvbSAnQGF1dGgwL2F1dGgwLXJlYWN0JztcblxuLy8gQXV0aDAgUHJvdmlkZXIgQ29tcG9uZW50XG5leHBvcnQgY29uc3QgQXV0aDBQcm92aWRlcldpdGhIaXN0b3J5ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBkb21haW4gPSBwcm9jZXNzLmVudi5SRUFDVF9BUFBfQVVUSDBfRE9NQUlOO1xuICBjb25zdCBjbGllbnRJZCA9IHByb2Nlc3MuZW52LlJFQUNUX0FQUF9BVVRIMF9DTElFTlRfSUQ7XG4gIGNvbnN0IHJlZGlyZWN0VXJpID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblxuICByZXR1cm4gKFxuICAgIDxBdXRoMFByb3ZpZGVyXG4gICAgICBkb21haW49e2RvbWFpbn1cbiAgICAgIGNsaWVudElkPXtjbGllbnRJZH1cbiAgICAgIHJlZGlyZWN0VXJpPXtyZWRpcmVjdFVyaX1cbiAgICAgIGF1ZGllbmNlPXtcXGBodHRwczovL1xcJHtkb21haW59L2FwaS92Mi9cXGB9XG4gICAgICBzY29wZT1cInJlYWQ6Y3VycmVudF91c2VyIHVwZGF0ZTpjdXJyZW50X3VzZXJfbWV0YWRhdGFcIlxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0F1dGgwUHJvdmlkZXI+XG4gICk7XG59O1xuXG4vLyBMb2dpbiBCdXR0b24gQ29tcG9uZW50XG5jb25zdCBMb2dpbkJ1dHRvbiA9ICgpID0+IHtcbiAgY29uc3QgeyBsb2dpbldpdGhSZWRpcmVjdCwgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VBdXRoMCgpO1xuXG4gIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgb25DbGljaz17KCkgPT4gbG9naW5XaXRoUmVkaXJlY3QoKX1cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgPlxuICAgICAgTG9nIEluXG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuXG4vLyBMb2dvdXQgQnV0dG9uIENvbXBvbmVudFxuY29uc3QgTG9nb3V0QnV0dG9uID0gKCkgPT4ge1xuICBjb25zdCB7IGxvZ291dCwgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VBdXRoMCgpO1xuXG4gIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIG9uQ2xpY2s9eygpID0+IGxvZ291dCh7XG4gICAgICAgIHJldHVyblRvOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luXG4gICAgICB9KX1cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5XCJcbiAgICA+XG4gICAgICBMb2cgT3V0XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuXG4vLyBQcm9maWxlIENvbXBvbmVudFxuY29uc3QgUHJvZmlsZSA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VyLCBpc0F1dGhlbnRpY2F0ZWQsIGlzTG9hZGluZywgZ2V0QWNjZXNzVG9rZW5TaWxlbnRseSB9ID0gdXNlQXV0aDAoKTtcbiAgY29uc3QgW3VzZXJNZXRhZGF0YSwgc2V0VXNlck1ldGFkYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZ2V0VXNlck1ldGFkYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZG9tYWluID0gcHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX0FVVEgwX0RPTUFJTjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBhd2FpdCBnZXRBY2Nlc3NUb2tlblNpbGVudGx5KHtcbiAgICAgICAgICBhdWRpZW5jZTogXFxgaHR0cHM6Ly9cXCR7ZG9tYWlufS9hcGkvdjIvXFxgLFxuICAgICAgICAgIHNjb3BlOiBcInJlYWQ6Y3VycmVudF91c2VyXCIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHVzZXJEZXRhaWxzQnlJZFVybCA9IFxcYGh0dHBzOi8vXFwke2RvbWFpbn0vYXBpL3YyL3VzZXJzL1xcJHt1c2VyLnN1Yn1cXGA7XG5cbiAgICAgICAgY29uc3QgbWV0YWRhdGFSZXNwb25zZSA9IGF3YWl0IGZldGNoKHVzZXJEZXRhaWxzQnlJZFVybCwge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFxcYEJlYXJlciBcXCR7YWNjZXNzVG9rZW59XFxgLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHsgdXNlcl9tZXRhZGF0YSB9ID0gYXdhaXQgbWV0YWRhdGFSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldFVzZXJNZXRhZGF0YSh1c2VyX21ldGFkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBtZXRhZGF0YTonLCBlLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkICYmIHVzZXI/LnN1Yikge1xuICAgICAgZ2V0VXNlck1ldGFkYXRhKCk7XG4gICAgfVxuICB9LCBbZ2V0QWNjZXNzVG9rZW5TaWxlbnRseSwgdXNlcj8uc3ViLCBpc0F1dGhlbnRpY2F0ZWRdKTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcbiAgfVxuXG4gIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIDxkaXY+UGxlYXNlIGxvZyBpbiB0byB2aWV3IHlvdXIgcHJvZmlsZS48L2Rpdj47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWhlYWRlclwiPlxuICAgICAgICA8aW1nXG4gICAgICAgICAgc3JjPXt1c2VyLnBpY3R1cmV9XG4gICAgICAgICAgYWx0PXt1c2VyLm5hbWV9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicHJvZmlsZS1hdmF0YXJcIlxuICAgICAgICAvPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMj57dXNlci5uYW1lfTwvaDI+XG4gICAgICAgICAgPHA+e3VzZXIuZW1haWx9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtZGV0YWlsc1wiPlxuICAgICAgICA8aDM+UHJvZmlsZSBJbmZvcm1hdGlvbjwvaDM+XG4gICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KHVzZXIsIG51bGwsIDIpfTwvcHJlPlxuICAgICAgICBcbiAgICAgICAge3VzZXJNZXRhZGF0YSAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxoMz5Vc2VyIE1ldGFkYXRhPC9oMz5cbiAgICAgICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KHVzZXJNZXRhZGF0YSwgbnVsbCwgMil9PC9wcmU+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIFByb3RlY3RlZCBSb3V0ZSBDb21wb25lbnRcbmNvbnN0IFByb3RlY3RlZFJvdXRlID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoMCgpO1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gPGRpdj5Mb2FkaW5nLi4uPC9kaXY+O1xuICB9XG5cbiAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1bmF1dGhvcml6ZWRcIj5cbiAgICAgICAgPGgyPkFjY2VzcyBEZW5pZWQ8L2gyPlxuICAgICAgICA8cD5QbGVhc2UgbG9nIGluIHRvIGFjY2VzcyB0aGlzIHBhZ2UuPC9wPlxuICAgICAgICA8TG9naW5CdXR0b24gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59O1xuXG4vLyBBUEkgSG9vayBmb3IgYXV0aGVudGljYXRlZCByZXF1ZXN0c1xuY29uc3QgdXNlQXBpID0gKCkgPT4ge1xuICBjb25zdCB7IGdldEFjY2Vzc1Rva2VuU2lsZW50bHkgfSA9IHVzZUF1dGgwKCk7XG5cbiAgY29uc3QgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0ID0gYXN5bmMgKHVybCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0QWNjZXNzVG9rZW5TaWxlbnRseSgpO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgIEF1dGhvcml6YXRpb246IFxcYEJlYXJlciBcXCR7dG9rZW59XFxgLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxgSFRUUCBlcnJvciEgc3RhdHVzOiBcXCR7cmVzcG9uc2Uuc3RhdHVzfVxcYCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSByZXF1ZXN0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyBtYWtlQXV0aGVudGljYXRlZFJlcXVlc3QgfTtcbn07XG5cbi8vIE1haW4gQXBwIENvbXBvbmVudFxuY29uc3QgQXBwID0gKCkgPT4ge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoMCgpO1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nXCI+TG9hZGluZy4uLjwvZGl2PjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhcHBcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYXBwLWhlYWRlclwiPlxuICAgICAgICA8aDE+QXV0aDAgUmVhY3QgRXhhbXBsZTwvaDE+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXV0aC1idXR0b25zXCI+XG4gICAgICAgICAgPExvZ2luQnV0dG9uIC8+XG4gICAgICAgICAgPExvZ291dEJ1dHRvbiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8bWFpbj5cbiAgICAgICAge2lzQXV0aGVudGljYXRlZCA/IChcbiAgICAgICAgICA8UHJvdGVjdGVkUm91dGU+XG4gICAgICAgICAgICA8UHJvZmlsZSAvPlxuICAgICAgICAgIDwvUHJvdGVjdGVkUm91dGU+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxjb21lXCI+XG4gICAgICAgICAgICA8aDI+V2VsY29tZSE8L2gyPlxuICAgICAgICAgICAgPHA+UGxlYXNlIGxvZyBpbiB0byBjb250aW51ZS48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBSb290IGNvbXBvbmVudCB3aXRoIEF1dGgwIFByb3ZpZGVyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHBXaXRoQXV0aDAoKSB7XG4gIHJldHVybiAoXG4gICAgPEF1dGgwUHJvdmlkZXJXaXRoSGlzdG9yeT5cbiAgICAgIDxBcHAgLz5cbiAgICA8L0F1dGgwUHJvdmlkZXJXaXRoSGlzdG9yeT5cbiAgKTtcbn1cblxuLy8gRW52aXJvbm1lbnQgdmFyaWFibGVzIG5lZWRlZCAoLmVudik6XG4vLyBSRUFDVF9BUFBfQVVUSDBfRE9NQUlOPXlvdXItZG9tYWluLmF1dGgwLmNvbVxuLy8gUkVBQ1RfQVBQX0FVVEgwX0NMSUVOVF9JRD15b3VyLWNsaWVudC1pZGBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gR29vZ2xlIE9BdXRoIEFQSVxuICB7XG4gICAgaWQ6ICdnb29nbGUtb2F1dGgnLFxuICAgIHNsdWc6ICdnb29nbGUtb2F1dGgnLFxuICAgIG5hbWU6ICdHb29nbGUgT0F1dGgnLFxuICAgIGNhdGVnb3J5OiAnQXV0aGVudGljYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnU2VjdXJlIGF1dGhlbnRpY2F0aW9uIHdpdGggR29vZ2xlIGFjY291bnRzIHVzaW5nIE9BdXRoIDIuMCBwcm90b2NvbC4nLFxuICAgIGljb246ICfwn5SNJyxcbiAgICBmZWF0dXJlczogW1xuICAgICAgJ09BdXRoIDIuMCBGbG93JyxcbiAgICAgICdHb29nbGUgU2lnbi1JbicsXG4gICAgICAnUHJvZmlsZSBJbmZvcm1hdGlvbicsXG4gICAgICAnUmVmcmVzaCBUb2tlbnMnLFxuICAgICAgJ1Njb3BlIE1hbmFnZW1lbnQnLFxuICAgICAgJ1NlcnZlci1zaWRlIEF1dGgnXG4gICAgXSxcbiAgICBwb3B1bGFyaXR5OiA4OCxcbiAgICBkb2N1bWVudGF0aW9uOiAnaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vaWRlbnRpdHkvcHJvdG9jb2xzL29hdXRoMicsXG4gICAgY29kZVRlbXBsYXRlczoge1xuICAgICAgamF2YXNjcmlwdDoge1xuICAgICAgICB2YW5pbGxhOiBgLy8gR29vZ2xlIE9BdXRoIDIuMCBJbnRlZ3JhdGlvblxuY2xhc3MgR29vZ2xlQXV0aCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudElkLCByZWRpcmVjdFVyaSkge1xuICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICB0aGlzLnJlZGlyZWN0VXJpID0gcmVkaXJlY3RVcmk7XG4gICAgdGhpcy5zY29wZSA9ICdvcGVuaWQgcHJvZmlsZSBlbWFpbCc7XG4gICAgdGhpcy5yZXNwb25zZVR5cGUgPSAnY29kZSc7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBPQXV0aCBVUkxcbiAgZ2V0QXV0aFVybCgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIGNsaWVudF9pZDogdGhpcy5jbGllbnRJZCxcbiAgICAgIHJlZGlyZWN0X3VyaTogdGhpcy5yZWRpcmVjdFVyaSxcbiAgICAgIHNjb3BlOiB0aGlzLnNjb3BlLFxuICAgICAgcmVzcG9uc2VfdHlwZTogdGhpcy5yZXNwb25zZVR5cGUsXG4gICAgICBzdGF0ZTogdGhpcy5nZW5lcmF0ZVN0YXRlKCksXG4gICAgICBhY2Nlc3NfdHlwZTogJ29mZmxpbmUnLFxuICAgICAgcHJvbXB0OiAnY29uc2VudCdcbiAgICB9KTtcblxuICAgIHJldHVybiBcXGBodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvdjIvYXV0aD9cXCR7cGFyYW1zfVxcYDtcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHN0YXRlIHBhcmFtZXRlciBmb3IgQ1NSRiBwcm90ZWN0aW9uXG4gIGdlbmVyYXRlU3RhdGUoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgXG4gICAgICAgICAgICAgICAgICBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2dvb2dsZV9vYXV0aF9zdGF0ZScsIHN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICAvLyBWZXJpZnkgc3RhdGUgcGFyYW1ldGVyXG4gIHZlcmlmeVN0YXRlKHJlY2VpdmVkU3RhdGUpIHtcbiAgICBjb25zdCBzdG9yZWRTdGF0ZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2dvb2dsZV9vYXV0aF9zdGF0ZScpO1xuICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2dvb2dsZV9vYXV0aF9zdGF0ZScpO1xuICAgIHJldHVybiBzdG9yZWRTdGF0ZSA9PT0gcmVjZWl2ZWRTdGF0ZTtcbiAgfVxuXG4gIC8vIEV4Y2hhbmdlIGF1dGhvcml6YXRpb24gY29kZSBmb3IgdG9rZW5zXG4gIGFzeW5jIGV4Y2hhbmdlQ29kZUZvclRva2Vucyhjb2RlLCBjbGllbnRTZWNyZXQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICBjbGllbnRfaWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgY2xpZW50X3NlY3JldDogY2xpZW50U2VjcmV0LFxuICAgICAgICAgIGNvZGU6IGNvZGUsXG4gICAgICAgICAgZ3JhbnRfdHlwZTogJ2F1dGhvcml6YXRpb25fY29kZScsXG4gICAgICAgICAgcmVkaXJlY3RfdXJpOiB0aGlzLnJlZGlyZWN0VXJpXG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxgVG9rZW4gZXhjaGFuZ2UgZmFpbGVkOiBcXCR7cmVzcG9uc2Uuc3RhdHVzfVxcYCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgdG9rZW5zIHNlY3VyZWx5XG4gICAgICB0aGlzLnN0b3JlVG9rZW5zKHRva2Vucyk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRva2VuczogdG9rZW5zXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUb2tlbiBleGNoYW5nZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gU3RvcmUgdG9rZW5zIHNlY3VyZWx5XG4gIHN0b3JlVG9rZW5zKHRva2Vucykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnb29nbGVfYWNjZXNzX3Rva2VuJywgdG9rZW5zLmFjY2Vzc190b2tlbik7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dvb2dsZV9yZWZyZXNoX3Rva2VuJywgdG9rZW5zLnJlZnJlc2hfdG9rZW4pO1xuICAgIFxuICAgIGlmICh0b2tlbnMuZXhwaXJlc19pbikge1xuICAgICAgY29uc3QgZXhwaXJlc0F0ID0gRGF0ZS5ub3coKSArICh0b2tlbnMuZXhwaXJlc19pbiAqIDEwMDApO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dvb2dsZV90b2tlbl9leHBpcmVzX2F0JywgZXhwaXJlc0F0LnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCB1c2VyIHByb2ZpbGVcbiAgYXN5bmMgZ2V0VXNlclByb2ZpbGUoYWNjZXNzVG9rZW4gPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gYWNjZXNzVG9rZW4gfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dvb2dsZV9hY2Nlc3NfdG9rZW4nKTtcbiAgICAgIFxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFjY2VzcyB0b2tlbiBhdmFpbGFibGUnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YyL3VzZXJpbmZvJywge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBcXGBCZWFyZXIgXFwke3Rva2VufVxcYFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxgUHJvZmlsZSBmZXRjaCBmYWlsZWQ6IFxcJHtyZXNwb25zZS5zdGF0dXN9XFxgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcHJvZmlsZTogcHJvZmlsZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUHJvZmlsZSBmZXRjaCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gUmVmcmVzaCBhY2Nlc3MgdG9rZW5cbiAgYXN5bmMgcmVmcmVzaEFjY2Vzc1Rva2VuKGNsaWVudFNlY3JldCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ29vZ2xlX3JlZnJlc2hfdG9rZW4nKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZWZyZXNoIHRva2VuIGF2YWlsYWJsZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL29hdXRoMi5nb29nbGVhcGlzLmNvbS90b2tlbicsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgIGNsaWVudF9pZDogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgICBjbGllbnRfc2VjcmV0OiBjbGllbnRTZWNyZXQsXG4gICAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgICAgIGdyYW50X3R5cGU6ICdyZWZyZXNoX3Rva2VuJ1xuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcYFRva2VuIHJlZnJlc2ggZmFpbGVkOiBcXCR7cmVzcG9uc2Uuc3RhdHVzfVxcYCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0b3JlZCBhY2Nlc3MgdG9rZW5cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnb29nbGVfYWNjZXNzX3Rva2VuJywgdG9rZW5zLmFjY2Vzc190b2tlbik7XG4gICAgICBcbiAgICAgIGlmICh0b2tlbnMuZXhwaXJlc19pbikge1xuICAgICAgICBjb25zdCBleHBpcmVzQXQgPSBEYXRlLm5vdygpICsgKHRva2Vucy5leHBpcmVzX2luICogMTAwMCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnb29nbGVfdG9rZW5fZXhwaXJlc19hdCcsIGV4cGlyZXNBdC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgYWNjZXNzVG9rZW46IHRva2Vucy5hY2Nlc3NfdG9rZW5cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIHJlZnJlc2ggZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGlmIHRva2VuIGlzIGV4cGlyZWRcbiAgaXNUb2tlbkV4cGlyZWQoKSB7XG4gICAgY29uc3QgZXhwaXJlc0F0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dvb2dsZV90b2tlbl9leHBpcmVzX2F0Jyk7XG4gICAgaWYgKCFleHBpcmVzQXQpIHJldHVybiB0cnVlO1xuICAgIFxuICAgIHJldHVybiBEYXRlLm5vdygpID49IHBhcnNlSW50KGV4cGlyZXNBdCk7XG4gIH1cblxuICAvLyBMb2dvdXRcbiAgbG9nb3V0KCkge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnb29nbGVfYWNjZXNzX3Rva2VuJyk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2dvb2dsZV9yZWZyZXNoX3Rva2VuJyk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2dvb2dsZV90b2tlbl9leHBpcmVzX2F0Jyk7XG4gIH1cblxuICAvLyBIYW5kbGUgY2FsbGJhY2tcbiAgaGFuZGxlQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICBjb25zdCBjb2RlID0gdXJsUGFyYW1zLmdldCgnY29kZScpO1xuICAgIGNvbnN0IHN0YXRlID0gdXJsUGFyYW1zLmdldCgnc3RhdGUnKTtcbiAgICBjb25zdCBlcnJvciA9IHVybFBhcmFtcy5nZXQoJ2Vycm9yJyk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09BdXRoIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIWNvZGUgfHwgIXN0YXRlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdNaXNzaW5nIGNvZGUgb3Igc3RhdGUgcGFyYW1ldGVyJyB9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy52ZXJpZnlTdGF0ZShzdGF0ZSkpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgc3RhdGUgcGFyYW1ldGVyJyB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvZGU6IGNvZGUgfTtcbiAgfVxufVxuXG4vLyBVc2FnZSBleGFtcGxlXG5jb25zdCBnb29nbGVBdXRoID0gbmV3IEdvb2dsZUF1dGgoXG4gICd5b3VyLWNsaWVudC1pZC5nb29nbGV1c2VyY29udGVudC5jb20nLFxuICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2NhbGxiYWNrJ1xuKTtcblxuLy8gTG9naW4gYnV0dG9uIGhhbmRsZXJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBhdXRoVXJsID0gZ29vZ2xlQXV0aC5nZXRBdXRoVXJsKCk7XG4gIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYXV0aFVybDtcbn0pO1xuXG4vLyBIYW5kbGUgY2FsbGJhY2sgKG9uIGNhbGxiYWNrIHBhZ2UpXG5jb25zdCBjYWxsYmFja1Jlc3VsdCA9IGdvb2dsZUF1dGguaGFuZGxlQ2FsbGJhY2soKTtcbmlmIChjYWxsYmFja1Jlc3VsdC5zdWNjZXNzKSB7XG4gIC8vIEV4Y2hhbmdlIGNvZGUgZm9yIHRva2VucyAocmVxdWlyZXMgY2xpZW50IHNlY3JldCAtIGRvIHRoaXMgb24gc2VydmVyKVxuICBjb25zb2xlLmxvZygnQXV0aG9yaXphdGlvbiBjb2RlOicsIGNhbGxiYWNrUmVzdWx0LmNvZGUpO1xufSBlbHNlIHtcbiAgY29uc29sZS5lcnJvcignQ2FsbGJhY2sgZXJyb3I6JywgY2FsbGJhY2tSZXN1bHQuZXJyb3IpO1xufVxuXG4vLyBHZXQgdXNlciBwcm9maWxlXG5pZiAoIWdvb2dsZUF1dGguaXNUb2tlbkV4cGlyZWQoKSkge1xuICBnb29nbGVBdXRoLmdldFVzZXJQcm9maWxlKCkudGhlbihyZXN1bHQgPT4ge1xuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29uc29sZS5sb2coJ1VzZXIgcHJvZmlsZTonLCByZXN1bHQucHJvZmlsZSk7XG4gICAgfVxuICB9KTtcbn1gLFxuICAgICAgICByZWFjdDogYC8vIEdvb2dsZSBPQXV0aCBSZWFjdCBJbnRlZ3JhdGlvblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbi8vIEdvb2dsZSBBdXRoIENvbnRleHRcbmNvbnN0IEdvb2dsZUF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG5leHBvcnQgY29uc3QgdXNlR29vZ2xlQXV0aCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoR29vZ2xlQXV0aENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUdvb2dsZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBHb29nbGVBdXRoUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbi8vIEdvb2dsZSBBdXRoIFByb3ZpZGVyXG5leHBvcnQgY29uc3QgR29vZ2xlQXV0aFByb3ZpZGVyID0gKHsgY2hpbGRyZW4sIGNsaWVudElkIH0pID0+IHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTG9hZCBHb29nbGUgSWRlbnRpdHkgU2VydmljZXNcbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9nc2kvY2xpZW50JztcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgIHNjcmlwdC5kZWZlciA9IHRydWU7XG4gICAgc2NyaXB0Lm9ubG9hZCA9IGluaXRpYWxpemVHb29nbGVBdXRoO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGluaXRpYWxpemVHb29nbGVBdXRoID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cuZ29vZ2xlKSB7XG4gICAgICB3aW5kb3cuZ29vZ2xlLmFjY291bnRzLmlkLmluaXRpYWxpemUoe1xuICAgICAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgICAgICBjYWxsYmFjazogaGFuZGxlQ3JlZGVudGlhbFJlc3BvbnNlLFxuICAgICAgICBhdXRvX3NlbGVjdDogZmFsc2UsXG4gICAgICAgIGNhbmNlbF9vbl90YXBfb3V0c2lkZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgZXhpc3Rpbmcgc2Vzc2lvblxuICAgICAgY2hlY2tFeGlzdGluZ1Nlc3Npb24oKTtcbiAgICB9XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3JlZGVudGlhbFJlc3BvbnNlID0gYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgLy8gRGVjb2RlIEpXVCB0b2tlblxuICAgICAgY29uc3QgdXNlckluZm8gPSBwYXJzZUp3dChyZXNwb25zZS5jcmVkZW50aWFsKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgdG9rZW5cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnb29nbGVfaWRfdG9rZW4nLCByZXNwb25zZS5jcmVkZW50aWFsKTtcbiAgICAgIFxuICAgICAgc2V0VXNlcih7XG4gICAgICAgIGlkOiB1c2VySW5mby5zdWIsXG4gICAgICAgIG5hbWU6IHVzZXJJbmZvLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VySW5mby5lbWFpbCxcbiAgICAgICAgcGljdHVyZTogdXNlckluZm8ucGljdHVyZSxcbiAgICAgICAgdmVyaWZpZWQ6IHVzZXJJbmZvLmVtYWlsX3ZlcmlmaWVkXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoJ0xvZ2luIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBhcnNlSnd0ID0gKHRva2VuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICBjb25zdCBiYXNlNjQgPSBiYXNlNjRVcmwucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICAgIGNvbnN0IGpzb25QYXlsb2FkID0gZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICBhdG9iKGJhc2U2NClcbiAgICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgICAgLm1hcChjID0+ICclJyArICgnMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKVxuICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25QYXlsb2FkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoZWNrRXhpc3RpbmdTZXNzaW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dvb2dsZV9pZF90b2tlbicpO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlckluZm8gPSBwYXJzZUp3dCh0b2tlbik7XG4gICAgICAgIC8vIENoZWNrIGlmIHRva2VuIGlzIHN0aWxsIHZhbGlkIChub3QgZXhwaXJlZClcbiAgICAgICAgaWYgKHVzZXJJbmZvLmV4cCAqIDEwMDAgPiBEYXRlLm5vdygpKSB7XG4gICAgICAgICAgc2V0VXNlcih7XG4gICAgICAgICAgICBpZDogdXNlckluZm8uc3ViLFxuICAgICAgICAgICAgbmFtZTogdXNlckluZm8ubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VySW5mby5lbWFpbCxcbiAgICAgICAgICAgIHBpY3R1cmU6IHVzZXJJbmZvLnBpY3R1cmUsXG4gICAgICAgICAgICB2ZXJpZmllZDogdXNlckluZm8uZW1haWxfdmVyaWZpZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ29vZ2xlX2lkX3Rva2VuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnb29nbGVfaWRfdG9rZW4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2lnbkluID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cuZ29vZ2xlKSB7XG4gICAgICB3aW5kb3cuZ29vZ2xlLmFjY291bnRzLmlkLnByb21wdCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaWduSW5XaXRoUG9wdXAgPSAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5nb29nbGUpIHtcbiAgICAgIHdpbmRvdy5nb29nbGUuYWNjb3VudHMuaWQucmVuZGVyQnV0dG9uKFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29vZ2xlLXNpZ25pbi1idXR0b24nKSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdzdGFuZGFyZCcsXG4gICAgICAgICAgc2l6ZTogJ2xhcmdlJyxcbiAgICAgICAgICB0ZXh0OiAnc2lnbmluX3dpdGgnLFxuICAgICAgICAgIHRoZW1lOiAnb3V0bGluZScsXG4gICAgICAgICAgbG9nb19hbGlnbm1lbnQ6ICdsZWZ0JyxcbiAgICAgICAgICB3aWR0aDogMjUwXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNpZ25PdXQgPSAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5nb29nbGUpIHtcbiAgICAgIHdpbmRvdy5nb29nbGUuYWNjb3VudHMuaWQuZGlzYWJsZUF1dG9TZWxlY3QoKTtcbiAgICB9XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2dvb2dsZV9pZF90b2tlbicpO1xuICAgIHNldFVzZXIobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgdXNlcixcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIHNpZ25JbixcbiAgICBzaWduSW5XaXRoUG9wdXAsXG4gICAgc2lnbk91dCxcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6ICEhdXNlclxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEdvb2dsZUF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Hb29nbGVBdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbi8vIExvZ2luIEJ1dHRvbiBDb21wb25lbnRcbmNvbnN0IEdvb2dsZUxvZ2luQnV0dG9uID0gKCkgPT4ge1xuICBjb25zdCB7IHNpZ25Jbiwgc2lnbkluV2l0aFBvcHVwLCBsb2FkaW5nIH0gPSB1c2VHb29nbGVBdXRoKCk7XG4gIGNvbnN0IFt1c2VQb3B1cCwgc2V0VXNlUG9wdXBdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZVBvcHVwKSB7XG4gICAgICBzaWduSW5XaXRoUG9wdXAoKTtcbiAgICB9XG4gIH0sIFt1c2VQb3B1cCwgc2lnbkluV2l0aFBvcHVwXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdvb2dsZS1sb2dpblwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRVc2VQb3B1cCh0cnVlKX1cbiAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgIGNsYXNzTmFtZT1cImdvb2dsZS1sb2dpbi1idXR0b25cIlxuICAgICAgPlxuICAgICAgICB7bG9hZGluZyA/ICdMb2FkaW5nLi4uJyA6ICdTaWduIGluIHdpdGggR29vZ2xlJ31cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgXG4gICAgICA8ZGl2IGlkPVwiZ29vZ2xlLXNpZ25pbi1idXR0b25cIiBzdHlsZT17eyBtYXJnaW5Ub3A6ICcxMHB4JyB9fT48L2Rpdj5cbiAgICAgIFxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtzaWduSW59XG4gICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICBjbGFzc05hbWU9XCJnb29nbGUtbG9naW4tcHJvbXB0XCJcbiAgICAgID5cbiAgICAgICAgU2lnbiBpbiAoT25lIFRhcClcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gUHJvZmlsZSBDb21wb25lbnRcbmNvbnN0IEdvb2dsZVByb2ZpbGUgPSAoKSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgc2lnbk91dCB9ID0gdXNlR29vZ2xlQXV0aCgpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdvb2dsZS1wcm9maWxlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtaGVhZGVyXCI+XG4gICAgICAgIDxpbWdcbiAgICAgICAgICBzcmM9e3VzZXIucGljdHVyZX1cbiAgICAgICAgICBhbHQ9e3VzZXIubmFtZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJwcm9maWxlLWF2YXRhclwiXG4gICAgICAgICAgd2lkdGg9ezUwfVxuICAgICAgICAgIGhlaWdodD17NTB9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1pbmZvXCI+XG4gICAgICAgICAgPGgzPnt1c2VyLm5hbWV9PC9oMz5cbiAgICAgICAgICA8cD57dXNlci5lbWFpbH08L3A+XG4gICAgICAgICAge3VzZXIudmVyaWZpZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwidmVyaWZpZWRcIj7inJMgVmVyaWZpZWQ8L3NwYW4+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e3NpZ25PdXR9IGNsYXNzTmFtZT1cInNpZ24tb3V0LWJ1dHRvblwiPlxuICAgICAgICBTaWduIE91dFxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBNYWluIEFwcCBDb21wb25lbnRcbmNvbnN0IEFwcCA9ICgpID0+IHtcbiAgY29uc3QgeyB1c2VyLCBsb2FkaW5nLCBlcnJvciwgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VHb29nbGVBdXRoKCk7XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nXCI+TG9hZGluZyBHb29nbGUgQXV0aC4uLjwvZGl2PjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhcHBcIj5cbiAgICAgIDxoZWFkZXI+XG4gICAgICAgIDxoMT5Hb29nbGUgT0F1dGggRXhhbXBsZTwvaDE+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgPG1haW4+XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgICBFcnJvcjoge2Vycm9yfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHtpc0F1dGhlbnRpY2F0ZWQgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdXRoZW50aWNhdGVkXCI+XG4gICAgICAgICAgICA8aDI+V2VsY29tZSE8L2gyPlxuICAgICAgICAgICAgPEdvb2dsZVByb2ZpbGUgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVuYXV0aGVudGljYXRlZFwiPlxuICAgICAgICAgICAgPGgyPlBsZWFzZSBzaWduIGluPC9oMj5cbiAgICAgICAgICAgIDxHb29nbGVMb2dpbkJ1dHRvbiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9tYWluPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gUm9vdCBDb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcFdpdGhHb29nbGVBdXRoKCkge1xuICByZXR1cm4gKFxuICAgIDxHb29nbGVBdXRoUHJvdmlkZXIgY2xpZW50SWQ9XCJ5b3VyLWNsaWVudC1pZC5nb29nbGV1c2VyY29udGVudC5jb21cIj5cbiAgICAgIDxBcHAgLz5cbiAgICA8L0dvb2dsZUF1dGhQcm92aWRlcj5cbiAgKTtcbn1cblxuLy8gQ1NTIHN0eWxlcyAoYWRkIHRvIHlvdXIgc3R5bGVzaGVldClcbi8qXG4uZ29vZ2xlLWxvZ2luLWJ1dHRvbixcbi5nb29nbGUtbG9naW4tcHJvbXB0IHtcbiAgYmFja2dyb3VuZDogIzQyODVmNDtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIHBhZGRpbmc6IDEycHggMjRweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgbWFyZ2luOiA4cHg7XG59XG5cbi5nb29nbGUtbG9naW4tYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogIzM1N2FlODtcbn1cblxuLnByb2ZpbGUtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxNnB4O1xufVxuXG4ucHJvZmlsZS1hdmF0YXIge1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbi52ZXJpZmllZCB7XG4gIGNvbG9yOiAjMzRhODUzO1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5zaWduLW91dC1idXR0b24ge1xuICBiYWNrZ3JvdW5kOiAjZWE0MzM1O1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuKi9gXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8vIENMT1VEIFNUT1JBR0UgQVBJUyAgXG4gIHtcbiAgICBpZDogJ2F3cy1zMycsXG4gICAgc2x1ZzogJ2F3cy1zMycsXG4gICAgbmFtZTogJ0FXUyBTMycsXG4gICAgY2F0ZWdvcnk6ICdDbG91ZCBTdG9yYWdlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1NjYWxhYmxlIG9iamVjdCBzdG9yYWdlIHNlcnZpY2Ugd2l0aCBhZHZhbmNlZCBzZWN1cml0eSwgbWFuYWdlbWVudCwgYW5kIGFuYWx5dGljcyBjYXBhYmlsaXRpZXMuJyxcbiAgICBpY29uOiAn4piB77iPJyxcbiAgICBmZWF0dXJlczogW1xuICAgICAgJ09iamVjdCBVcGxvYWQvRG93bmxvYWQnLFxuICAgICAgJ1ByZXNpZ25lZCBVUkxzJyxcbiAgICAgICdCdWNrZXQgTWFuYWdlbWVudCcsXG4gICAgICAnQWNjZXNzIENvbnRyb2wgKElBTSknLFxuICAgICAgJ1NlcnZlci1zaWRlIEVuY3J5cHRpb24nLFxuICAgICAgJ0xpZmVjeWNsZSBQb2xpY2llcydcbiAgICBdLFxuICAgIHBvcHVsYXJpdHk6IDk2LFxuICAgIGRvY3VtZW50YXRpb246ICdodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vczMvJyxcbiAgICBjb2RlVGVtcGxhdGVzOiB7XG4gICAgICBqYXZhc2NyaXB0OiB7XG4gICAgICAgIHZhbmlsbGE6IGAvLyBBV1MgUzMgSmF2YVNjcmlwdCBJbnRlZ3JhdGlvblxuY29uc3QgQVdTID0gcmVxdWlyZSgnYXdzLXNkaycpO1xuXG5jbGFzcyBTM1NlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihhY2Nlc3NLZXlJZCwgc2VjcmV0QWNjZXNzS2V5LCByZWdpb24gPSAndXMtZWFzdC0xJykge1xuICAgIC8vIENvbmZpZ3VyZSBBV1NcbiAgICBBV1MuY29uZmlnLnVwZGF0ZSh7XG4gICAgICBhY2Nlc3NLZXlJZDogYWNjZXNzS2V5SWQsXG4gICAgICBzZWNyZXRBY2Nlc3NLZXk6IHNlY3JldEFjY2Vzc0tleSxcbiAgICAgIHJlZ2lvbjogcmVnaW9uXG4gICAgfSk7XG4gICAgXG4gICAgdGhpcy5zMyA9IG5ldyBBV1MuUzMoKTtcbiAgICB0aGlzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgfVxuXG4gIC8vIFVwbG9hZCBmaWxlIHRvIFMzXG4gIGFzeW5jIHVwbG9hZEZpbGUoYnVja2V0TmFtZSwga2V5LCBmaWxlRGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBidWNrZXROYW1lLFxuICAgICAgICBLZXk6IGtleSxcbiAgICAgICAgQm9keTogZmlsZURhdGEsXG4gICAgICAgIENvbnRlbnRUeXBlOiBvcHRpb25zLmNvbnRlbnRUeXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnMzLnVwbG9hZChwYXJhbXMpLnByb21pc2UoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbG9jYXRpb246IHJlc3VsdC5Mb2NhdGlvbixcbiAgICAgICAgZXRhZzogcmVzdWx0LkVUYWcsXG4gICAgICAgIGtleTogcmVzdWx0LktleVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUzMgVXBsb2FkIEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBEb3dubG9hZCBmaWxlIGZyb20gUzNcbiAgYXN5bmMgZG93bmxvYWRGaWxlKGJ1Y2tldE5hbWUsIGtleSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIEJ1Y2tldDogYnVja2V0TmFtZSxcbiAgICAgICAgS2V5OiBrZXlcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuczMuZ2V0T2JqZWN0KHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiByZXN1bHQuQm9keSxcbiAgICAgICAgY29udGVudFR5cGU6IHJlc3VsdC5Db250ZW50VHlwZSxcbiAgICAgICAgbGFzdE1vZGlmaWVkOiByZXN1bHQuTGFzdE1vZGlmaWVkLFxuICAgICAgICBldGFnOiByZXN1bHQuRVRhZ1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUzMgRG93bmxvYWQgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHByZXNpZ25lZCBVUkwgZm9yIHVwbG9hZFxuICBnZXRQcmVzaWduZWRVcGxvYWRVcmwoYnVja2V0TmFtZSwga2V5LCBleHBpcmVzSW4gPSAzMDAsIGNvbnRlbnRUeXBlID0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIEJ1Y2tldDogYnVja2V0TmFtZSxcbiAgICAgICAgS2V5OiBrZXksXG4gICAgICAgIEV4cGlyZXM6IGV4cGlyZXNJblxuICAgICAgfTtcblxuICAgICAgaWYgKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHBhcmFtcy5Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1cmwgPSB0aGlzLnMzLmdldFNpZ25lZFVybCgncHV0T2JqZWN0JywgcGFyYW1zKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGV4cGlyZXNJbjogZXhwaXJlc0luXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcmVzaWduZWQgVVJMIEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBwcmVzaWduZWQgVVJMIGZvciBkb3dubG9hZFxuICBnZXRQcmVzaWduZWREb3dubG9hZFVybChidWNrZXROYW1lLCBrZXksIGV4cGlyZXNJbiA9IDMwMCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIEJ1Y2tldDogYnVja2V0TmFtZSxcbiAgICAgICAgS2V5OiBrZXksXG4gICAgICAgIEV4cGlyZXM6IGV4cGlyZXNJblxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXJsID0gdGhpcy5zMy5nZXRTaWduZWRVcmwoJ2dldE9iamVjdCcsIHBhcmFtcyk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBleHBpcmVzSW46IGV4cGlyZXNJblxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUHJlc2lnbmVkIFVSTCBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gTGlzdCBvYmplY3RzIGluIGJ1Y2tldFxuICBhc3luYyBsaXN0T2JqZWN0cyhidWNrZXROYW1lLCBwcmVmaXggPSAnJywgbWF4S2V5cyA9IDEwMDApIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBCdWNrZXQ6IGJ1Y2tldE5hbWUsXG4gICAgICAgIFByZWZpeDogcHJlZml4LFxuICAgICAgICBNYXhLZXlzOiBtYXhLZXlzXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnMzLmxpc3RPYmplY3RzVjIocGFyYW1zKS5wcm9taXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG9iamVjdHM6IHJlc3VsdC5Db250ZW50cy5tYXAob2JqID0+ICh7XG4gICAgICAgICAga2V5OiBvYmouS2V5LFxuICAgICAgICAgIHNpemU6IG9iai5TaXplLFxuICAgICAgICAgIGxhc3RNb2RpZmllZDogb2JqLkxhc3RNb2RpZmllZCxcbiAgICAgICAgICBldGFnOiBvYmouRVRhZ1xuICAgICAgICB9KSksXG4gICAgICAgIHRvdGFsQ291bnQ6IHJlc3VsdC5LZXlDb3VudCxcbiAgICAgICAgaXNUcnVuY2F0ZWQ6IHJlc3VsdC5Jc1RydW5jYXRlZCxcbiAgICAgICAgbmV4dENvbnRpbnVhdGlvblRva2VuOiByZXN1bHQuTmV4dENvbnRpbnVhdGlvblRva2VuXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTMyBMaXN0IEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBEZWxldGUgb2JqZWN0IGZyb20gUzNcbiAgYXN5bmMgZGVsZXRlRmlsZShidWNrZXROYW1lLCBrZXkpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBCdWNrZXQ6IGJ1Y2tldE5hbWUsXG4gICAgICAgIEtleToga2V5XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCB0aGlzLnMzLmRlbGV0ZU9iamVjdChwYXJhbXMpLnByb21pc2UoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ09iamVjdCBkZWxldGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1MzIERlbGV0ZSBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gRGVsZXRlIG11bHRpcGxlIG9iamVjdHNcbiAgYXN5bmMgZGVsZXRlRmlsZXMoYnVja2V0TmFtZSwga2V5cykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIEJ1Y2tldDogYnVja2V0TmFtZSxcbiAgICAgICAgRGVsZXRlOiB7XG4gICAgICAgICAgT2JqZWN0czoga2V5cy5tYXAoa2V5ID0+ICh7IEtleToga2V5IH0pKSxcbiAgICAgICAgICBRdWlldDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zMy5kZWxldGVPYmplY3RzKHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkZWxldGVkOiByZXN1bHQuRGVsZXRlZCxcbiAgICAgICAgZXJyb3JzOiByZXN1bHQuRXJyb3JzXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTMyBCdWxrIERlbGV0ZSBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gQ29weSBvYmplY3Qgd2l0aGluIFMzXG4gIGFzeW5jIGNvcHlGaWxlKHNvdXJjZUJ1Y2tldCwgc291cmNlS2V5LCBkZXN0QnVja2V0LCBkZXN0S2V5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQ29weVNvdXJjZTogXFxgXFwke3NvdXJjZUJ1Y2tldH0vXFwke3NvdXJjZUtleX1cXGAsXG4gICAgICAgIEJ1Y2tldDogZGVzdEJ1Y2tldCxcbiAgICAgICAgS2V5OiBkZXN0S2V5XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnMzLmNvcHlPYmplY3QocGFyYW1zKS5wcm9taXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGV0YWc6IHJlc3VsdC5FVGFnLFxuICAgICAgICBsYXN0TW9kaWZpZWQ6IHJlc3VsdC5MYXN0TW9kaWZpZWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1MzIENvcHkgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBvYmplY3QgbWV0YWRhdGFcbiAgYXN5bmMgZ2V0T2JqZWN0TWV0YWRhdGEoYnVja2V0TmFtZSwga2V5KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBidWNrZXROYW1lLFxuICAgICAgICBLZXk6IGtleVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zMy5oZWFkT2JqZWN0KHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGNvbnRlbnRUeXBlOiByZXN1bHQuQ29udGVudFR5cGUsXG4gICAgICAgICAgY29udGVudExlbmd0aDogcmVzdWx0LkNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgbGFzdE1vZGlmaWVkOiByZXN1bHQuTGFzdE1vZGlmaWVkLFxuICAgICAgICAgIGV0YWc6IHJlc3VsdC5FVGFnLFxuICAgICAgICAgIHN0b3JhZ2VDbGFzczogcmVzdWx0LlN0b3JhZ2VDbGFzcyxcbiAgICAgICAgICBtZXRhZGF0YTogcmVzdWx0Lk1ldGFkYXRhXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1MzIE1ldGFkYXRhIEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBDcmVhdGUgbXVsdGlwYXJ0IHVwbG9hZFxuICBhc3luYyBjcmVhdGVNdWx0aXBhcnRVcGxvYWQoYnVja2V0TmFtZSwga2V5LCBjb250ZW50VHlwZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIEJ1Y2tldDogYnVja2V0TmFtZSxcbiAgICAgICAgS2V5OiBrZXksXG4gICAgICAgIENvbnRlbnRUeXBlOiBjb250ZW50VHlwZVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zMy5jcmVhdGVNdWx0aXBhcnRVcGxvYWQocGFyYW1zKS5wcm9taXNlKCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHVwbG9hZElkOiByZXN1bHQuVXBsb2FkSWRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ011bHRpcGFydCBVcGxvYWQgQ3JlYXRpb24gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG4vLyBVc2FnZSBleGFtcGxlc1xuY29uc3QgczMgPSBuZXcgUzNTZXJ2aWNlKFxuICAneW91ci1hY2Nlc3Mta2V5LWlkJyxcbiAgJ3lvdXItc2VjcmV0LWFjY2Vzcy1rZXknLFxuICAndXMtZWFzdC0xJ1xuKTtcblxuLy8gVXBsb2FkIGEgZmlsZVxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkRXhhbXBsZSgpIHtcbiAgY29uc3QgZmlsZURhdGEgPSBCdWZmZXIuZnJvbSgnSGVsbG8sIFMzIScpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzMy51cGxvYWRGaWxlKCdteS1idWNrZXQnLCAnaGVsbG8udHh0JywgZmlsZURhdGEsIHtcbiAgICBjb250ZW50VHlwZTogJ3RleHQvcGxhaW4nXG4gIH0pO1xuICBcbiAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgY29uc29sZS5sb2coJ0ZpbGUgdXBsb2FkZWQ6JywgcmVzdWx0LmxvY2F0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdVcGxvYWQgZmFpbGVkOicsIHJlc3VsdC5lcnJvcik7XG4gIH1cbn1cblxuLy8gR2VuZXJhdGUgcHJlc2lnbmVkIFVSTFxuYXN5bmMgZnVuY3Rpb24gcHJlc2lnbmVkVXJsRXhhbXBsZSgpIHtcbiAgY29uc3QgcmVzdWx0ID0gczMuZ2V0UHJlc2lnbmVkVXBsb2FkVXJsKCdteS1idWNrZXQnLCAndXBsb2FkLmpwZycsIDMwMCwgJ2ltYWdlL2pwZWcnKTtcbiAgXG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIGNvbnNvbGUubG9nKCdQcmVzaWduZWQgVVJMOicsIHJlc3VsdC51cmwpO1xuICAgIC8vIFVzZSB0aGlzIFVSTCB0byB1cGxvYWQgZGlyZWN0bHkgZnJvbSBicm93c2VyXG4gIH1cbn1cblxuLy8gTGlzdCBvYmplY3RzXG5hc3luYyBmdW5jdGlvbiBsaXN0RXhhbXBsZSgpIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgczMubGlzdE9iamVjdHMoJ215LWJ1Y2tldCcsICd1cGxvYWRzLycpO1xuICBcbiAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgY29uc29sZS5sb2coJ09iamVjdHM6JywgcmVzdWx0Lm9iamVjdHMpO1xuICB9XG59XG5cbnVwbG9hZEV4YW1wbGUoKTtgLFxuICAgICAgICByZWFjdDogYC8vIEFXUyBTMyBSZWFjdCBJbnRlZ3JhdGlvblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFXUyBmcm9tICdhd3Mtc2RrJztcblxuLy8gQ29uZmlndXJlIEFXUyAoZG8gdGhpcyBhdCBhcHAgbGV2ZWwpXG5BV1MuY29uZmlnLnVwZGF0ZSh7XG4gIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5SRUFDVF9BUFBfQVdTX0FDQ0VTU19LRVlfSUQsXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX0FXU19TRUNSRVRfQUNDRVNTX0tFWSxcbiAgcmVnaW9uOiBwcm9jZXNzLmVudi5SRUFDVF9BUFBfQVdTX1JFR0lPTlxufSk7XG5cbmNvbnN0IHMzID0gbmV3IEFXUy5TMygpO1xuXG4vLyBIb29rIGZvciBTMyBvcGVyYXRpb25zXG5jb25zdCB1c2VTMyA9IChidWNrZXROYW1lKSA9PiB7XG4gIGNvbnN0IFt1cGxvYWRpbmcsIHNldFVwbG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkb3dubG9hZFVybCwgc2V0RG93bmxvYWRVcmxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Byb2dyZXNzLCBzZXRQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCB1cGxvYWRGaWxlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZpbGUsIGtleSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgc2V0VXBsb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKCcnKTtcbiAgICBzZXRQcm9ncmVzcygwKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIEJ1Y2tldDogYnVja2V0TmFtZSxcbiAgICAgICAgS2V5OiBrZXkgfHwgZmlsZS5uYW1lLFxuICAgICAgICBCb2R5OiBmaWxlLFxuICAgICAgICBDb250ZW50VHlwZTogZmlsZS50eXBlLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cGxvYWQgPSBzMy51cGxvYWQocGFyYW1zKTtcblxuICAgICAgLy8gVHJhY2sgdXBsb2FkIHByb2dyZXNzXG4gICAgICB1cGxvYWQub24oJ2h0dHBVcGxvYWRQcm9ncmVzcycsIChldnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKChldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSAqIDEwMCk7XG4gICAgICAgIHNldFByb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGxvYWQucHJvbWlzZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBsb2NhdGlvbjogcmVzdWx0LkxvY2F0aW9uLFxuICAgICAgICBrZXk6IHJlc3VsdC5LZXksXG4gICAgICAgIGV0YWc6IHJlc3VsdC5FVGFnXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRVcGxvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2J1Y2tldE5hbWVdKTtcblxuICBjb25zdCBkb3dubG9hZEZpbGUgPSB1c2VDYWxsYmFjayhhc3luYyAoa2V5KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBidWNrZXROYW1lLFxuICAgICAgICBLZXk6IGtleVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgczMuZ2V0T2JqZWN0KHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYmxvYiBVUkwgZm9yIGRvd25sb2FkXG4gICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3Jlc3VsdC5Cb2R5XSwgeyB0eXBlOiByZXN1bHQuQ29udGVudFR5cGUgfSk7XG4gICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgc2V0RG93bmxvYWRVcmwodXJsKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXJsLCBkYXRhOiByZXN1bHQuQm9keSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICAgIH1cbiAgfSwgW2J1Y2tldE5hbWVdKTtcblxuICBjb25zdCBnZXRQcmVzaWduZWRVcmwgPSB1c2VDYWxsYmFjaygoa2V5LCBleHBpcmVzSW4gPSAzMDAsIG9wZXJhdGlvbiA9ICdnZXRPYmplY3QnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBidWNrZXROYW1lLFxuICAgICAgICBLZXk6IGtleSxcbiAgICAgICAgRXhwaXJlczogZXhwaXJlc0luXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBzMy5nZXRTaWduZWRVcmwob3BlcmF0aW9uLCBwYXJhbXMpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXJsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfVxuICB9LCBbYnVja2V0TmFtZV0pO1xuXG4gIGNvbnN0IGxpc3RPYmplY3RzID0gdXNlQ2FsbGJhY2soYXN5bmMgKHByZWZpeCA9ICcnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBidWNrZXROYW1lLFxuICAgICAgICBQcmVmaXg6IHByZWZpeFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgczMubGlzdE9iamVjdHNWMihwYXJhbXMpLnByb21pc2UoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgb2JqZWN0czogcmVzdWx0LkNvbnRlbnRzPy5tYXAob2JqID0+ICh7XG4gICAgICAgICAga2V5OiBvYmouS2V5LFxuICAgICAgICAgIHNpemU6IG9iai5TaXplLFxuICAgICAgICAgIGxhc3RNb2RpZmllZDogb2JqLkxhc3RNb2RpZmllZFxuICAgICAgICB9KSkgfHwgW11cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfVxuICB9LCBbYnVja2V0TmFtZV0pO1xuXG4gIGNvbnN0IGRlbGV0ZUZpbGUgPSB1c2VDYWxsYmFjayhhc3luYyAoa2V5KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBidWNrZXROYW1lLFxuICAgICAgICBLZXk6IGtleVxuICAgICAgfTtcblxuICAgICAgYXdhaXQgczMuZGVsZXRlT2JqZWN0KHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICAgIH1cbiAgfSwgW2J1Y2tldE5hbWVdKTtcblxuICByZXR1cm4ge1xuICAgIHVwbG9hZEZpbGUsXG4gICAgZG93bmxvYWRGaWxlLFxuICAgIGdldFByZXNpZ25lZFVybCxcbiAgICBsaXN0T2JqZWN0cyxcbiAgICBkZWxldGVGaWxlLFxuICAgIHVwbG9hZGluZyxcbiAgICBkb3dubG9hZFVybCxcbiAgICBlcnJvcixcbiAgICBwcm9ncmVzc1xuICB9O1xufTtcblxuLy8gRmlsZSBVcGxvYWQgQ29tcG9uZW50XG5jb25zdCBGaWxlVXBsb2FkZXIgPSAoeyBidWNrZXROYW1lLCBvblVwbG9hZENvbXBsZXRlIH0pID0+IHtcbiAgY29uc3QgeyB1cGxvYWRGaWxlLCB1cGxvYWRpbmcsIHByb2dyZXNzLCBlcnJvciB9ID0gdXNlUzMoYnVja2V0TmFtZSk7XG4gIGNvbnN0IFtkcmFnQWN0aXZlLCBzZXREcmFnQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3QgPSAoZmlsZXMpID0+IHtcbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgdXBsb2FkRmlsZXMoQXJyYXkuZnJvbShmaWxlcykpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGxvYWRGaWxlcyA9IGFzeW5jIChmaWxlcykgPT4ge1xuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBsb2FkRmlsZShmaWxlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiBvblVwbG9hZENvbXBsZXRlKSB7XG4gICAgICAgIG9uVXBsb2FkQ29tcGxldGUocmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRHJhZyA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGUudHlwZSA9PT0gJ2RyYWdlbnRlcicgfHwgZS50eXBlID09PSAnZHJhZ292ZXInKSB7XG4gICAgICBzZXREcmFnQWN0aXZlKHRydWUpO1xuICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAnZHJhZ2xlYXZlJykge1xuICAgICAgc2V0RHJhZ0FjdGl2ZShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyb3AgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHNldERyYWdBY3RpdmUoZmFsc2UpO1xuICAgIFxuICAgIGlmIChlLmRhdGFUcmFuc2Zlci5maWxlcykge1xuICAgICAgaGFuZGxlRmlsZVNlbGVjdChlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXVwbG9hZGVyXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17XFxgdXBsb2FkLWFyZWEgXFwke2RyYWdBY3RpdmUgPyAnZHJhZy1hY3RpdmUnIDogJyd9IFxcJHt1cGxvYWRpbmcgPyAndXBsb2FkaW5nJyA6ICcnfVxcYH1cbiAgICAgICAgb25EcmFnRW50ZXI9e2hhbmRsZURyYWd9XG4gICAgICAgIG9uRHJhZ0xlYXZlPXtoYW5kbGVEcmFnfVxuICAgICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnfVxuICAgICAgICBvbkRyb3A9e2hhbmRsZURyb3B9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxuICAgICAgPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUZpbGVTZWxlY3QoZS50YXJnZXQuZmlsZXMpfVxuICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fVxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgICAge3VwbG9hZGluZyA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVwbG9hZC1wcm9ncmVzc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzcy1iYXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwcm9ncmVzcy1maWxsXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogXFxgXFwke3Byb2dyZXNzfSVcXGAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHA+VXBsb2FkaW5nLi4uIHtwcm9ncmVzc30lPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBsb2FkLXByb21wdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1cGxvYWQtaWNvblwiPvCfk4E8L2Rpdj5cbiAgICAgICAgICAgIDxwPkNsaWNrIG9yIGRyYWcgZmlsZXMgaGVyZSB0byB1cGxvYWQ8L3A+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1cGxvYWQtaGludFwiPlN1cHBvcnRzIGFsbCBmaWxlIHR5cGVzPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxuICAgICAgICAgIEVycm9yOiB7ZXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIEZpbGUgQnJvd3NlciBDb21wb25lbnRcbmNvbnN0IEZpbGVCcm93c2VyID0gKHsgYnVja2V0TmFtZSB9KSA9PiB7XG4gIGNvbnN0IHsgbGlzdE9iamVjdHMsIGRlbGV0ZUZpbGUsIGdldFByZXNpZ25lZFVybCB9ID0gdXNlUzMoYnVja2V0TmFtZSk7XG4gIGNvbnN0IFtvYmplY3RzLCBzZXRPYmplY3RzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRQcmVmaXgsIHNldFNlbGVjdGVkUHJlZml4XSA9IHVzZVN0YXRlKCcnKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRPYmplY3RzKCk7XG4gIH0sIFtzZWxlY3RlZFByZWZpeF0pO1xuXG4gIGNvbnN0IGxvYWRPYmplY3RzID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGlzdE9iamVjdHMoc2VsZWN0ZWRQcmVmaXgpO1xuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2V0T2JqZWN0cyhyZXN1bHQub2JqZWN0cyk7XG4gICAgfVxuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jIChrZXkpID0+IHtcbiAgICBpZiAod2luZG93LmNvbmZpcm0oXFxgRGVsZXRlIFxcJHtrZXl9P1xcYCkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlbGV0ZUZpbGUoa2V5KTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBhd2FpdCBsb2FkT2JqZWN0cygpOyAvLyBSZWZyZXNoIGxpc3RcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG93bmxvYWQgPSBhc3luYyAoa2V5KSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0UHJlc2lnbmVkVXJsKGtleSwgMzAwKTtcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHdpbmRvdy5vcGVuKHJlc3VsdC51cmwsICdfYmxhbmsnKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoYnl0ZXMpID0+IHtcbiAgICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcyc7XG4gICAgY29uc3QgayA9IDEwMjQ7XG4gICAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgIHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLWJyb3dzZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnJvd3Nlci1oZWFkZXJcIj5cbiAgICAgICAgPGgzPkZpbGVzIGluIHtidWNrZXROYW1lfTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJlZml4LWlucHV0XCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRQcmVmaXh9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkUHJlZml4KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRmlsdGVyIGJ5IHByZWZpeC4uLlwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2xvYWRPYmplY3RzfT5SZWZyZXNoPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIj5Mb2FkaW5nIGZpbGVzLi4uPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtbGlzdFwiPlxuICAgICAgICAgIHtvYmplY3RzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1wdHktc3RhdGVcIj5cbiAgICAgICAgICAgICAgTm8gZmlsZXMgZm91bmQge3NlbGVjdGVkUHJlZml4ICYmIFxcYHdpdGggcHJlZml4IFwiXFwke3NlbGVjdGVkUHJlZml4fVwiXFxgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJmaWxlcy10YWJsZVwiPlxuICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoPlNpemU8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoPk1vZGlmaWVkPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aD5BY3Rpb25zPC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAge29iamVjdHMubWFwKChvYmplY3QpID0+IChcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e29iamVjdC5rZXl9PlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiZmlsZS1uYW1lXCI+e29iamVjdC5rZXl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntmb3JtYXRGaWxlU2l6ZShvYmplY3Quc2l6ZSl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntuZXcgRGF0ZShvYmplY3QubGFzdE1vZGlmaWVkKS50b0xvY2FsZURhdGVTdHJpbmcoKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwiZmlsZS1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEb3dubG9hZChvYmplY3Qua2V5KX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBEb3dubG9hZFxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUob2JqZWN0LmtleSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZWxldGUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIE1haW4gUzMgQXBwIENvbXBvbmVudFxuY29uc3QgUzNBcHAgPSAoKSA9PiB7XG4gIGNvbnN0IGJ1Y2tldE5hbWUgPSBwcm9jZXNzLmVudi5SRUFDVF9BUFBfUzNfQlVDS0VUX05BTUU7XG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgndXBsb2FkJyk7XG4gIGNvbnN0IFt1cGxvYWRlZEZpbGVzLCBzZXRVcGxvYWRlZEZpbGVzXSA9IHVzZVN0YXRlKFtdKTtcblxuICBjb25zdCBoYW5kbGVVcGxvYWRDb21wbGV0ZSA9IChyZXN1bHQpID0+IHtcbiAgICBzZXRVcGxvYWRlZEZpbGVzKHByZXYgPT4gWy4uLnByZXYsIHJlc3VsdF0pO1xuICAgIGNvbnNvbGUubG9nKCdGaWxlIHVwbG9hZGVkOicsIHJlc3VsdCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInMzLWFwcFwiPlxuICAgICAgPGhlYWRlcj5cbiAgICAgICAgPGgxPkFXUyBTMyBGaWxlIE1hbmFnZXI8L2gxPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1Y2tldC1pbmZvXCI+QnVja2V0OiB7YnVja2V0TmFtZX08L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYi1uYXZpZ2F0aW9uXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e2FjdGl2ZVRhYiA9PT0gJ3VwbG9hZCcgPyAnYWN0aXZlJyA6ICcnfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYigndXBsb2FkJyl9XG4gICAgICAgID5cbiAgICAgICAgICBVcGxvYWQgRmlsZXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e2FjdGl2ZVRhYiA9PT0gJ2Jyb3dzZScgPyAnYWN0aXZlJyA6ICcnfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignYnJvd3NlJyl9XG4gICAgICAgID5cbiAgICAgICAgICBCcm93c2UgRmlsZXNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWItY29udGVudFwiPlxuICAgICAgICB7YWN0aXZlVGFiID09PSAndXBsb2FkJyA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVwbG9hZC10YWJcIj5cbiAgICAgICAgICAgIDxGaWxlVXBsb2FkZXJcbiAgICAgICAgICAgICAgYnVja2V0TmFtZT17YnVja2V0TmFtZX1cbiAgICAgICAgICAgICAgb25VcGxvYWRDb21wbGV0ZT17aGFuZGxlVXBsb2FkQ29tcGxldGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7dXBsb2FkZWRGaWxlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1cGxvYWQtcmVzdWx0c1wiPlxuICAgICAgICAgICAgICAgIDxoMz5SZWNlbnRseSBVcGxvYWRlZDwvaDM+XG4gICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAge3VwbG9hZGVkRmlsZXMubWFwKChmaWxlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz57ZmlsZS5rZXl9PC9zdHJvbmc+IC0ge2ZpbGUubG9jYXRpb259XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJicm93c2UtdGFiXCI+XG4gICAgICAgICAgICA8RmlsZUJyb3dzZXIgYnVja2V0TmFtZT17YnVja2V0TmFtZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUzNBcHA7XG5cbi8vIEVudmlyb25tZW50IHZhcmlhYmxlcyBuZWVkZWQgKC5lbnYpOlxuLy8gUkVBQ1RfQVBQX0FXU19BQ0NFU1NfS0VZX0lEPXlvdXJfYWNjZXNzX2tleV9pZFxuLy8gUkVBQ1RfQVBQX0FXU19TRUNSRVRfQUNDRVNTX0tFWT15b3VyX3NlY3JldF9hY2Nlc3Nfa2V5XG4vLyBSRUFDVF9BUFBfQVdTX1JFR0lPTj11cy1lYXN0LTFcbi8vIFJFQUNUX0FQUF9TM19CVUNLRVRfTkFNRT15b3VyLWJ1Y2tldC1uYW1lYFxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBBSS9NTCBBUElTXG4gIHtcbiAgICBpZDogJ29wZW5haScsXG4gICAgc2x1ZzogJ29wZW5haScsXG4gICAgbmFtZTogJ09wZW5BSScsXG4gICAgY2F0ZWdvcnk6ICdBSS9NTCcsXG4gICAgZGVzY3JpcHRpb246ICdBZHZhbmNlZCBBSSBjYXBhYmlsaXRpZXMgaW5jbHVkaW5nIEdQVCBtb2RlbHMsIGVtYmVkZGluZ3MsIGFuZCBpbWFnZSBnZW5lcmF0aW9uIHdpdGggREFMTC1FLicsXG4gICAgaWNvbjogJ/CfpJYnLFxuICAgIGZlYXR1cmVzOiBbXG4gICAgICAnR1BULTQgQ2hhdCBDb21wbGV0aW9ucycsXG4gICAgICAnVGV4dCBFbWJlZGRpbmdzJyxcbiAgICAgICdEQUxMLUUgSW1hZ2UgR2VuZXJhdGlvbicsXG4gICAgICAnV2hpc3BlciBTcGVlY2gtdG8tVGV4dCcsXG4gICAgICAnRnVuY3Rpb24gQ2FsbGluZycsXG4gICAgICAnRmluZS10dW5pbmcgU3VwcG9ydCdcbiAgICBdLFxuICAgIHBvcHVsYXJpdHk6IDk5LFxuICAgIGRvY3VtZW50YXRpb246ICdodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcycsXG4gICAgY29kZVRlbXBsYXRlczoge1xuICAgICAgamF2YXNjcmlwdDoge1xuICAgICAgICB2YW5pbGxhOiBgLy8gT3BlbkFJIEFQSSBJbnRlZ3JhdGlvblxuY29uc3QgT3BlbkFJID0gcmVxdWlyZSgnb3BlbmFpJyk7XG5cbmNsYXNzIE9wZW5BSVNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihhcGlLZXkpIHtcbiAgICB0aGlzLm9wZW5haSA9IG5ldyBPcGVuQUkoe1xuICAgICAgYXBpS2V5OiBhcGlLZXlcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHRleHQgY29tcGxldGlvbiB1c2luZyBHUFRcbiAgYXN5bmMgZ2VuZXJhdGVDb21wbGV0aW9uKHByb21wdCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCB0aGlzLm9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsIHx8ICdncHQtNCcsXG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb25zLnN5c3RlbU1lc3NhZ2UgfHwgJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG1heF90b2tlbnM6IG9wdGlvbnMubWF4VG9rZW5zIHx8IDE1MCxcbiAgICAgICAgdGVtcGVyYXR1cmU6IG9wdGlvbnMudGVtcGVyYXR1cmUgfHwgMC43LFxuICAgICAgICB0b3BfcDogb3B0aW9ucy50b3BQIHx8IDEsXG4gICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiBvcHRpb25zLmZyZXF1ZW5jeVBlbmFsdHkgfHwgMCxcbiAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogb3B0aW9ucy5wcmVzZW5jZVBlbmFsdHkgfHwgMFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRleHQ6IGNvbXBsZXRpb24uY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgIHVzYWdlOiBjb21wbGV0aW9uLnVzYWdlLFxuICAgICAgICBtb2RlbDogY29tcGxldGlvbi5tb2RlbFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignT3BlbkFJIENvbXBsZXRpb24gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHN0cmVhbWluZyBjb21wbGV0aW9uXG4gIGFzeW5jIGdlbmVyYXRlU3RyZWFtaW5nQ29tcGxldGlvbihwcm9tcHQsIG9uQ2h1bmssIG9wdGlvbnMgPSB7fSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLm9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsIHx8ICdncHQtNCcsXG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb25zLnN5c3RlbU1lc3NhZ2UgfHwgJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG1heF90b2tlbnM6IG9wdGlvbnMubWF4VG9rZW5zIHx8IDE1MCxcbiAgICAgICAgdGVtcGVyYXR1cmU6IG9wdGlvbnMudGVtcGVyYXR1cmUgfHwgMC43LFxuICAgICAgICBzdHJlYW06IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgZnVsbFRleHQgPSAnJztcbiAgICAgIFxuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNodW5rLmNob2ljZXNbMF0/LmRlbHRhPy5jb250ZW50IHx8ICcnO1xuICAgICAgICBmdWxsVGV4dCArPSBjb250ZW50O1xuICAgICAgICBcbiAgICAgICAgaWYgKG9uQ2h1bmspIHtcbiAgICAgICAgICBvbkNodW5rKGNvbnRlbnQsIGZ1bGxUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0ZXh0OiBmdWxsVGV4dFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignT3BlbkFJIFN0cmVhbWluZyBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgdGV4dCBlbWJlZGRpbmdzXG4gIGFzeW5jIGdlbmVyYXRlRW1iZWRkaW5ncyh0ZXh0cywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRleHRzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRleHRzKSA/IHRleHRzIDogW3RleHRzXTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm9wZW5haS5lbWJlZGRpbmdzLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsIHx8ICd0ZXh0LWVtYmVkZGluZy1hZGEtMDAyJyxcbiAgICAgICAgaW5wdXQ6IHRleHRzQXJyYXlcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBlbWJlZGRpbmdzOiByZXNwb25zZS5kYXRhLm1hcChpdGVtID0+IGl0ZW0uZW1iZWRkaW5nKSxcbiAgICAgICAgdXNhZ2U6IHJlc3BvbnNlLnVzYWdlXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdPcGVuQUkgRW1iZWRkaW5ncyBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgaW1hZ2VzIHdpdGggREFMTC1FXG4gIGFzeW5jIGdlbmVyYXRlSW1hZ2UocHJvbXB0LCBvcHRpb25zID0ge30pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm9wZW5haS5pbWFnZXMuZ2VuZXJhdGUoe1xuICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCB8fCAnZGFsbC1lLTMnLFxuICAgICAgICBwcm9tcHQ6IHByb21wdCxcbiAgICAgICAgbjogb3B0aW9ucy5uIHx8IDEsXG4gICAgICAgIHNpemU6IG9wdGlvbnMuc2l6ZSB8fCAnMTAyNHgxMDI0JyxcbiAgICAgICAgcXVhbGl0eTogb3B0aW9ucy5xdWFsaXR5IHx8ICdzdGFuZGFyZCcsXG4gICAgICAgIHN0eWxlOiBvcHRpb25zLnN0eWxlIHx8ICd2aXZpZCdcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBpbWFnZXM6IHJlc3BvbnNlLmRhdGEubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgICB1cmw6IGl0ZW0udXJsLFxuICAgICAgICAgIHJldmlzZWRfcHJvbXB0OiBpdGVtLnJldmlzZWRfcHJvbXB0XG4gICAgICAgIH0pKVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignT3BlbkFJIEltYWdlIEdlbmVyYXRpb24gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIFRyYW5zY3JpYmUgYXVkaW8gd2l0aCBXaGlzcGVyXG4gIGFzeW5jIHRyYW5zY3JpYmVBdWRpbyhhdWRpb0ZpbGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0cmFuc2NyaXB0aW9uID0gYXdhaXQgdGhpcy5vcGVuYWkuYXVkaW8udHJhbnNjcmlwdGlvbnMuY3JlYXRlKHtcbiAgICAgICAgZmlsZTogYXVkaW9GaWxlLFxuICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCB8fCAnd2hpc3Blci0xJyxcbiAgICAgICAgbGFuZ3VhZ2U6IG9wdGlvbnMubGFuZ3VhZ2UsXG4gICAgICAgIHByb21wdDogb3B0aW9ucy5wcm9tcHQsXG4gICAgICAgIHJlc3BvbnNlX2Zvcm1hdDogb3B0aW9ucy5yZXNwb25zZUZvcm1hdCB8fCAnanNvbicsXG4gICAgICAgIHRlbXBlcmF0dXJlOiBvcHRpb25zLnRlbXBlcmF0dXJlIHx8IDBcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0ZXh0OiB0cmFuc2NyaXB0aW9uLnRleHQsXG4gICAgICAgIGxhbmd1YWdlOiB0cmFuc2NyaXB0aW9uLmxhbmd1YWdlXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdPcGVuQUkgVHJhbnNjcmlwdGlvbiBFcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgc3BlZWNoIGZyb20gdGV4dFxuICBhc3luYyBnZW5lcmF0ZVNwZWVjaCh0ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbXAzID0gYXdhaXQgdGhpcy5vcGVuYWkuYXVkaW8uc3BlZWNoLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsIHx8ICd0dHMtMScsXG4gICAgICAgIHZvaWNlOiBvcHRpb25zLnZvaWNlIHx8ICdhbGxveScsXG4gICAgICAgIGlucHV0OiB0ZXh0LFxuICAgICAgICByZXNwb25zZV9mb3JtYXQ6IG9wdGlvbnMucmVzcG9uc2VGb3JtYXQgfHwgJ21wMycsXG4gICAgICAgIHNwZWVkOiBvcHRpb25zLnNwZWVkIHx8IDEuMFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGF3YWl0IG1wMy5hcnJheUJ1ZmZlcigpKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgYXVkaW86IGJ1ZmZlclxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignT3BlbkFJIFNwZWVjaCBHZW5lcmF0aW9uIEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiBjYWxsaW5nIHdpdGggR1BUXG4gIGFzeW5jIGNhbGxGdW5jdGlvbihwcm9tcHQsIGZ1bmN0aW9ucywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCB0aGlzLm9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsIHx8ICdncHQtNCcsXG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb25zLnN5c3RlbU1lc3NhZ2UgfHwgJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCB0aGF0IGNhbiBjYWxsIGZ1bmN0aW9ucy4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGZ1bmN0aW9uczogZnVuY3Rpb25zLFxuICAgICAgICBmdW5jdGlvbl9jYWxsOiBvcHRpb25zLmZ1bmN0aW9uQ2FsbCB8fCAnYXV0bycsXG4gICAgICAgIHRlbXBlcmF0dXJlOiBvcHRpb25zLnRlbXBlcmF0dXJlIHx8IDAuMVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZTtcblxuICAgICAgaWYgKG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZnVuY3Rpb25DYWxsOiB7XG4gICAgICAgICAgICBuYW1lOiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGwubmFtZSxcbiAgICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5wYXJzZShtZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVzc2FnZTogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgIHVzYWdlOiBjb21wbGV0aW9uLnVzYWdlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgdXNhZ2U6IGNvbXBsZXRpb24udXNhZ2VcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09wZW5BSSBGdW5jdGlvbiBDYWxsIEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBDaGF0IHdpdGggY29udmVyc2F0aW9uIGhpc3RvcnlcbiAgYXN5bmMgY2hhdChtZXNzYWdlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCB0aGlzLm9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsIHx8ICdncHQtNCcsXG4gICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgbWF4X3Rva2Vuczogb3B0aW9ucy5tYXhUb2tlbnMgfHwgMTUwLFxuICAgICAgICB0ZW1wZXJhdHVyZTogb3B0aW9ucy50ZW1wZXJhdHVyZSB8fCAwLjdcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZU1lc3NhZ2UgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VNZXNzYWdlLFxuICAgICAgICB1c2FnZTogY29tcGxldGlvbi51c2FnZSxcbiAgICAgICAgbW9kZWw6IGNvbXBsZXRpb24ubW9kZWxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09wZW5BSSBDaGF0IEVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVXNhZ2UgZXhhbXBsZXNcbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUlTZXJ2aWNlKCd5b3VyLW9wZW5haS1hcGkta2V5Jyk7XG5cbi8vIEdlbmVyYXRlIGEgY29tcGxldGlvblxuYXN5bmMgZnVuY3Rpb24gY29tcGxldGlvbkV4YW1wbGUoKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5haS5nZW5lcmF0ZUNvbXBsZXRpb24oXG4gICAgJ1dyaXRlIGEgc2hvcnQgc3RvcnkgYWJvdXQgYSByb2JvdCBsZWFybmluZyB0byBwYWludC4nLFxuICAgIHtcbiAgICAgIG1vZGVsOiAnZ3B0LTQnLFxuICAgICAgbWF4VG9rZW5zOiAyMDAsXG4gICAgICB0ZW1wZXJhdHVyZTogMC44XG4gICAgfVxuICApO1xuXG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIGNvbnNvbGUubG9nKCdHZW5lcmF0ZWQgdGV4dDonLCByZXN1bHQudGV4dCk7XG4gICAgY29uc29sZS5sb2coJ1Rva2VucyB1c2VkOicsIHJlc3VsdC51c2FnZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgcmVzdWx0LmVycm9yKTtcbiAgfVxufVxuXG4vLyBHZW5lcmF0ZSBlbWJlZGRpbmdzXG5hc3luYyBmdW5jdGlvbiBlbWJlZGRpbmdzRXhhbXBsZSgpIHtcbiAgY29uc3QgdGV4dHMgPSBbXG4gICAgJ1RoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnLFxuICAgICdNYWNoaW5lIGxlYXJuaW5nIGlzIGEgc3Vic2V0IG9mIGFydGlmaWNpYWwgaW50ZWxsaWdlbmNlJyxcbiAgICAnSmF2YVNjcmlwdCBpcyBhIHByb2dyYW1taW5nIGxhbmd1YWdlJ1xuICBdO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5haS5nZW5lcmF0ZUVtYmVkZGluZ3ModGV4dHMpO1xuXG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIGNvbnNvbGUubG9nKCdFbWJlZGRpbmdzIGdlbmVyYXRlZDonLCByZXN1bHQuZW1iZWRkaW5ncy5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKCdGaXJzdCBlbWJlZGRpbmcgZGltZW5zaW9uOicsIHJlc3VsdC5lbWJlZGRpbmdzWzBdLmxlbmd0aCk7XG4gIH1cbn1cblxuLy8gR2VuZXJhdGUgaW1hZ2VcbmFzeW5jIGZ1bmN0aW9uIGltYWdlRXhhbXBsZSgpIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlbmFpLmdlbmVyYXRlSW1hZ2UoXG4gICAgJ0Egc2VyZW5lIGxhbmRzY2FwZSB3aXRoIG1vdW50YWlucyBhbmQgYSBsYWtlIGF0IHN1bnNldCcsXG4gICAge1xuICAgICAgc2l6ZTogJzEwMjR4MTAyNCcsXG4gICAgICBxdWFsaXR5OiAnaGQnLFxuICAgICAgbjogMVxuICAgIH1cbiAgKTtcblxuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICBjb25zb2xlLmxvZygnSW1hZ2UgVVJMOicsIHJlc3VsdC5pbWFnZXNbMF0udXJsKTtcbiAgfVxufVxuXG4vLyBTdHJlYW1pbmcgY29tcGxldGlvblxuYXN5bmMgZnVuY3Rpb24gc3RyZWFtaW5nRXhhbXBsZSgpIHtcbiAgY29uc29sZS5sb2coJ1N0cmVhbWluZyByZXNwb25zZTonKTtcbiAgXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5haS5nZW5lcmF0ZVN0cmVhbWluZ0NvbXBsZXRpb24oXG4gICAgJ0V4cGxhaW4gcXVhbnR1bSBjb21wdXRpbmcgaW4gc2ltcGxlIHRlcm1zLicsXG4gICAgKGNodW5rLCBmdWxsVGV4dCkgPT4ge1xuICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoY2h1bmspO1xuICAgIH0sXG4gICAge1xuICAgICAgbW9kZWw6ICdncHQtNCcsXG4gICAgICBtYXhUb2tlbnM6IDIwMFxuICAgIH1cbiAgKTtcblxuICBjb25zb2xlLmxvZygnXFxcXG5TdHJlYW1pbmcgY29tcGxldGU6JywgcmVzdWx0LnN1Y2Nlc3MpO1xufVxuXG4vLyBGdW5jdGlvbiBjYWxsaW5nIGV4YW1wbGVcbmFzeW5jIGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbEV4YW1wbGUoKSB7XG4gIGNvbnN0IGZ1bmN0aW9ucyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiAnZ2V0X3dlYXRoZXInLFxuICAgICAgZGVzY3JpcHRpb246ICdHZXQgdGhlIGN1cnJlbnQgd2VhdGhlciBmb3IgYSBsb2NhdGlvbicsXG4gICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgY2l0eSBhbmQgc3RhdGUsIGUuZy4gU2FuIEZyYW5jaXNjbywgQ0EnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogWydsb2NhdGlvbiddXG4gICAgICB9XG4gICAgfVxuICBdO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW5haS5jYWxsRnVuY3Rpb24oXG4gICAgJ1doYXRcXCdzIHRoZSB3ZWF0aGVyIGxpa2UgaW4gTmV3IFlvcms/JyxcbiAgICBmdW5jdGlvbnNcbiAgKTtcblxuICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmZ1bmN0aW9uQ2FsbCkge1xuICAgIGNvbnNvbGUubG9nKCdGdW5jdGlvbiB0byBjYWxsOicsIHJlc3VsdC5mdW5jdGlvbkNhbGwubmFtZSk7XG4gICAgY29uc29sZS5sb2coJ0FyZ3VtZW50czonLCByZXN1bHQuZnVuY3Rpb25DYWxsLmFyZ3VtZW50cyk7XG4gIH1cbn1cblxuY29tcGxldGlvbkV4YW1wbGUoKTtgLFxuICAgICAgICByZWFjdDogYC8vIE9wZW5BSSBSZWFjdCBJbnRlZ3JhdGlvblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcblxuLy8gT3BlbkFJIEhvb2tcbmNvbnN0IHVzZU9wZW5BSSA9IChhcGlLZXkpID0+IHtcbiAgY29uc3QgW2NsaWVudCwgc2V0Q2xpZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFwaUtleSkge1xuICAgICAgY29uc3Qgb3BlbmFpQ2xpZW50ID0gbmV3IE9wZW5BSSh7XG4gICAgICAgIGFwaUtleTogYXBpS2V5LFxuICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSAvLyBPbmx5IGZvciBkZW1vIC0gdXNlIHNlcnZlci1zaWRlIGluIHByb2R1Y3Rpb25cbiAgICAgIH0pO1xuICAgICAgc2V0Q2xpZW50KG9wZW5haUNsaWVudCk7XG4gICAgfVxuICB9LCBbYXBpS2V5XSk7XG5cbiAgY29uc3QgZ2VuZXJhdGVDb21wbGV0aW9uID0gYXN5bmMgKHByb21wdCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFjbGllbnQpIHRocm93IG5ldyBFcnJvcignT3BlbkFJIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IoJycpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICBtb2RlbDogb3B0aW9ucy5tb2RlbCB8fCAnZ3B0LTMuNS10dXJibycsXG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICBjb250ZW50OiBvcHRpb25zLnN5c3RlbU1lc3NhZ2UgfHwgJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBwcm9tcHRcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG1heF90b2tlbnM6IG9wdGlvbnMubWF4VG9rZW5zIHx8IDE1MCxcbiAgICAgICAgdGVtcGVyYXR1cmU6IG9wdGlvbnMudGVtcGVyYXR1cmUgfHwgMC43XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdGV4dDogY29tcGxldGlvbi5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgdXNhZ2U6IGNvbXBsZXRpb24udXNhZ2VcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZW5lcmF0ZUltYWdlID0gYXN5bmMgKHByb21wdCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKCFjbGllbnQpIHRocm93IG5ldyBFcnJvcignT3BlbkFJIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IoJycpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmltYWdlcy5nZW5lcmF0ZSh7XG4gICAgICAgIG1vZGVsOiAnZGFsbC1lLTInLCAvLyBVc2UgZGFsbC1lLTIgZm9yIGJyb3dzZXIgY29tcGF0aWJpbGl0eVxuICAgICAgICBwcm9tcHQ6IHByb21wdCxcbiAgICAgICAgbjogb3B0aW9ucy5uIHx8IDEsXG4gICAgICAgIHNpemU6IG9wdGlvbnMuc2l6ZSB8fCAnNTEyeDUxMidcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBpbWFnZXM6IHJlc3BvbnNlLmRhdGEubWFwKGl0ZW0gPT4gKHsgdXJsOiBpdGVtLnVybCB9KSlcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGdlbmVyYXRlQ29tcGxldGlvbixcbiAgICBnZW5lcmF0ZUltYWdlLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgaXNSZWFkeTogISFjbGllbnRcbiAgfTtcbn07XG5cbi8vIENoYXQgQ29tcG9uZW50XG5jb25zdCBDaGF0Q29tcG9uZW50ID0gKHsgYXBpS2V5IH0pID0+IHtcbiAgY29uc3QgeyBnZW5lcmF0ZUNvbXBsZXRpb24sIGxvYWRpbmcsIGVycm9yIH0gPSB1c2VPcGVuQUkoYXBpS2V5KTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtpbnB1dCwgc2V0SW5wdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZihudWxsKTtcblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNjcm9sbFRvQm90dG9tKCk7XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFpbnB1dC50cmltKCkgfHwgbG9hZGluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSB7IHJvbGU6ICd1c2VyJywgY29udGVudDogaW5wdXQgfTtcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB1c2VyTWVzc2FnZV0pO1xuICAgIHNldElucHV0KCcnKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdlbmVyYXRlQ29tcGxldGlvbihpbnB1dCwge1xuICAgICAgbW9kZWw6ICdncHQtMy41LXR1cmJvJyxcbiAgICAgIG1heFRva2VuczogMjAwLFxuICAgICAgdGVtcGVyYXR1cmU6IDAuN1xuICAgIH0pO1xuXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlID0geyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogcmVzdWx0LnRleHQgfTtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGFzc2lzdGFudE1lc3NhZ2VdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0geyByb2xlOiAnZXJyb3InLCBjb250ZW50OiBcXGBFcnJvcjogXFwke3Jlc3VsdC5lcnJvcn1cXGAgfTtcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGVycm9yTWVzc2FnZV0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1jb21wb25lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXJcIj5cbiAgICAgICAgPGgzPkFJIENoYXQgQXNzaXN0YW50PC9oMz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibW9kZWwtaW5mb1wiPkdQVC0zLjUgVHVyYm88L3NwYW4+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LW1lc3NhZ2VzXCI+XG4gICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgPHA+U3RhcnQgYSBjb252ZXJzYXRpb24gd2l0aCB0aGUgQUkgYXNzaXN0YW50ITwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17XFxgbWVzc2FnZSBtZXNzYWdlLVxcJHttZXNzYWdlLnJvbGV9XFxgfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICB7bWVzc2FnZS5jb250ZW50fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXJvbGVcIj57bWVzc2FnZS5yb2xlfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSlcbiAgICAgICAgKX1cbiAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZSBtZXNzYWdlLWFzc2lzdGFudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0eXBpbmctaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17c2VuZE1lc3NhZ2V9IGNsYXNzTmFtZT1cImNoYXQtaW5wdXRcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXtpbnB1dH1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgeW91ciBtZXNzYWdlLi4uXCJcbiAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgLz5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIWlucHV0LnRyaW0oKX0+XG4gICAgICAgICAgU2VuZFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cblxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBJbWFnZSBHZW5lcmF0aW9uIENvbXBvbmVudFxuY29uc3QgSW1hZ2VHZW5lcmF0b3IgPSAoeyBhcGlLZXkgfSkgPT4ge1xuICBjb25zdCB7IGdlbmVyYXRlSW1hZ2UsIGxvYWRpbmcsIGVycm9yIH0gPSB1c2VPcGVuQUkoYXBpS2V5KTtcbiAgY29uc3QgW3Byb21wdCwgc2V0UHJvbXB0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2dlbmVyYXRlZEltYWdlcywgc2V0R2VuZXJhdGVkSW1hZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ltYWdlU2l6ZSwgc2V0SW1hZ2VTaXplXSA9IHVzZVN0YXRlKCc1MTJ4NTEyJyk7XG5cbiAgY29uc3QgZ2VuZXJhdGVJbWFnZXMgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXByb21wdC50cmltKCkgfHwgbG9hZGluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGVJbWFnZShwcm9tcHQsIHtcbiAgICAgIHNpemU6IGltYWdlU2l6ZSxcbiAgICAgIG46IDFcbiAgICB9KTtcblxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2V0R2VuZXJhdGVkSW1hZ2VzKHByZXYgPT4gWy4uLnByZXYsIHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICB1cmw6IHJlc3VsdC5pbWFnZXNbMF0udXJsLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH1dKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImltYWdlLWdlbmVyYXRvclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZW5lcmF0b3ItaGVhZGVyXCI+XG4gICAgICAgIDxoMz5BSSBJbWFnZSBHZW5lcmF0b3I8L2gzPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtb2RlbC1pbmZvXCI+REFMTC1FIDI8L3NwYW4+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2dlbmVyYXRlSW1hZ2VzfSBjbGFzc05hbWU9XCJnZW5lcmF0b3ItZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHZhbHVlPXtwcm9tcHR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb21wdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaWJlIHRoZSBpbWFnZSB5b3Ugd2FudCB0byBnZW5lcmF0ZS4uLlwiXG4gICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGxhYmVsPkltYWdlIFNpemU6PC9sYWJlbD5cbiAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICB2YWx1ZT17aW1hZ2VTaXplfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbWFnZVNpemUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjI1NngyNTZcIj4yNTZ4MjU2PC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiNTEyeDUxMlwiPjUxMng1MTI8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIxMDI0eDEwMjRcIj4xMDI0eDEwMjQ8L29wdGlvbj5cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIXByb21wdC50cmltKCl9PlxuICAgICAgICAgIHtsb2FkaW5nID8gJ0dlbmVyYXRpbmcuLi4nIDogJ0dlbmVyYXRlIEltYWdlJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG5cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxuICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdlbmVyYXRlZC1pbWFnZXNcIj5cbiAgICAgICAge2dlbmVyYXRlZEltYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgPHA+R2VuZXJhdGVkIGltYWdlcyB3aWxsIGFwcGVhciBoZXJlPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2VzLWdyaWRcIj5cbiAgICAgICAgICAgIHtnZW5lcmF0ZWRJbWFnZXMubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImltYWdlLWNhcmRcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz17aXRlbS51cmx9IGFsdD17aXRlbS5wcm9tcHR9IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbWFnZS1pbmZvXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJpbWFnZS1wcm9tcHRcIj57aXRlbS5wcm9tcHR9PC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaW1hZ2UtdGltZXN0YW1wXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpdGVtLnRpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gVGV4dCBDb21wbGV0aW9uIENvbXBvbmVudFxuY29uc3QgVGV4dENvbXBsZXRpb24gPSAoeyBhcGlLZXkgfSkgPT4ge1xuICBjb25zdCB7IGdlbmVyYXRlQ29tcGxldGlvbiwgbG9hZGluZywgZXJyb3IgfSA9IHVzZU9wZW5BSShhcGlLZXkpO1xuICBjb25zdCBbcHJvbXB0LCBzZXRQcm9tcHRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY29tcGxldGlvbiwgc2V0Q29tcGxldGlvbl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFttb2RlbCwgc2V0TW9kZWxdID0gdXNlU3RhdGUoJ2dwdC0zLjUtdHVyYm8nKTtcbiAgY29uc3QgW3RlbXBlcmF0dXJlLCBzZXRUZW1wZXJhdHVyZV0gPSB1c2VTdGF0ZSgwLjcpO1xuICBjb25zdCBbbWF4VG9rZW5zLCBzZXRNYXhUb2tlbnNdID0gdXNlU3RhdGUoMTUwKTtcblxuICBjb25zdCBnZW5lcmF0ZVRleHQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXByb21wdC50cmltKCkgfHwgbG9hZGluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGVDb21wbGV0aW9uKHByb21wdCwge1xuICAgICAgbW9kZWwsXG4gICAgICB0ZW1wZXJhdHVyZSxcbiAgICAgIG1heFRva2Vuc1xuICAgIH0pO1xuXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdC50ZXh0KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gKCkgPT4ge1xuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvbXBsZXRpb24pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNvbXBsZXRpb25cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tcGxldGlvbi1oZWFkZXJcIj5cbiAgICAgICAgPGgzPlRleHQgQ29tcGxldGlvbjwvaDM+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1vZGVsLWluZm9cIj57bW9kZWx9PC9zcGFuPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtnZW5lcmF0ZVRleHR9IGNsYXNzTmFtZT1cImNvbXBsZXRpb24tZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8bGFiZWw+UHJvbXB0OjwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICB2YWx1ZT17cHJvbXB0fVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9tcHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB5b3VyIHByb21wdCBoZXJlLi4uXCJcbiAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tcm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWw+TW9kZWw6PC9sYWJlbD5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgdmFsdWU9e21vZGVsfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1vZGVsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJncHQtMy41LXR1cmJvXCI+R1BULTMuNSBUdXJibzwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ3B0LTRcIj5HUFQtNDwvb3B0aW9uPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbD5UZW1wZXJhdHVyZToge3RlbXBlcmF0dXJlfTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgIG1heD1cIjJcIlxuICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3RlbXBlcmF0dXJlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRlbXBlcmF0dXJlKHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWw+TWF4IFRva2Vuczo8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgbWF4PVwiNDAwMFwiXG4gICAgICAgICAgICAgIHZhbHVlPXttYXhUb2tlbnN9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TWF4VG9rZW5zKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIXByb21wdC50cmltKCl9PlxuICAgICAgICAgIHtsb2FkaW5nID8gJ0dlbmVyYXRpbmcuLi4nIDogJ0dlbmVyYXRlJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG5cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxuICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7Y29tcGxldGlvbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tcGxldGlvbi1yZXN1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3VsdC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoND5HZW5lcmF0ZWQgVGV4dDo8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtjb3B5VG9DbGlwYm9hcmR9IGNsYXNzTmFtZT1cImNvcHktYnV0dG9uXCI+XG4gICAgICAgICAgICAgIENvcHlcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVzdWx0LWNvbnRlbnRcIj5cbiAgICAgICAgICAgIHtjb21wbGV0aW9ufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBNYWluIE9wZW5BSSBBcHBcbmNvbnN0IE9wZW5BSUFwcCA9ICgpID0+IHtcbiAgY29uc3QgW2FwaUtleSwgc2V0QXBpS2V5XSA9IHVzZVN0YXRlKHByb2Nlc3MuZW52LlJFQUNUX0FQUF9PUEVOQUlfQVBJX0tFWSB8fCAnJyk7XG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgnY2hhdCcpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJvcGVuYWktYXBwXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImFwcC1oZWFkZXJcIj5cbiAgICAgICAgPGgxPk9wZW5BSSBJbnRlZ3JhdGlvbiBEZW1vPC9oMT5cbiAgICAgICAgXG4gICAgICAgIHshcHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX09QRU5BSV9BUElfS0VZICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwaS1rZXktaW5wdXRcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIE9wZW5BSSBBUEkgS2V5XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2FwaUtleX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBcGlLZXkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYi1uYXZpZ2F0aW9uXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e2FjdGl2ZVRhYiA9PT0gJ2NoYXQnID8gJ2FjdGl2ZScgOiAnJ31cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ2NoYXQnKX1cbiAgICAgICAgPlxuICAgICAgICAgIENoYXRcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e2FjdGl2ZVRhYiA9PT0gJ2NvbXBsZXRpb24nID8gJ2FjdGl2ZScgOiAnJ31cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ2NvbXBsZXRpb24nKX1cbiAgICAgICAgPlxuICAgICAgICAgIFRleHQgQ29tcGxldGlvblxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT17YWN0aXZlVGFiID09PSAnaW1hZ2VzJyA/ICdhY3RpdmUnIDogJyd9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdpbWFnZXMnKX1cbiAgICAgICAgPlxuICAgICAgICAgIEltYWdlIEdlbmVyYXRpb25cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWItY29udGVudFwiPlxuICAgICAgICB7YWN0aXZlVGFiID09PSAnY2hhdCcgJiYgPENoYXRDb21wb25lbnQgYXBpS2V5PXthcGlLZXl9IC8+fVxuICAgICAgICB7YWN0aXZlVGFiID09PSAnY29tcGxldGlvbicgJiYgPFRleHRDb21wbGV0aW9uIGFwaUtleT17YXBpS2V5fSAvPn1cbiAgICAgICAge2FjdGl2ZVRhYiA9PT0gJ2ltYWdlcycgJiYgPEltYWdlR2VuZXJhdG9yIGFwaUtleT17YXBpS2V5fSAvPn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgT3BlbkFJQXBwO1xuXG4vLyBFbnZpcm9ubWVudCB2YXJpYWJsZXMgbmVlZGVkICguZW52KTpcbi8vIFJFQUNUX0FQUF9PUEVOQUlfQVBJX0tFWT15b3VyX29wZW5haV9hcGlfa2V5X2hlcmVcblxuLy8gTm90ZTogSW4gcHJvZHVjdGlvbiwgQVBJIGNhbGxzIHNob3VsZCBiZSBtYWRlIGZyb20geW91ciBiYWNrZW5kXG4vLyB0byBrZWVwIHRoZSBBUEkga2V5IHNlY3VyZS4gVGhpcyBpcyBmb3IgZGVtb25zdHJhdGlvbiBwdXJwb3Nlcy5gXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLyBBZGQgbW9yZSBBUEkgdGVtcGxhdGVzIGhlcmUgZm9yIHRoZSByZW1haW5pbmcgY2F0ZWdvcmllcy4uLlxuXVxuXG5leHBvcnQgY29uc3QgY2F0ZWdvcmllczogQ2F0ZWdvcnlbXSA9IFtcbiAge1xuICAgIGlkOiAncGF5bWVudCcsXG4gICAgbmFtZTogJ1BheW1lbnQgUHJvY2Vzc2luZycsXG4gICAgZGVzY3JpcHRpb246ICdBY2NlcHQgcGF5bWVudHMsIG1hbmFnZSBzdWJzY3JpcHRpb25zLCBhbmQgaGFuZGxlIHRyYW5zYWN0aW9ucyBzZWN1cmVseS4nLFxuICAgIGNvdW50OiAxNSxcbiAgICBwb3B1bGFyQVBJczogWydTdHJpcGUnLCAnUGF5UGFsJywgJ1NxdWFyZSddXG4gIH0sXG4gIHtcbiAgICBpZDogJ2F1dGgnLFxuICAgIG5hbWU6ICdBdXRoZW50aWNhdGlvbicsXG4gICAgZGVzY3JpcHRpb246ICdTZWN1cmUgdXNlciBhdXRoZW50aWNhdGlvbiwgT0F1dGgsIGFuZCBpZGVudGl0eSBtYW5hZ2VtZW50LicsXG4gICAgY291bnQ6IDIwLFxuICAgIHBvcHVsYXJBUElzOiBbJ0F1dGgwJywgJ0ZpcmViYXNlIEF1dGgnLCAnR29vZ2xlIE9BdXRoJ11cbiAgfSxcbiAge1xuICAgIGlkOiAnc3RvcmFnZScsXG4gICAgbmFtZTogJ0Nsb3VkIFN0b3JhZ2UnLFxuICAgIGRlc2NyaXB0aW9uOiAnU3RvcmUsIG1hbmFnZSwgYW5kIGRlbGl2ZXIgZmlsZXMgYW5kIG1lZGlhIGNvbnRlbnQuJyxcbiAgICBjb3VudDogMTIsXG4gICAgcG9wdWxhckFQSXM6IFsnQVdTIFMzJywgJ0dvb2dsZSBDbG91ZCcsICdDbG91ZGluYXJ5J11cbiAgfSxcbiAge1xuICAgIGlkOiAnYWknLFxuICAgIG5hbWU6ICdBSS9NTCcsXG4gICAgZGVzY3JpcHRpb246ICdJbnRlZ3JhdGUgYXJ0aWZpY2lhbCBpbnRlbGxpZ2VuY2UgYW5kIG1hY2hpbmUgbGVhcm5pbmcgY2FwYWJpbGl0aWVzLicsXG4gICAgY291bnQ6IDE1LFxuICAgIHBvcHVsYXJBUElzOiBbJ09wZW5BSScsICdBbnRocm9waWMnLCAnSHVnZ2luZyBGYWNlJ11cbiAgfSxcbiAge1xuICAgIGlkOiAnZGF0YWJhc2UnLFxuICAgIG5hbWU6ICdEYXRhYmFzZScsXG4gICAgZGVzY3JpcHRpb246ICdEYXRhYmFzZSBzZXJ2aWNlcyBhbmQgZGF0YSBtYW5hZ2VtZW50IHNvbHV0aW9ucy4nLFxuICAgIGNvdW50OiAxMCxcbiAgICBwb3B1bGFyQVBJczogWydTdXBhYmFzZScsICdNb25nb0RCJywgJ1BsYW5ldFNjYWxlJ11cbiAgfSxcbiAge1xuICAgIGlkOiAnY29tbXVuaWNhdGlvbicsXG4gICAgbmFtZTogJ0NvbW11bmljYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnRW1haWwsIFNNUywgcHVzaCBub3RpZmljYXRpb25zLCBhbmQgbWVzc2FnaW5nIHNlcnZpY2VzLicsXG4gICAgY291bnQ6IDEyLFxuICAgIHBvcHVsYXJBUElzOiBbJ1R3aWxpbycsICdTZW5kR3JpZCcsICdQdXNoZXInXVxuICB9LFxuICB7XG4gICAgaWQ6ICdzb2NpYWwnLFxuICAgIG5hbWU6ICdTb2NpYWwgTWVkaWEnLFxuICAgIGRlc2NyaXB0aW9uOiAnU29jaWFsIHBsYXRmb3JtIGludGVncmF0aW9ucyBhbmQgc29jaWFsIGF1dGhlbnRpY2F0aW9uLicsXG4gICAgY291bnQ6IDgsXG4gICAgcG9wdWxhckFQSXM6IFsnVHdpdHRlciBBUEknLCAnRmFjZWJvb2sgR3JhcGgnLCAnSW5zdGFncmFtJ11cbiAgfSxcbiAge1xuICAgIGlkOiAnbWFwcycsXG4gICAgbmFtZTogJ01hcHMgJiBMb2NhdGlvbicsXG4gICAgZGVzY3JpcHRpb246ICdNYXBwaW5nLCBnZW9sb2NhdGlvbiwgYW5kIGxvY2F0aW9uLWJhc2VkIHNlcnZpY2VzLicsXG4gICAgY291bnQ6IDYsXG4gICAgcG9wdWxhckFQSXM6IFsnR29vZ2xlIE1hcHMnLCAnTWFwYm94JywgJ0hFUkUgTWFwcyddXG4gIH0sXG4gIHtcbiAgICBpZDogJ2FuYWx5dGljcycsXG4gICAgbmFtZTogJ0FuYWx5dGljcycsXG4gICAgZGVzY3JpcHRpb246ICdUcmFjayB1c2VyIGJlaGF2aW9yLCBwZXJmb3JtYW5jZSwgYW5kIGJ1c2luZXNzIG1ldHJpY3MuJyxcbiAgICBjb3VudDogOCxcbiAgICBwb3B1bGFyQVBJczogWydHb29nbGUgQW5hbHl0aWNzJywgJ01peHBhbmVsJywgJ0FtcGxpdHVkZSddXG4gIH0sXG4gIHtcbiAgICBpZDogJ2Vjb21tZXJjZScsXG4gICAgbmFtZTogJ0UtY29tbWVyY2UnLFxuICAgIGRlc2NyaXB0aW9uOiAnU2hvcHBpbmcgY2FydCwgaW52ZW50b3J5LCBhbmQgZS1jb21tZXJjZSBmdW5jdGlvbmFsaXR5LicsXG4gICAgY291bnQ6IDEwLFxuICAgIHBvcHVsYXJBUElzOiBbJ1Nob3BpZnknLCAnV29vQ29tbWVyY2UnLCAnQmlnQ29tbWVyY2UnXVxuICB9LFxuICB7XG4gICAgaWQ6ICdwcm9kdWN0aXZpdHknLFxuICAgIG5hbWU6ICdQcm9kdWN0aXZpdHknLFxuICAgIGRlc2NyaXB0aW9uOiAnRG9jdW1lbnQgbWFuYWdlbWVudCwgY2FsZW5kYXJzLCBhbmQgd29ya2Zsb3cgYXV0b21hdGlvbi4nLFxuICAgIGNvdW50OiA5LFxuICAgIHBvcHVsYXJBUElzOiBbJ0dvb2dsZSBXb3Jrc3BhY2UnLCAnTWljcm9zb2Z0IDM2NScsICdOb3Rpb24nXVxuICB9LFxuICB7XG4gICAgaWQ6ICdtZWRpYScsXG4gICAgbmFtZTogJ01lZGlhIFByb2Nlc3NpbmcnLFxuICAgIGRlc2NyaXB0aW9uOiAnSW1hZ2UsIHZpZGVvLCBhbmQgYXVkaW8gcHJvY2Vzc2luZyBhbmQgbWFuaXB1bGF0aW9uLicsXG4gICAgY291bnQ6IDcsXG4gICAgcG9wdWxhckFQSXM6IFsnQ2xvdWRpbmFyeScsICdJbWFnZUtpdCcsICdNdXgnXVxuICB9XG5dXG5cbi8vIEhlbHBlciBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxBUElzKCk6IEFQSVRlbXBsYXRlW10ge1xuICByZXR1cm4gYXBpVGVtcGxhdGVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBUElCeVNsdWcoc2x1Zzogc3RyaW5nKTogQVBJVGVtcGxhdGUgfCBudWxsIHtcbiAgcmV0dXJuIGFwaVRlbXBsYXRlcy5maW5kKGFwaSA9PiBhcGkuc2x1ZyA9PT0gc2x1ZykgfHwgbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QVBJc0J5Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZyk6IEFQSVRlbXBsYXRlW10ge1xuICBpZiAoY2F0ZWdvcnkgPT09ICdhbGwnKSByZXR1cm4gYXBpVGVtcGxhdGVzXG4gIHJldHVybiBhcGlUZW1wbGF0ZXMuZmlsdGVyKGFwaSA9PiBhcGkuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjYXRlZ29yeS50b0xvd2VyQ2FzZSgpKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKTogQ2F0ZWdvcnlbXSB7XG4gIHJldHVybiBjYXRlZ29yaWVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3B1bGFyQVBJcygpOiBBUElUZW1wbGF0ZVtdIHtcbiAgcmV0dXJuIGFwaVRlbXBsYXRlc1xuICAgIC5maWx0ZXIoYXBpID0+IGFwaS5wb3B1bGFyaXR5ICYmIGFwaS5wb3B1bGFyaXR5ID49IDkwKVxuICAgIC5zb3J0KChhLCBiKSA9PiAoYi5wb3B1bGFyaXR5IHx8IDApIC0gKGEucG9wdWxhcml0eSB8fCAwKSlcbiAgICAuc2xpY2UoMCwgOSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhdGVnb3J5SWNvbihjYXRlZ29yeUlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBpY29uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAncGF5bWVudCc6ICfwn5KzJyxcbiAgICAnYXV0aCc6ICfwn5SQJyxcbiAgICAnc3RvcmFnZSc6ICfimIHvuI8nLFxuICAgICdhaSc6ICfwn6SWJyxcbiAgICAnZGF0YWJhc2UnOiAn8J+XhO+4jycsXG4gICAgJ2NvbW11bmljYXRpb24nOiAn8J+TqCcsXG4gICAgJ3NvY2lhbCc6ICfwn5GlJyxcbiAgICAnbWFwcyc6ICfwn5e677iPJyxcbiAgICAnYW5hbHl0aWNzJzogJ/Cfk4onLFxuICAgICdlY29tbWVyY2UnOiAn8J+bkicsXG4gICAgJ3Byb2R1Y3Rpdml0eSc6ICfimqEnLFxuICAgICdtZWRpYSc6ICfwn46sJ1xuICB9XG4gIFxuICByZXR1cm4gaWNvbnNbY2F0ZWdvcnlJZF0gfHwgJ/CflKcnXG59Il0sIm5hbWVzIjpbImFwaVRlbXBsYXRlcyIsImlkIiwic2x1ZyIsIm5hbWUiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwiaWNvbiIsImZlYXR1cmVzIiwicG9wdWxhcml0eSIsImRvY3VtZW50YXRpb24iLCJjb2RlVGVtcGxhdGVzIiwiamF2YXNjcmlwdCIsInZhbmlsbGEiLCJyZWFjdCIsInR5cGVzY3JpcHQiLCJweXRob24iLCJkamFuZ28iLCJwaHAiLCJnbyIsInJ1c3QiLCJjYXRlZ29yaWVzIiwiY291bnQiLCJwb3B1bGFyQVBJcyIsImdldEFsbEFQSXMiLCJnZXRBUElCeVNsdWciLCJmaW5kIiwiYXBpIiwiZ2V0QVBJc0J5Q2F0ZWdvcnkiLCJmaWx0ZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZ2V0Q2F0ZWdvcmllcyIsImdldFBvcHVsYXJBUElzIiwic29ydCIsImEiLCJiIiwic2xpY2UiLCJnZXRDYXRlZ29yeUljb24iLCJjYXRlZ29yeUlkIiwiaWNvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/api-data.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/lucide-react","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5Bslug%5D%2Fpage&page=%2Fapi%2F%5Bslug%5D%2Fpage&appPaths=%2Fapi%2F%5Bslug%5D%2Fpage&pagePath=private-next-app-dir%2Fapi%2F%5Bslug%5D%2Fpage.tsx&appDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cvs%20code%20projects%5Cboilerplate%20code%20webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();